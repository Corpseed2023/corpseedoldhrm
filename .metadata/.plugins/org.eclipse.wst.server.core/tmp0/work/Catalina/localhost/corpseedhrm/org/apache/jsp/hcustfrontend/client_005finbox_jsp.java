/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.76
 * Generated at: 2023-09-22 13:56:46 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.hcustfrontend;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.Properties;
import admin.enquiry.Enquiry_ACT;
import admin.master.Usermaster_ACT;
import commons.DateUtil;
import java.util.Calendar;
import java.text.SimpleDateFormat;
import java.text.DateFormat;
import hcustbackend.ClientACT;
import admin.Login.LoginAction;
import hcustbackend.ClientACT;

public final class client_005finbox_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(4);
    _jspx_dependants.put("/hcustfrontend/includes/client_header_menu.jsp", Long.valueOf(1672393721511L));
    _jspx_dependants.put("/hcustfrontend/includes/client-footer-js.jsp", Long.valueOf(1670913111283L));
    _jspx_dependants.put("/hcustfrontend/includes/checkvalid_client.jsp", Long.valueOf(1644210750000L));
    _jspx_dependants.put("/hcustfrontend/includes/client-header-css.jsp", Long.valueOf(1644210750000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("admin.master.Usermaster_ACT");
    _jspx_imports_classes.add("java.util.Properties");
    _jspx_imports_classes.add("java.util.Calendar");
    _jspx_imports_classes.add("hcustbackend.ClientACT");
    _jspx_imports_classes.add("admin.Login.LoginAction");
    _jspx_imports_classes.add("admin.enquiry.Enquiry_ACT");
    _jspx_imports_classes.add("commons.DateUtil");
    _jspx_imports_classes.add("java.text.SimpleDateFormat");
    _jspx_imports_classes.add("java.text.DateFormat");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("<!doctype html>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("<head>  \r\n");
      out.write("  <meta charset=\"utf-8\">\r\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n");
      out.write("<!-- for fakeloading -->\r\n");
      out.write("   \r\n");
      out.write("    ");
      out.write("<link rel=\"shortcut icon\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/favicon.png\" type=\"image/ico\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/fakeLoader.min.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/font.min.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/jquery-ui.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/bootstrap.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/style.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/media.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/datepicker.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/jquery.timepicker.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/error.css\">\r\n");
      out.write("<!-- for animation -->\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/animate.css\">\r\n");
      out.write("<!-- for top scroll -->\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdcss/material-scrolltop.css\">\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/hcustfrontend/fntdcss/daterangepicker.css\" media=\"all\"/>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery.dataTables.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/buttons.dataTables.min.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/responsive.dataTables.min.css\" media=\"all\"/>");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("    <title>CorpSeed-inbox</title>\r\n");
      out.write("<style type=\"text/css\">\r\n");
      out.write(".header,.box-orders,.messages{\r\n");
      out.write("margin-bottom: 0px !important;}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<body id=\"mySite\" style=\"display: block\">\r\n");
      out.write("\r\n");
      out.write('\r');
      out.write('\n');

// response.setHeader("Cache-Control","no-cache");  
// response.setHeader("Cache-Control","no-store");  
// response.setDateHeader("Expires", -1);
response.setHeader("Cache-Control", "no-cache");
response.setHeader("Cache-Control", "no-store");
response.setDateHeader("Expires", 0);
response.setHeader("Pragma", "no-cache");

String uavalidtokenno1111= (String)session.getAttribute("uavalidtokenno");
String uaIsValid1= (String)session.getAttribute("loginuID");
if(uaIsValid1== null || uaIsValid1.equals("") || uavalidtokenno1111== null || uavalidtokenno1111.equals("")){

      out.write('\r');
      out.write('\n');
      if (true) {
        _jspx_page_context.forward("/login.html");
        return;
      }
      out.write('\r');
      out.write('\n');
}
      out.write('\r');
      out.write('\n');
      out.write(" \r\n");
      out.write("<!-- main content starts -->\r\n");


Properties properties = new Properties();
properties.load(getServletContext().getResourceAsStream("/staticresources/properties"));
String domain=properties.getProperty("domain");
String azure_path=properties.getProperty("azure_path");

String doAction=(String)session.getAttribute("ClientInboxDoAction");
if(doAction==null||doAction.length()<=0)doAction="All";
//getting data if request from orders
String forwardSalesKey=request.getParameter("skey");
String forwardProjectNo=request.getParameter("pno");
String forwardProjectName=request.getParameter("pname");
String forwardCloseDate=request.getParameter("cdate");

if(forwardSalesKey==null||forwardSalesKey.length()<=0&&!forwardSalesKey.equalsIgnoreCase("NA"))forwardSalesKey="NA";
if(forwardProjectNo==null||forwardProjectNo.length()<=0&&!forwardProjectNo.equalsIgnoreCase("NA"))forwardProjectNo="NA";
if(forwardProjectName==null||forwardProjectName.length()<=0&&!forwardProjectName.equalsIgnoreCase("NA"))forwardProjectName="NA";
if(forwardCloseDate==null||forwardCloseDate.length()<=0&&!forwardCloseDate.equalsIgnoreCase("NA"))forwardCloseDate="NA";

//get token no from session
String token=(String)session.getAttribute("uavalidtokenno");
//String uaempid=(String)session.getAttribute("cluaempid");
String loginuaid = (String) session.getAttribute("loginuaid");
// String userRole=(String)session.getAttribute("userRole");
// if(userRole==null||userRole.length()<=0)userRole="NA";

// String userName=Usermaster_ACT.getLoginUserName(loginuaid, token);
/* String clientrefid=ClientACT.getClientRefId(uaempid,token); */ 

// if(!forwardSalesKey.equalsIgnoreCase("NA")){
// 	forwardCloseDate=Enquiry_ACT.getSalesCloseDate(forwardSalesKey, token);
// }

/* String client[][]=ClientACT.getClientByNo(clientrefid,token); */

//fetching date
String today =DateUtil.getCurrentDateIndianFormat1();
String time=DateUtil.getCurrentTime();

// String projects[][]=ClientACT.getAllProjectsById(clientid,clientfrom,clientto,include,sortby,token,sprjno,sprjname);   


      out.write("\r\n");
      out.write("\r\n");
      out.write("<section class=\"main clearfix\">\r\n");
      out.write("  \r\n");
      out.write("  ");
      out.write('\r');
      out.write('\n');
 
String urlpage=request.getParameter("uid");
if(urlpage==null||urlpage.length()<=0)urlpage="NA";
if(!urlpage.equalsIgnoreCase("client_orders.html")){
	//removing client order action
	session.removeAttribute("ClientOrderDoAction");
	session.removeAttribute("ClientOrderSearchDoAction");
	session.removeAttribute("searchFromToDate");
	session.removeAttribute("searchOrderSorting");
	session.removeAttribute("orderPageLimit");
	session.removeAttribute("orderPageStart");
	session.removeAttribute("orderPageEnd");
}if(!urlpage.equalsIgnoreCase("client_inbox.html")){
	//removing client order action
	session.removeAttribute("ClientInboxDoAction");	
}
if(!urlpage.equalsIgnoreCase("client_documents.html")&&!urlpage.contains("viewalldocuments-")){
	//removing client doc action
	session.removeAttribute("doActionDocuments");
	session.removeAttribute("searchFolderDocuments");
	session.removeAttribute("searchFromToDocDate");
	session.removeAttribute("searchDocumentSorting");
	session.removeAttribute("clientDocumentPageLimit");
	session.removeAttribute("clientDocumentPageStart");
	session.removeAttribute("clientDocumentPageEnd");
}
if(!urlpage.contains("viewalldocuments-")){
	//removing client doc action
	session.removeAttribute("documentPageLimit");
	session.removeAttribute("documentPageStart");
	session.removeAttribute("documentPageEnd");
	session.removeAttribute("DocOfClientAgent");
}if(!urlpage.equalsIgnoreCase("all-notifications.html")){
	//removing client order action
	session.removeAttribute("notisearchFromToDate");
}if(!urlpage.equalsIgnoreCase("client_payments.html")){
	//removing client order action
	session.removeAttribute("ClientOrderSearchInvoice");
	session.removeAttribute("PaymentSearchFromToDate");
	session.removeAttribute("PaymentSearchOrderSorting");
	session.removeAttribute("paymentPageLimit");
	session.removeAttribute("paymentPageStart");
	session.removeAttribute("paymentPageEnd");
}
String userRole=(String)session.getAttribute("userRole");
if(userRole==null||userRole.length()<=0)userRole="NA";
String userName=(String)session.getAttribute("loginclname");
if(userName==null||userName.length()<=0)userName="NA";

String profileName=userName.substring(0,1);
if(userName.contains(" "))profileName+=userName.substring(userName.indexOf(" ")+1,userName.indexOf(" ")+2);
else profileName+=userName.substring(1,2); 

      out.write("\r\n");
      out.write("<header class=\"header\"> \r\n");
      out.write("    <div class=\"container-fluid\"> \r\n");
      out.write("    <div class=\"container\">\r\n");
      out.write("      <div class=\"row\">\r\n");
      out.write("        <div class=\"col-sm-3 col-12\"> \r\n");
      out.write("        <div class=\"logo\"> \r\n");
      out.write("            <a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_dashboard.html\" style=\"display: inline-block;\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/logo.png\" alt=\"\"></a>\r\n");
      out.write("        </div>       \r\n");
      out.write("        </div>          \r\n");
      out.write("        <div class=\"col-sm-9 col-12\"> \r\n");
      out.write("         <div class=\"top_menu text-right\">\r\n");
      out.write("          <ul>		  \r\n");
      out.write("		  <li");
if(urlpage.equalsIgnoreCase("client_orders.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">            \r\n");
      out.write("            <a class=\"\" href=\"");
      out.print(request.getContextPath() );
      out.write("/client_orders.html\"><i class=\"fa fa-archive menu_icon\"></i><span>Your Orders</span></a>\r\n");
      out.write("          </li>\r\n");
      out.write("		  <li");
if(urlpage.equalsIgnoreCase("client_inbox.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">            \r\n");
      out.write("            <a class=\"\" href=\"");
      out.print(request.getContextPath() );
      out.write("/client_inbox.html\"><i class=\"fas fa-comment-dots menu_icon\" aria-hidden=\"true\"></i><span>Chat</span></a>\r\n");
      out.write("          </li>\r\n");
      out.write("		  <li");
if(urlpage.equalsIgnoreCase("client_documents.html")||urlpage.contains("viewalldocuments-")){ 
      out.write(" class=\"active\"");
}
      out.write(">            \r\n");
      out.write("            <a class=\"\" href=\"");
      out.print(request.getContextPath() );
      out.write("/client_documents.html\"><i class=\"fa fa-file-alt menu_icon\" aria-hidden=\"true\"></i><span>Doc Wallet</span></a>\r\n");
      out.write("          </li>\r\n");
      out.write("		  <li");
if(urlpage.equalsIgnoreCase("client_payments.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">            \r\n");
      out.write("            <a class=\"\" href=\"");
      out.print(request.getContextPath() );
      out.write("/client_payments.html\"><i class=\"fas fa-money-check menu_icon\" aria-hidden=\"true\"></i><span>Payments</span></a>\r\n");
      out.write("          </li>\r\n");
      out.write("		  <li");
if(urlpage.equalsIgnoreCase("my_profile.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">\r\n");
      out.write("          <a class=\"setting\"  href=\"javascript:void(0)\"><i class=\"fas fa-user menu_icon\" aria-hidden=\"true\"></i><span>Profile</span></a>  \r\n");
      out.write("        <ul class=\"sub-menu\">\r\n");
      out.write("			<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_dashboard.html\">Dashboard</a></li>\r\n");
      out.write("			<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/my_profile.html\">My Profile</a></li>\r\n");
      out.write("\r\n");
      out.write("			<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/logout.html\">LogOut</a></li> \r\n");
      out.write("		  </ul> \r\n");
      out.write("          </li>\r\n");
      out.write("          ");

          String clientloginuaid = (String) session.getAttribute("loginClintUaid");  
          
          String notificationtoken=(String)session.getAttribute("uavalidtokenno");          
          int notification=ClientACT.getTotalUnseenNotification(notificationtoken,clientloginuaid); 
          String notifications[][]=ClientACT.getAllClientNotification(notificationtoken,clientloginuaid);
          
      out.write("\r\n");
      out.write("          <li> \r\n");
      out.write("          \r\n");
      out.write("            <a href=\"javascript:void(0)\" class=\"notification\" onclick=\"markAllAsReadNotification('");
      out.print(notification);
      out.write("')\"><i class=\"far fa-bell \">");
if(notification>0){ 
      out.write("<span id=\"totalNotification\">");
      out.print(notification);
      out.write("</span>");
} 
      out.write("</i></a>\r\n");
      out.write("             <a href=\"");
      out.print(request.getContextPath() );
      out.write("/all-notifications.html\" class=\"notification_mobile\" onclick=\"markAllAsReadNotification('");
      out.print(notification);
      out.write("')\"><i class=\"fa fa-bell \">");
if(notification>0){ 
      out.write("<small>");
      out.print(notification);
      out.write("</small>");
} 
      out.write("</i><span  id=\"totalNotification_mobile\">Notification</span></a>\r\n");
      out.write("            <div class=\"notification_box pullDown\">                            \r\n");
      out.write("			  <ul>\r\n");
      out.write("			  ");
if(notifications!=null&&notifications.length>0){
				  for(int i=0;i<notifications.length;i++){
				  
      out.write("             \r\n");
      out.write("              <li class=\"clearfix\">\r\n");
      out.write("                <a href=\"javascript:void(0)\" onclick=\"markAsReadNotification('");
      out.print(notifications[i][2] );
      out.write("')\">                \r\n");
      out.write("                <div class=\"clearfix pro_box text-left\">\r\n");
      out.write("                    <div class=\"clearfix icon_box\">\r\n");
      out.write("                     <i class=\"");
      out.print(notifications[i][4] );
      out.write(" icon-circle\" aria-hidden=\"true\"></i>\r\n");
      out.write("                    </div> \r\n");
      out.write("                    <div class=\"clearfix pro_info\"> \r\n");
      out.write("                    <h6>");
      out.print(notifications[i][3] );
      out.write("</h6>\r\n");
      out.write("                    <div class=\"clearfix date_box\">");
      out.print(notifications[i][1] );
      out.write("</div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                 </div>                 \r\n");
      out.write("                </a>\r\n");
      out.write("              </li>\r\n");
      out.write("              ");
}}else{ 
      out.write("\r\n");
      out.write("              <div class=\"text-center text-muted\">No data found !!</div>\r\n");
      out.write("              ");
} 
      out.write("\r\n");
      out.write("			  </ul> \r\n");
      out.write("			  <div class=\"text-center\"><a href=\"");
      out.print(request.getContextPath() );
      out.write("/all-notifications.html\">View All &nbsp;<i class=\"fa fa-angle-right\"></i></a></div>             \r\n");
      out.write("            </div>\r\n");
      out.write("          </li>\r\n");
      out.write("          </ul>\r\n");
      out.write("          </div>\r\n");
      out.write("        </div>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    </div>\r\n");
      out.write("</header>\r\n");
      out.write("\r\n");
      out.write("<div class=\"sidebar\">\r\n");
      out.write("<a href=\"#\" class=\"backbtnn\"><i class=\"fa fa-arrow-left\"></i>\r\n");
      out.write("</a>\r\n");
      out.write("<div class=\"user_prof\">\r\n");
      out.write("<div class=\"user_thumb\"> \r\n");
      out.write("<h3>");
      out.print(userName );
      out.write("</h3>\r\n");
      out.write("<figure> <span class=\"prof_name\">");
      out.print(profileName );
      out.write("</span> </figure>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"user_detail\">\r\n");
      out.write("<div class=\"clearfix\"> \r\n");
      out.write("<a href=\"#\" data-toggle=\"modal\" data-target=\"#updatepass\">Update Password</a>\r\n");
      out.write("<!--  <span>Noida, India</span>   -->\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"top_menu menu_notification\">\r\n");
      out.write(" <ul>\r\n");
      out.write("<span>Settings</span>\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/my_profile.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/profile.svg\" alt=\"\">My Profile</a></li>\r\n");
      out.write("\r\n");
      out.write("<li id=\"client_payments\">           \r\n");
      out.write("  <a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_payments.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/payment.svg\" alt=\"\">Payments</a>\r\n");
      out.write("</li>\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/all-notifications.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/bell.svg\" alt=\"\">Notification</a></li>\r\n");
      out.write(" </ul></div>\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/logout.html\" class=\"logoutbtnn\"> Logout</a>\r\n");
      out.write("</div>");
      out.write("  \r\n");
      out.write("  \r\n");
      out.write("  <section class=\"main-order inbox clearfix\">\r\n");
      out.write("  <div class=\"container-fluid\">\r\n");
      out.write("    <div class=\"container\">\r\n");
      out.write("      <div class=\"row\">\r\n");
      out.write("        <div class=\"col-12 p-0\">\r\n");
      out.write("          <div class=\"box-orders inbox-box\">\r\n");
      out.write("            \r\n");
      out.write("<!-- message box starts -->\r\n");
      out.write("    <div class=\"row sticky_top\">\r\n");
      out.write("  <div class=\"col-12\">\r\n");
      out.write("    <div class=\"chatprocess pt-2\">\r\n");
      out.write("			   \r\n");
      out.write("		  	<a href=\"javascript:void(0)\" class=\"mobilesearchico\"> <i class=\"fa fa-search \" aria-hidden=\"true\"></i> </a>\r\n");
      out.write("		  	 <div class=\"pageheading\">\r\n");
      out.write("          <h2>Chat</h2>\r\n");
      out.write("          </div>\r\n");
      out.write("		  	</div>\r\n");
      out.write("		  	<form method=\"post\" class=\"mobile_menuu\">\r\n");
      out.write("			<ul class=\"mbt12 clearfix filter_menu pointers chatinbox\">\r\n");
      out.write("			<li onclick=\"doAction('All','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("All")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>All</a></li>  \r\n");
      out.write("			<li onclick=\"doAction('Unread','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("Unread")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>Unread</a></li>\r\n");
      out.write("			<li onclick=\"doAction('Completed','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("Completed")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>Completed</a></li> \r\n");
      out.write("			</ul> \r\n");
      out.write("            <div class=\"clearfix inbox_top_box\"> \r\n");
      out.write("			<div class=\"m_width80 inbox_input chatsearch\">\r\n");
      out.write("            <input type=\"Search\" class=\"form-control-inbox\" id=\"SearchOrderMobile\" autocomplete=\"off\" oninput=\"getProjectList(this.value)\" placeholder=\"Search\"> \r\n");
      out.write("            <i class=\"fa fa-search\" aria-hidden=\"true\"></i> 			\r\n");
      out.write("			</div>\r\n");
      out.write("			<i class=\"fas fa-long-arrow-alt-left chatico\" id=\"backico\"></i>\r\n");
      out.write("			\r\n");
      out.write("            <div class=\"inbox-chatlist\"> \r\n");
      out.write("              <button type=\"button\"><i class=\"far fa-comment-alt icon-circle\"></i></button>\r\n");
      out.write("              <button type=\"button\"><i class=\"far fa-user icon-circle\"></i></button>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("            </form>\r\n");
      out.write("            </div>\r\n");
      out.write("		  	</div>\r\n");
      out.write("<!-- left part starts -->\r\n");
      out.write("          <div class=\"relative_box chat col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 pl-xl-3 pl-lg-3 pl-md-0 pl-sm-0 pl-xl-0 pl-lg-0 pl-md-3 pl-sm-3 pl-3\">\r\n");
      out.write("			<div class=\"messages clearfix\" id=\"message-border\">\r\n");
      out.write("			\r\n");
      out.write("            <div class=\"clearfix box_width40\">\r\n");
      out.write("			<form method=\"post\" class=\"sys_menu\">\r\n");
      out.write("			<ul class=\"mbt12 clearfix filter_menu pointers chatinbox\">\r\n");
      out.write("			<li onclick=\"doAction('All','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("All")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>All</a></li>  \r\n");
      out.write("			<li onclick=\"doAction('Unread','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("Unread")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>Unread</a></li>\r\n");
      out.write("			<li onclick=\"doAction('Completed','ClientInboxDoAction')\" ");
if(doAction.equalsIgnoreCase("Completed")){ 
      out.write("class=\"active\"");
} 
      out.write("><a>Completed</a></li> \r\n");
      out.write("			</ul> \r\n");
      out.write("            <div class=\"clearfix inbox_top_box\"> \r\n");
      out.write("			<div class=\"m_width80 inbox_input chatsearch\">\r\n");
      out.write("            <input type=\"Search\" class=\"form-control-inbox\" id=\"SearchOrder\" autocomplete=\"off\" oninput=\"getProjectList(this.value)\" placeholder=\"Search\"> \r\n");
      out.write("            <i class=\"fa fa-search\" aria-hidden=\"true\"></i> 			\r\n");
      out.write("			</div>\r\n");
      out.write("			<i class=\"fas fa-long-arrow-alt-left chatico\" id=\"backico\"></i>\r\n");
      out.write("			\r\n");
      out.write("            <div class=\"inbox-chatlist\"> \r\n");
      out.write("              <button type=\"button\"><i class=\"far fa-comment-alt icon-circle\"></i></button>\r\n");
      out.write("              <button type=\"button\"><i class=\"far fa-user icon-circle\"></i></button>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("            </form> \r\n");
      out.write("            <div class=\"row\">\r\n");
      out.write("        <div class=\"col-sm-12 bg_whitee chat_bg\">\r\n");
      out.write("			<div class=\"clearfix messages_box bg_wht mt-2 chat_detail\">  \r\n");
      out.write("            <div class=\"clearfix message_titlebox\">  \r\n");
      out.write("            <div class=\"clearfix\" id=\"ProjectListBoxId\"></div> \r\n");
      out.write("       ");
String projects[][]=ClientACT.getAllProjectsById(loginuaid,token,doAction,"NA","NA","desc",0,0,userRole);    
            if(projects!=null&&projects.length>0){
            	for(int i=0;i<projects.length;i++){ 
            	String productName=projects[i][7];
            	String profileName1=projects[i][7].substring(0,1);
            	if(projects[i][7].contains(" "))profileName1+=projects[i][7].substring(projects[i][7].indexOf(" ")+1,projects[i][7].indexOf(" ")+2);
            	else profileName1+=projects[i][7].substring(1,2);            	
            	
      out.write("\r\n");
      out.write("              <div class=\"message-title pointers nameOfProjects\" id=\"");
      out.print(projects[i][0] );
      out.write("\" data-toggle=\"collapse\" onClick=\"ShowAllChats('");
      out.print(projects[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(projects[i][2] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(projects[i][7] );
      out.write("','BoxId");
      out.print(projects[i][2]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(projects[i][15] );
      out.write("');\">\r\n");
      out.write("                 <div class=\"clearfix pro_box mobile\">\r\n");
      out.write("                    <div class=\"clearfix icon_box\">\r\n");
      out.write("                     <figure> <span class=\"prof_name\">");
      out.print(profileName1.toUpperCase() );
      out.write("</span> </figure>\r\n");
      out.write("                    </div> \r\n");
      out.write("                    <div class=\"clearfix pro_info\"> \r\n");
      out.write("                    <h2 class=\"clearfix justify_box ");
if(!projects[i][14].equalsIgnoreCase("0")){
      out.write("unseenChat");
}
      out.write("\"><label class=\"pointers\"> : ");
      out.print(projects[i][2] );
      out.write("</label><span></span></h2>\r\n");
      out.write("                    ");
if(!projects[i][14].equalsIgnoreCase("0")){
      out.write("<span class=\"chatUnseen\" id=\"BoxId");
      out.print(projects[i][2]);
      out.write('"');
      out.write('>');
      out.print(projects[i][14] );
      out.write("</span>");
} 
      out.write("\r\n");
      out.write("                    <h6 class=\"clearfix justify_box  ");
if(!projects[i][14].equalsIgnoreCase("0")){
      out.write("unseenChat");
}
      out.write("\"><label class=\"pointers\">");
      out.print(projects[i][7] );
      out.write("</label><span></span></h6>\r\n");
      out.write("                    </div>\r\n");
      out.write("                  </div>\r\n");
      out.write("               </div>\r\n");
      out.write("              ");
}}else{ 
      out.write("\r\n");
      out.write("              <div class=\"clearfix text-center text-danger noDataFound\">You have no new message !!</div>\r\n");
      out.write("              ");
} 
      out.write("\r\n");
      out.write("             </div>\r\n");
      out.write("			 </div>\r\n");
      out.write("             </div>\r\n");
      out.write("              </div>\r\n");
      out.write("             </div>\r\n");
      out.write("             <div class=\"clearfix box_width60 bg_wht messages_box mbox_ht\">                 \r\n");
      out.write("          \r\n");
      out.write("             <div id=\"NoChat\" class=\"notSelectedProject\">\r\n");
      out.write("             <h3 class=\"far fa-comment-dots text-warning\" aria-hidden=\"true\"></h3>\r\n");
      out.write("             <h5 class=\"text-primary\">Select On Project To Chat !!</h5>\r\n");
      out.write("             </div>\r\n");
      out.write("			 \r\n");
      out.write("             <div class=\"bg_wht chat_box collapse show\">\r\n");
      out.write("			 \r\n");
      out.write("			 <div class=\"message_head\"> \r\n");
      out.write("			 <div class=\"row\"> \r\n");
      out.write("			 <div class=\"col-lg-10 col-md-10 col-sm-10 barrow\">\r\n");
      out.write("			 <h3 id=\"ActiveProjectId\"></h3>\r\n");
      out.write("			<i class=\"fas fa-arrow-left\" class=\"barrowicon\"></i>\r\n");
      out.write("			 </div>\r\n");
      out.write("			 <div class=\"col-lg-2 col-md-2 col-sm-2 puser_hide\">  \r\n");
      out.write("			 <div class=\"chat_user pointers\">\r\n");
      out.write("			 <i class=\"fas fa-user-cog icon-circle userradius\" aria-hidden=\"true\"></i>			 \r\n");
      out.write("			 </div>\r\n");
      out.write("			 </div>\r\n");
      out.write("			 </div>\r\n");
      out.write("			 </div>\r\n");
      out.write("			 \r\n");
      out.write("             <div class=\"chat_detail\"> \r\n");
      out.write("             <div class=\"message-details\"> \r\n");
      out.write("             <div class=\"spinner-grow spinner-grow-sm\" role=\"status\">\r\n");
      out.write("  <span class=\"sr-only\">Loading...</span>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"spinner-grow spinner-grow-sm\" role=\"status\">\r\n");
      out.write("  <span class=\"sr-only\">Loading...</span>\r\n");
      out.write("</div>  \r\n");
      out.write("<div class=\"spinner-grow spinner-grow-sm\" role=\"status\">\r\n");
      out.write("  <span class=\"sr-only\">Loading...</span>\r\n");
      out.write("</div>                          \r\n");
      out.write("             <div id=\"AddChat\"></div>\r\n");
      out.write("             <div id=\"scrolling-messages\" class=\"scrolling-messages\"></div>\r\n");
      out.write("<!--              review start -->\r\n");
      out.write("			<form onsubmit=\"return false;\" class=\"review-form-box\">\r\n");
      out.write("			<div class=\"col-md-12 review-box\">\r\n");
      out.write("             <div class=\"row\">\r\n");
      out.write("			        <span class=\"circle\">");
      out.print(userName.toUpperCase().charAt(0) );
      out.write("</span><span class=\"circle_name\">");
      out.print(userName );
      out.write("</span>\r\n");
      out.write("			 </div>\r\n");
      out.write("			    \r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<div class=\"clearfix ratingview\">\r\n");
      out.write("			<div class=\"row\">\r\n");
      out.write("			    <h6 id=\"Rating_Service\">Rating : NBFC Basic</h6>\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"row\">\r\n");
      out.write("			<div class=\"stars\">\r\n");
      out.write("				<input type=\"radio\" name=\"star\" value=\"1\" class=\"star-1\" id=\"star1\">\r\n");
      out.write("				<label class=\"star-1\" for=\"star-1\" onclick=\"checkedMe('star1','about_like','1')\">1</label>\r\n");
      out.write("				<input type=\"radio\" name=\"star\" value=\"2\" class=\"star-2\" id=\"star2\">\r\n");
      out.write("				<label class=\"star-2\" for=\"star-2\" onclick=\"checkedMe('star2','about_like','2')\">2</label>\r\n");
      out.write("				<input type=\"radio\" name=\"star\" value=\"3\" class=\"star-3\" id=\"star3\">\r\n");
      out.write("				<label class=\"star-3\" for=\"star-3\" onclick=\"checkedMe('star3','about_like','3')\">3</label>\r\n");
      out.write("				<input type=\"radio\" name=\"star\" value=\"4\" class=\"star-4\" id=\"star4\">\r\n");
      out.write("				<label class=\"star-4\" for=\"star-4\" onclick=\"checkedMe('star4','about_like','4')\">4</label>\r\n");
      out.write("				<input type=\"radio\" name=\"star\" value=\"5\" class=\"star-5\" id=\"star5\">\r\n");
      out.write("				<label class=\"star-5\" for=\"star-5\" onclick=\"checkedMe('star5','about_like','5')\">5</label>\r\n");
      out.write("				<span></span>\r\n");
      out.write("			</div>\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"col-md-12 about_like d-none pad-left\">\r\n");
      out.write("			<div class=\"row mtop_5\">\r\n");
      out.write("			<h6><b>What do you like about this service?</b></h6>\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"row\">\r\n");
      out.write("			<label class=\"pz89u\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"1\" id=\"service1\" onclick=\"checkedMe1('service1')\"><span class=\" b5bllf\">Good quality</span></label>\r\n");
      out.write("			<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"2\" id=\"service2\" onclick=\"checkedMe1('service2')\"><span class=\" b5bllf\">Good value</span></label>\r\n");
      out.write("			<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"3\" id=\"service3\" onclick=\"checkedMe1('service3')\"><span class=\" b5bllf\">Professional</span></label>\r\n");
      out.write("			<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"4\" id=\"service4\" onclick=\"checkedMe1('service4')\"><span class=\" b5bllf\">Responsive</span></label>\r\n");
      out.write("			</div>\r\n");
      out.write("			</div>\r\n");
      out.write("			</div>\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<div id=\"ExecutiveRating\"></div>\r\n");
      out.write("			\r\n");
      out.write("			</div>			\r\n");
      out.write("			<div class=\"col-md-12 comment\"><div class=\"row\">\r\n");
      out.write("			    <textarea rows=\"4\" cols=\"20\" id=\"ratingComment\" class=\"form-control\" placeholder=\"Share details of your own experience about them..\"></textarea>\r\n");
      out.write("			    </div>\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"col-md-12 text-right mtop1\">\r\n");
      out.write("			    <button class=\"btn btn-primary\" onclick=\"return validRating()\">Submit</button>\r\n");
      out.write("			    \r\n");
      out.write("			</div>\r\n");
      out.write("	</div>\r\n");
      out.write("			</form>\r\n");
      out.write("<!-- review end -->\r\n");
      out.write("             </div>\r\n");
      out.write("             </div>\r\n");
      out.write("             </div>\r\n");
      out.write("             <div class=\"message-send\" id=\"ChatBox\" style=\"display: none;\">\r\n");
      out.write("                <form class=\"form-inline addNewChatFollowUp\" onsubmit=\"return false;\">\r\n");
      out.write("                <input type=\"hidden\" id=\"ProjectSalesKey\" name=\"projectSalesKey\"/>\r\n");
      out.write("                ");
      out.write("\r\n");
      out.write("                <div class=\"clearfix reply_box\">\r\n");
      out.write("                      <div class=\"relative_box menu_list\">\r\n");
      out.write("                      <textarea class=\"form-control-message\" id=\"ChatReplay\" name=\"chatReplyBox\" placeholder=\"Type message here....\" autocomplete=\"off\" style=\"resize: none;overflow: hidden;\"></textarea> \r\n");
      out.write("                      <!-- <span id=\"AddSendMessageDivId\"></span>\r\n");
      out.write("                      <span class=\"icon-circle toggle_btn1\" aria-hidden=\"true\" id=\"SelectedNameId\" style=\"display: none;\"></span>\r\n");
      out.write("                      <i class=\"icon-circle toggle_btn2\" aria-hidden=\"true\" id=\"NotSelectedId\">\r\n");
      out.write("                      <span class=\"fas fa-user-alt\" id=\"setSelectedName\"></span></i> -->\r\n");
      out.write("<!--                       <ul class=\"toggle_box\" id=\"WorkingOnThisProject\"> -->\r\n");
      out.write("                      \r\n");
      out.write("<!--                       </ul> -->\r\n");
      out.write("                      <span class=\"attachment link_btn\">\r\n");
      out.write("                      <i class=\"fas fa-paperclip\" aria-hidden=\"true\"></i>\r\n");
      out.write("                      <input type=\"hidden\" name=\"attachment\" />\r\n");
      out.write("                      </span>\r\n");
      out.write("						<div class=\"attachment_list table_box toggle_box clearfix\">  \r\n");
      out.write("						 \r\n");
      out.write("						 <div class=\"clearfix\" id=\"SalesDocListId\"></div>\r\n");
      out.write("						 					 \r\n");
      out.write("						  <!-- <div class=\"table_content row\"> \r\n");
      out.write("							<div class=\"p-0 col-md-9 col-sm-8 col-12\">\r\n");
      out.write("							<p><i class=\"fas fa-file text-success\" aria-hidden=\"true\"></i>&nbsp;Attach File</p>\r\n");
      out.write("							</div> \r\n");
      out.write("							<div class=\"p-0 col-md-3 col-sm-4 col-12\">      \r\n");
      out.write("							<p class=\"justify-content-end tmobile\">\r\n");
      out.write("							<input type=\"file\" name=\"attachment-file\" onchange=\"fileSize('UploadFileId')\" id=\"UploadFileId\" style=\"display: none;\"/> \r\n");
      out.write("							<a class=\"upload_file\" onclick=\"$('#UploadFileId').click()\"><i class=\"fas fa-file-upload\" aria-hidden=\"true\" title=\"Upload\"></i></a>\r\n");
      out.write("							</p>\r\n");
      out.write("							</div>\r\n");
      out.write("						  </div> -->\r\n");
      out.write("						  \r\n");
      out.write("						  <div class=\"table_content row\">\r\n");
      out.write("						  <div class=\"p-0 col-md-12 col-sm-12\">\r\n");
      out.write("						  <div class=\"custonupload\"> \r\n");
      out.write("							<span><i class=\"fas fa-file text-success\" aria-hidden=\"true\"></i>Attach Documents</span>					\r\n");
      out.write("                            <label for=\"files\">\r\n");
      out.write("                            <span id=\"customfile\"></span>\r\n");
      out.write("                             <i class=\"fas fa-file-upload\" aria-hidden=\"true\" title=\"Upload\"></i></label>\r\n");
      out.write("                             <input id=\"files\" name=\"attachment-file\" style=\"visibility:hidden;\" type=\"file\"> \r\n");
      out.write("                          </div> \r\n");
      out.write("						  </div>\r\n");
      out.write("						  </div>\r\n");
      out.write("						  \r\n");
      out.write("						  \r\n");
      out.write("						</div>\r\n");
      out.write("                      </div>        \r\n");
      out.write("                      <input type=\"hidden\" id=\"SelectedUserUid\" name=\"selectedUserUid\" value=\"NA\">\r\n");
      out.write("                      <input type=\"hidden\" id=\"SelectedUserName\" name=\"selectedUserName\" value=\"NA\">                                      \r\n");
      out.write("                      <button type=\"button\" class=\"btn default-search bg text-white\" id=\"middle-search-message\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/hcustfrontend/fntdimages/sendd.png\"/></button>\r\n");
      out.write("                      <div class=\"user_list\" style=\"display:none\">\r\n");
      out.write("				     <ul id=\"WorkingOnThisProject\">\r\n");
      out.write("				    </ul>\r\n");
      out.write("				</div>\r\n");
      out.write("                </div>\r\n");
      out.write("                \r\n");
      out.write("			</form>\r\n");
      out.write("              </div>\r\n");
      out.write("             </div>\r\n");
      out.write("             \r\n");
      out.write("<!-- end message -->\r\n");
      out.write("            </div>  \r\n");
      out.write("            \r\n");
      out.write("			</div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- message box end -->\r\n");
      out.write("        </div>\r\n");
      out.write("      </div>\r\n");
      out.write("  </section>\r\n");
      out.write("  \r\n");
      out.write("</section>\r\n");
      out.write("<!-- main content ends -->\r\n");
      out.write("\r\n");
      out.write("<div class=\"modal fade form_Builder set_form_Builder show\" id=\"DynamicFormModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n");
      out.write("		<img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/form.png\" style=\"width: 19px;\">\r\n");
      out.write("		<span class=\"text-danger\">Form</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body warBody\">\r\n");
      out.write("      \r\n");
      out.write("        <div id=\"AppendFormBuildDiv\"></div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" id=\"getJson\">Submit</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<!-- script starts -->\r\n");
      out.write("<input type=\"hidden\" id=\"ActiveProjectNo\" value=\"NA\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ActiveProjectKey\" value=\"NA\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ProjectFollowUpKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceRatingUser\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ProjectFormSubmitStatusId\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"StarRatingIdGenerator\" value=\"5\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceRatingIdGenerator\" value=\"4\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"scrollPageNumber\" value=\"0\"/>\r\n");
      out.write("<footer class=\"clearfix\">\r\n");
      out.write("<div class=\"rights\">\r\n");
      out.write("<div class=\"container\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"copyright\">\r\n");
      out.write("<p>Copyright &copy;2021 Corpseed ITES Pvt Ltd - All rights reserved.</p>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</footer>\r\n");
      out.write("<div class=\"footer_menu menu_notification\">\r\n");
String urlpage1=request.getParameter("uid");
if(urlpage1==null||urlpage1.length()<=0)urlpage1="NA"; 
      out.write("\r\n");
      out.write("<ul>\r\n");
      out.write("<li id=\"client_orders\"");
if(urlpage1.equalsIgnoreCase("client_orders.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">\r\n");
      out.write("<small></small>\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_orders.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/all_orders.svg\" alt=\"\"><span>Your Orders</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("<li id=\"client_inbox\"");
if(urlpage1.equalsIgnoreCase("client_inbox.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">\r\n");
      out.write("<small></small>\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_inbox.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/chat.svg\" alt=\"\"><span>Chat</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("<li>\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_dashboard.html\" class=\"footer_logo\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/footer_logo1.png\" alt=\"\"></a>\r\n");
      out.write("</li>\r\n");
      out.write("<li id=\"client_documents\"");
if(urlpage1.equalsIgnoreCase("client_documents.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">\r\n");
      out.write("<small></small>\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/client_documents.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/document.svg\" alt=\"\"><span>Doc Wallet</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("<li id=\"my_profile\"");
if(urlpage1.equalsIgnoreCase("my_profile.html")||urlpage1.equalsIgnoreCase("client_payments.html")||urlpage1.equalsIgnoreCase("all-notifications.html")){ 
      out.write(" class=\"active\"");
}
      out.write(">\r\n");
      out.write("<small></small>\r\n");
      out.write("<a class=\"setting mtoggle\" href=\"javascript:void(0)\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdimages/profile.svg\" alt=\"\"><span>Profile</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("</ul>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- Update password Modal -->\r\n");
      out.write("  <div class=\"myModal modal fade\" id=\"updatepass\">\r\n");
      out.write("    <div class=\"modal-dialog\">\r\n");
      out.write("      <div class=\"modal-content\">\r\n");
      out.write("        <div class=\"modal-header\">\r\n");
      out.write("          <h4 class=\"modal-title\"><i class=\"fas fa-lock\"></i>Change Password</h4>  \r\n");
      out.write("          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"modal-body\">\r\n");
      out.write("		 <form action=\"javascript:void(0)\">\r\n");
      out.write("		  <div class=\"row\">\r\n");
      out.write("            <div class=\"form-group-pass col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Current Password</label>\r\n");
      out.write("            <input type=\"password\" class=\"form-control\" name=\"cpassword\" id=\"Current_password\"  placeholder=\"Enter Current Password*\" required=\"required\">\r\n");
      out.write("            </div>           \r\n");
      out.write("		  </div> \r\n");
      out.write("		   <div class=\"row\">\r\n");
      out.write("            <div class=\"form-group-pass col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>New Password</label>\r\n");
      out.write("            <input type=\"password\" class=\"form-control\" name=\"npassword\" id=\"New_Password\" placeholder=\"Enter New Password*\" required=\"required\">\r\n");
      out.write("            <span class=\"show_psw active\" onclick=\"myFunction('New_Password')\">\r\n");
      out.write("									<i class=\"fa fa-eye-slash\" style=\"font-size:15px;color:#006080\"></i>\r\n");
      out.write("									</span>\r\n");
      out.write("            </div>\r\n");
      out.write("           \r\n");
      out.write("		  </div> \r\n");
      out.write("		   <div class=\"row\">\r\n");
      out.write("            <div class=\"form-group-pass col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Confirm Password</label>\r\n");
      out.write("            <input type=\"password\" class=\"form-control\" name=\"cfpassword\" id=\"Confirm_Password\" placeholder=\"Re-enter New Password*\" required=\"required\">\r\n");
      out.write("            <span class=\"show_psw active\" onclick=\"myFunction('Confirm_Password')\">\r\n");
      out.write("			<i class=\"fa fa-eye-slash\" style=\"font-size:15px;color:#006080\"></i>\r\n");
      out.write("			</span>\r\n");
      out.write("            </div>           \r\n");
      out.write("		  </div> \r\n");
      out.write("		  </form>\r\n");
      out.write("          </div>\r\n");
      out.write("		 \r\n");
      out.write("        <div class=\"modal-footer justify-content-end\">\r\n");
      out.write("          <button type=\"submit\" class=\"btn btn-success\" onclick=\"return validatePassword()\" id=\"Update_Password\">Update Password</button> \r\n");
      out.write("          <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">Cancel</button> \r\n");
      out.write("        </div>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("<!-- End Update password Modal -->\r\n");
      out.write("<div class=\"alert-show\" style=\"display: none;\"><div class=\"alert-bg alert-striped\" id=\"errorMsg\"></div></div>\r\n");
      out.write("<div class=\"alert-show1\" style=\"display: none;\"><div class=\"alert-bg1 alert-striped\" id=\"errorMsg1\"></div></div>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/5b8cdab0e6.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/jquery.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/jquery-ui.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/fakeLoader.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/bootstrap.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/wow.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/datepicker.js\"></script>\r\n");
      out.write("<div class=\"processing_loader\" style=\"display: none;\"><div class=\"spin_box\"></div></div>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/jquery.timepicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/hcustfrontend/fntdjs/moment.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/hcustfrontend/fntdjs/daterangepicker.min.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/custom.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/fontawsome.js\"></script>\r\n");
      out.write("<script src=\"");
      out.print(request.getContextPath() );
      out.write("/hcustfrontend/fntdjs/globalscript.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery.dataTables.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.buttons.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jszip.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/pdfmake.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/vfs_fonts.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.html5.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.print.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.colVis.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.select.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.responsive.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("if(window.history.replaceState){\r\n");
      out.write("window.history.replaceState( null, null, window.location.href );\r\n");
      out.write("}\r\n");
      out.write("new WOW().init();\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$(window).load(function() {\r\n");
      out.write("	  $(\".processing_loader\").fadeOut();\r\n");
      out.write("	});\r\n");
      out.write("function showLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeIn(); \r\n");
      out.write("}\r\n");
      out.write("function hideLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeOut();  \r\n");
      out.write("}  \r\n");
      out.write("</script>");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/formBuilder/js/form-builder.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/app.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("var formDataJson=\"\";\r\n");
      out.write("var fbEditor =\"\";\r\n");
      out.write("var formBuilder =\"\";\r\n");
      out.write("document.getElementById('getJson').addEventListener('click', function() {\r\n");
      out.write("	formDataJson=formBuilder.actions.getData('json',true);		\r\n");
      out.write("	$(\"#DynamicFormModal\").modal(\"hide\");\r\n");
      out.write("	var fKey=$(\"#ProjectFollowUpKey\").val();\r\n");
      out.write("	var formStatusId=$(\"#ProjectFormSubmitStatusId\").val();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateDynamicFormData999\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			fKey : fKey,	\r\n");
      out.write("			formDataJson : formDataJson\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			if(response==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML = 'Successfully Form Submitted !!.';\r\n");
      out.write("				$(\"#\"+formStatusId).addClass(\"fa fa-check-circle\");\r\n");
      out.write("				$('.alert-show1').show().delay(1000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something Went Wrong , Please Try-again Later !!';\r\n");
      out.write("				$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function updateUnseenStatus(salesKey,chatSeenStatusId){\r\n");
      out.write("	$.ajax({\r\n");
      out.write("	    type: \"POST\",\r\n");
      out.write("	    url: \"");
      out.print(request.getContextPath());
      out.write("/UpdateUnseenStatus999\",\r\n");
      out.write("	    data:  { \r\n");
      out.write("	    	salesKey : salesKey\r\n");
      out.write("	    	},\r\n");
      out.write("	    success: function (response) {         	  \r\n");
      out.write("          $(\"#\"+chatSeenStatusId).hide();\r\n");
      out.write("          $('#'+salesKey+' .justify_box').removeClass('unseenChat');\r\n");
      out.write("        },\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function doAction(data,name){\r\n");
      out.write("	var domain=\"");
      out.print(domain);
      out.write("\";\r\n");
      out.write("	$.ajax({\r\n");
      out.write("	    type: \"POST\",\r\n");
      out.write("	    url: \"");
      out.print(request.getContextPath());
      out.write("/SetOrderTypeSearch999\",\r\n");
      out.write("	    data:  { \r\n");
      out.write("	    	data : data,\r\n");
      out.write("	    	name : name\r\n");
      out.write("	    },\r\n");
      out.write("	    success: function (response) {        	  \r\n");
      out.write("	    	location.reload();\r\n");
      out.write("        },\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("var activeSalesKey=\"NA\";\r\n");
      out.write("function getProjectList(name){\r\n");
      out.write("	if(activeSalesKey==\"NA\")\r\n");
      out.write("	activeSalesKey = $(\"#ActiveProjectKey\").val();\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/GetSoldProjectList888\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	name : name\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("		     	response = JSON.parse(response);			\r\n");
      out.write("				 var len = response.length;\r\n");
      out.write("				 $(\".nameOfProjects\").remove();\r\n");
      out.write("// 				 $(\"#ChatBox\").hide();\r\n");
      out.write("// 				 $('.chat_box').removeClass(\"in\");\r\n");
      out.write("// 				 $(\".notSelectedProject\").show();\r\n");
      out.write("				 if(len>0){	\r\n");
      out.write("					 var home=\"");
      out.print(request.getContextPath() );
      out.write("\";\r\n");
      out.write("					 for(var i=0;i<len;i++){\r\n");
      out.write("						 var key =response[i][\"key\"];\r\n");
      out.write("						 var projectnumber =response[i][\"projectnumber\"]; \r\n");
      out.write("						 var productname =response[i][\"productname\"];\r\n");
      out.write("						 var unseenChat =response[i][\"unseenChat\"];\r\n");
      out.write("						 var closeDate=response[i][\"closeDate\"];\r\n");
      out.write("						 var chatSeenStatus=\"chatSeenStatus\"+i;\r\n");
      out.write("						 var display=\"style='display:none;'\";\r\n");
      out.write("						 var unseen=\"\";\r\n");
      out.write("						 if(Number(unseenChat)!=0){display=\"\";unseen=\"unseenChat\";}\r\n");
      out.write("						$(''+ \r\n");
      out.write("						 '<div class=\"message-title pointers nameOfProjects\" id=\"'+key+'\" data-toggle=\"collapse\" onClick=\"ShowAllChats(\\''+key+'\\',\\''+projectnumber+'\\',\\''+productname+'\\',\\''+chatSeenStatus+'\\',\\''+closeDate+'\\');\">'+\r\n");
      out.write("		                 '<div class=\"clearfix pro_box\">'+\r\n");
      out.write("		                    '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("		                    ' <figure> <span class=\"prof_name\">CO</span> </figure></div>'+\r\n");
      out.write("		                    '<div class=\"clearfix pro_info\"> '+\r\n");
      out.write("		                    '<h2 class=\"clearfix justify_box '+unseen+'\"><label class=\"pointers\"> : '+projectnumber+'</label><span></span></h2>'+\r\n");
      out.write("		                    '<span class=\"chatUnseen\" '+display+' id=\"'+chatSeenStatus+'\">'+unseenChat+'</span>'+\r\n");
      out.write("		                    '<h6 class=\"clearfix justify_box  '+unseen+'\"><label class=\"pointers\">'+productname+'</label><span></span></h6>'+\r\n");
      out.write("		                    '</div>'+\r\n");
      out.write("		                  '</div>'+\r\n");
      out.write("		               '</div>'\r\n");
      out.write("						).insertBefore('#ProjectListBoxId');\r\n");
      out.write("						\r\n");
      out.write("					 }\r\n");
      out.write("					 if (typeof activeSalesKey === \"undefined\") {\r\n");
      out.write("						 activeSalesKey=\"NA\";\r\n");
      out.write("						}else{\r\n");
      out.write("							$(\"#\"+activeSalesKey).addClass(\"active\");\r\n");
      out.write("						}\r\n");
      out.write("				 }else{\r\n");
      out.write("					 $(''+\r\n");
      out.write("							 '<div class=\"clearfix text-center nameOfProjects text-danger noDataFound\">You have no new message !!</div>'\r\n");
      out.write("							 ).insertBefore('#ProjectListBoxId');\r\n");
      out.write("				 }	\r\n");
      out.write("				 \r\n");
      out.write("		    }}\r\n");
      out.write("	   });\r\n");
      out.write("}\r\n");
      out.write("function sendMsg(){\r\n");
      out.write("	var chatText=$(\"#ChatReplay\").val();\r\n");
      out.write("	var sendTo=$(\"#SelectedUserName\").val();\r\n");
      out.write("	var clientName=\"");
      out.print(userName);
      out.write("\";\r\n");
      out.write("	sendMessageClient(chatText,sendTo,\"client\",clientName);\r\n");
      out.write("}\r\n");
      out.write("function applyComment(uaid,uaname,listId){	\r\n");
      out.write("	\r\n");
      out.write("	$(\"#SelectedUserUid\").val(uaid);\r\n");
      out.write("    $(\"#SelectedUserName\").val(uaname);\r\n");
      out.write("	\r\n");
      out.write("	var content=$(\"#ChatReplay\").val();\r\n");
      out.write("	\r\n");
      out.write("	if($(\"#SelectedUserUid\").val()==null||$(\"#SelectedUserUid\").val()==\"NA\"||$(\"#SelectedUserUid\").val()==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Select sender to send !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if(content==null||content==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please Write Some Text !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var date=\"");
      out.print(today);
      out.write("\";\r\n");
      out.write("	var time=\"");
      out.print(time);
      out.write("\";\r\n");
      out.write("	var addedbyName=\"");
      out.print(userName);
      out.write("\";\r\n");
      out.write("	var form = $(\".addNewChatFollowUp\")[0];\r\n");
      out.write("    var data = new FormData(form);\r\n");
      out.write("    /* data.append(\"docKey\", docKey)\r\n");
      out.write("    data.append(\"file\", File); */\r\n");
      out.write("	$.ajax({\r\n");
      out.write("        type : \"POST\",\r\n");
      out.write("        encType : \"multipart/form-data\",\r\n");
      out.write("        url : \"");
      out.print(request.getContextPath());
      out.write("/ClientChatReply.html\",\r\n");
      out.write("        cache : false,\r\n");
      out.write("        processData : false,\r\n");
      out.write("        contentType : false,\r\n");
      out.write("        data : data,\r\n");
      out.write("        success : function(data) {\r\n");
      out.write("        	$('.user_list ').stop(true).slideToggle();\r\n");
      out.write("        	var x=data.split(\"#\");\r\n");
      out.write("        	if(x[0]==\"pass\"){\r\n");
      out.write("			var size=x[1];\r\n");
      out.write("			var extension=x[2];\r\n");
      out.write("			var fileName=x[3];\r\n");
      out.write("        		$(\"#ChatReplay\").val(\"\");\r\n");
      out.write("        		var fileDownload=\"");
      out.print(azure_path);
      out.write("\"+fileName;\r\n");
      out.write("        		if(fileName!=null&&fileName!=\"NA\")fileName=fileName.substring(Number(fileName.indexOf(\"_\"))+1);\r\n");
      out.write("        		var activeProject=$(\"#ActiveProjectNo\").val();\r\n");
      out.write("        		var sendTo=$(\"#SelectedUserName\").val();        		\r\n");
      out.write("        		sendMessageClient(content,sendTo+\"-\"+activeProject,\"client\",addedbyName,fileDownload,size,extension,fileName);\r\n");
      out.write("        		$(\".addNewChatFollowUp\").trigger(\"reset\");\r\n");
      out.write("        		\r\n");
      out.write("        ");
      out.write("\r\n");
      out.write("					\r\n");
      out.write("					$(\".message-details\").animate({ scrollTop: $('.message-details').prop(\"scrollHeight\")}, 1000);\r\n");
      out.write("    		\r\n");
      out.write("    		}else if(data==\"denied\"){\r\n");
      out.write("    			document.getElementById('errorMsg').innerHTML =\"You haven't permission to follow-up. If you have further query call us !!\";\r\n");
      out.write("	    		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("    		}else{\r\n");
      out.write("    			document.getElementById('errorMsg').innerHTML =\"Something Went wrong ,try-again later !!\";\r\n");
      out.write("	    		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("    		}\r\n");
      out.write("        },\r\n");
      out.write("        error : function(msg) {\r\n");
      out.write("            alert(\"Couldn't upload file\");\r\n");
      out.write("        }\r\n");
      out.write("    }); \r\n");
      out.write("    hideLoader();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fileSize(fileId){\r\n");
      out.write("	const fi=document.getElementById(fileId);\r\n");
      out.write("	if (fi.files.length > 0) {\r\n");
      out.write("		const fsize = fi.files.item(0).size; \r\n");
      out.write("        const file = Math.round((fsize / 1024)); \r\n");
      out.write("        // The size of the file. \r\n");
      out.write("        if (file >= 49152) {  \r\n");
      out.write("            document.getElementById('errorMsg').innerHTML ='File too Big, Max File Size 48 MB !!';\r\n");
      out.write("            document.getElementById(fileId).value=\"\";\r\n");
      out.write(" 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("        }		\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setFollowUpId(fKey,formStatusId){\r\n");
      out.write("		$(\"#ProjectFollowUpKey\").val(fKey);\r\n");
      out.write("		$(\"#ProjectFormSubmitStatusId\").val(formStatusId);\r\n");
      out.write("		$(\".removeFormDiv\").remove();\r\n");
      out.write("		$(''+\r\n");
      out.write("				'<div id=\"build-wrap\" class=\"removeFormDiv\"></div>'\r\n");
      out.write("		).insertBefore(\"#AppendFormBuildDiv\");\r\n");
      out.write("	  fbEditor = document.getElementById('build-wrap');\r\n");
      out.write("	  formBuilder = $(fbEditor).formBuilder();	  \r\n");
      out.write("							\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				url : \"GetDynamicFormData111\",\r\n");
      out.write("				dataType : \"HTML\",\r\n");
      out.write("				data : {				\r\n");
      out.write("					fKey : fKey,			\r\n");
      out.write("				},\r\n");
      out.write("				success : function(response){\r\n");
      out.write("					if(Object.keys(response).length!=0){\r\n");
      out.write("						response=JSON.parse(response);\r\n");
      out.write("						formDataJson=response[0][\"formData\"];\r\n");
      out.write("						formBuilder.actions.setData(formDataJson);\r\n");
      out.write("						  $(\"#DynamicFormModal\").modal(\"show\");				    		\r\n");
      out.write("				}}\r\n");
      out.write("			});	    \r\n");
      out.write("		\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("   <script type=\"text/javascript\">\r\n");
      out.write("   function ShowAllChats(salesKey,projectNo,projectName,chatSeenStatusId,closeDate){\r\n");
      out.write("	   init(projectNo,\"NA\")\r\n");
      out.write("	   var closed=0;\r\n");
      out.write("	   $(\"#scrollPageNumber\").val(\"0\");\r\n");
      out.write("	   $(\"#ActiveProjectNo\").val(projectNo);\r\n");
      out.write("	   $(\"#ActiveProjectKey\").val(salesKey);\r\n");
      out.write("	   $(\".footer_menu\").addClass(\"d-none\"); \r\n");
      out.write("	   if(closeDate==null||closeDate==\"NA\"||closeDate==\"\"){\r\n");
      out.write("		   $(\".no-reply-box\").hide();\r\n");
      out.write("		   $(\".reply_box\").show();\r\n");
      out.write("		   $(\".review-form-box\").hide();\r\n");
      out.write("	   }else {\r\n");
      out.write("		   closed=1;\r\n");
      out.write("		   $(\".about_like \").addClass(\"d-none\");\r\n");
      out.write("		   $(\"#ratingComment\").val('');\r\n");
      out.write("		   $(\"#StarRatingIdGenerator\").val(\"5\");\r\n");
      out.write("		   $(\"#ServiceRatingIdGenerator\").val(\"4\");\r\n");
      out.write("		   $(\"#star1,#star2,#star3,#star4,#star5\").prop(\"checked\",false);\r\n");
      out.write("		   $(\"#service1,#service2,#service3,#service4\").prop(\"checked\",false);\r\n");
      out.write("		   $(\"#Rating_Service\").html(\"Rating : \"+projectName)\r\n");
      out.write("		   $(\".reply_box\").hide();\r\n");
      out.write("		   $(\".review-form-box\").show();			  \r\n");
      out.write("		   $(\".no-reply-box\").show();\r\n");
      out.write("			   \r\n");
      out.write("		   }	  \r\n");
      out.write("	   \r\n");
      out.write("	   $(\"#ProjectSalesKey\").val(salesKey);\r\n");
      out.write("	   $(\"#ActiveProjectId\").html(projectNo+\" : \"+projectName);	   \r\n");
      out.write("       $(\".RefreshDiv\").remove();\r\n");
      out.write("       var clientKey=\"\";\r\n");
      out.write("       var loginuaid=\"");
      out.print(loginuaid);
      out.write("\";\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/getAllChats111\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	salesKey: salesKey,	\r\n");
      out.write("		    	clientKey : clientKey\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("		     	response = JSON.parse(response);			\r\n");
      out.write("				 var len = response.length;\r\n");
      out.write("				var addedby=\"NA\";\r\n");
      out.write("				var k=0;\r\n");
      out.write("				$(\".spinner-grow\").hide();\r\n");
      out.write("				 if(len<=0){					 \r\n");
      out.write("					 $('#errorMsg').html('No Chat Found.');\r\n");
      out.write("					 document.getElementById(\"NoChat\").style.display=\"none\";\r\n");
      out.write("					 document.getElementById(\"ChatBox\").style.display=\"block\";\r\n");
      out.write("					 $(\".RefreshDiv\").remove();\r\n");
      out.write("						$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("				 }else{						 \r\n");
      out.write("					 document.getElementById(\"NoChat\").style.display=\"none\";\r\n");
      out.write("					 document.getElementById(\"ChatBox\").style.display=\"block\";\r\n");
      out.write("				  \r\n");
      out.write("				   for( var i =0; i<len; i++){		\r\n");
      out.write("					   var key =response[i][\"key\"];\r\n");
      out.write("					   var milestoneKey =response[i][\"milestoneKey\"];\r\n");
      out.write("					   var milestoneName =response[i][\"milestoneName\"];\r\n");
      out.write("					   var dynamicForm =response[i][\"dynamicForm\"];\r\n");
      out.write("					   var formName =response[i][\"formName\"];\r\n");
      out.write("					   var content =response[i][\"content\"];\r\n");
      out.write("					   var fileName =response[i][\"fileName\"];\r\n");
      out.write("					   var date =response[i][\"date\"];\r\n");
      out.write("					   var time =response[i][\"time\"];\r\n");
      out.write("					   var submitStatus =response[i][\"submitStatus\"];\r\n");
      out.write("					   var addedbyUid =response[i][\"addedbyUid\"];\r\n");
      out.write("					   var addedbyName =response[i][\"addedbyName\"];\r\n");
      out.write("					   var formStatus =response[i][\"formStatus\"];\r\n");
      out.write("					   var extension =response[i][\"extension\"];\r\n");
      out.write("					   var size =response[i][\"size\"];\r\n");
      out.write("					   var unread =response[i][\"unread\"];\r\n");
      out.write("					   var icon=addedbyName.substring(0,2);\r\n");
      out.write("					   var fileDownload=\"");
      out.print(azure_path);
      out.write("\"+fileName;\r\n");
      out.write("					   var file=fileName.substring(21);\r\n");
      out.write("					   \r\n");
      out.write("					   var formFillId=\"formFillId\"+i;\r\n");
      out.write("					   addedby=addedbyUid;\r\n");
      out.write("					   var sn=len-i;\r\n");
      out.write("					   var formFilled=\"\";\r\n");
      out.write("					   if(formStatus==\"2\"){formFilled=\"\";}else if(formStatus==\"1\"){formFilled=\"fa fa-check-circle\";}\r\n");
      out.write("					   var iddd=\"\";\r\n");
      out.write("					   if(Number(unread)==2&&Number(k)==0){\r\n");
      out.write("						   iddd=\"id='AjayKumarTiwari'\";\r\n");
      out.write("						   k=1;\r\n");
      out.write("					   }\r\n");
      out.write("					   \r\n");
      out.write("					   \r\n");
      out.write("					if(addedbyUid==loginuaid){\r\n");
      out.write("						if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("							$(''+\r\n");
      out.write("					             '<div '+iddd+' class=\"clearfix pro_box text-right mb-3 RefreshDiv\">'+\r\n");
      out.write("					             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("					             ' <figure> <span class=\"prof_name\">'+icon+'</span> </figure>'+\r\n");
      out.write("					             '</div> <div class=\"clearfix pro_info\">'+\r\n");
      out.write("					             '<h6><strong>'+addedbyName+'</strong><span>'+content+'</span><div class=\"clearfix download_file\">'+\r\n");
      out.write("									'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("									'<a href=\"'+fileDownload+'\" download><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("									'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("									'</div></h6>'+\r\n");
      out.write("					             '<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("					             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}else{\r\n");
      out.write("							$(''+\r\n");
      out.write("				             '<div '+iddd+' class=\"clearfix pro_box text-right mb-3 RefreshDiv\">'+\r\n");
      out.write("				             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("				             ' <figure> <span class=\"prof_name\">'+icon+'</span> </figure>'+\r\n");
      out.write("				             '</div> <div class=\"clearfix pro_info\">'+\r\n");
      out.write("				             '<h6><strong>'+addedbyName+'</strong><span>'+content+'</span></h6>'+\r\n");
      out.write("				             '<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("				             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}\r\n");
      out.write("					}else{\r\n");
      out.write("						if(dynamicForm!=null&&dynamicForm!=\"\"&&dynamicForm!=\"NA\"){\r\n");
      out.write("							if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("								$(''+\r\n");
      out.write("										'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("							             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("										' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("										'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'<p><a class=\"setData pointers\" onclick=\"setFollowUpId(\\''+key+'\\',\\''+formFillId+'\\')\" style=\"color: #4285f4;\"><u title=\"Click Me to fill form data !!\">'+formName+'</u>&nbsp;&nbsp;<i class=\"'+formFilled+'\" id=\"'+formFillId+'\" aria-hidden=\"true\"></i></a></p></span>'+\r\n");
      out.write("										'<div class=\"clearfix download_file\">'+\r\n");
      out.write("										'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("										'<a href=\"'+fileDownload+'\" download=\"\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("										'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("										'</div>'+\r\n");
      out.write("										'</h6>'+\r\n");
      out.write("										'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("							             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("							}else{\r\n");
      out.write("									$(''+\r\n");
      out.write("									'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("						             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("									' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("									'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'<p><a class=\"setData pointers\" onclick=\"setFollowUpId(\\''+key+'\\',\\''+formFillId+'\\')\" style=\"color: #4285f4;\"><u title=\"Click Me to fill form data !!\">'+formName+'</u>&nbsp;&nbsp;<i class=\"'+formFilled+'\" id=\"'+formFillId+'\" aria-hidden=\"true\"></i></a></p></span></h6>'+\r\n");
      out.write("									'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("						             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("							}\r\n");
      out.write("						}else{\r\n");
      out.write("							if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("								$(''+\r\n");
      out.write("									'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("						             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("									' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("									'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'</span><div class=\"clearfix download_file\">'+\r\n");
      out.write("									'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("									'<a href=\"'+fileDownload+'\" download=\"\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("									'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("									'</div></h6>'+\r\n");
      out.write("									'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("						             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("							}else{\r\n");
      out.write("								$(''+\r\n");
      out.write("										'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("							             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("										' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("										'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'</span></h6>'+\r\n");
      out.write("										'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("							             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("							}\r\n");
      out.write("						}\r\n");
      out.write("					}	\r\n");
      out.write("					}\r\n");
      out.write("				   if(Number(k)==1){\r\n");
      out.write("				   var container = $('.message-details');\r\n");
      out.write("				   var scrollTo = $(\"#AjayKumarTiwari\");\r\n");
      out.write("		            // Calculating new position\r\n");
      out.write("		            // of scrollbar\r\n");
      out.write("		            var position = scrollTo.offset().top-container.offset().top+container.scrollTop();\r\n");
      out.write("		  \r\n");
      out.write("		            // Animating scrolling effect\r\n");
      out.write("		            container.animate({\r\n");
      out.write("		                scrollTop: position\r\n");
      out.write("		            });\r\n");
      out.write("		            if(chatSeenStatusId!=\"NA\")\r\n");
      out.write("		            readUnreadStatus();\r\n");
      out.write("				   }else if(Number(closed)==1){ \r\n");
      out.write("					   var container = $('.message-details');\r\n");
      out.write("					   var scrollTo = $(\".review-form-box\");\r\n");
      out.write("					   \r\n");
      out.write("			            // Calculating new position\r\n");
      out.write("			            // of scrollbar\r\n");
      out.write("			            var position = scrollTo.offset().top-container.offset().top+container.scrollTop();\r\n");
      out.write("			  \r\n");
      out.write("			            // Animating scrolling effect\r\n");
      out.write("			            container.animate({\r\n");
      out.write("			                scrollTop: position\r\n");
      out.write("			            });					   \r\n");
      out.write("				   }else{\r\n");
      out.write("					   if ($(window).width() > 767)\r\n");
      out.write("					   $(\".message-details\").animate({ scrollTop: $('.message-details').prop(\"scrollHeight\")}, 0);\r\n");
      out.write("					   else\r\n");
      out.write("					   $(\"html, body\").animate({ scrollTop: $(document).height() }, 0);\r\n");
      out.write("				   }\r\n");
      out.write("				  }\r\n");
      out.write("				 fillWorkingOnUser(salesKey,addedby,closed);\r\n");
      out.write("		    }},\r\n");
      out.write("		    error: function (error) {\r\n");
      out.write("		    	alert(\"error in ShowAllChats() \" + error.responseText);\r\n");
      out.write("		    }\r\n");
      out.write("		});\r\n");
      out.write("	   showAllDocumentList(salesKey);\r\n");
      out.write("	   \r\n");
      out.write("	   $('.message-title').removeClass('active');\r\n");
      out.write("		$(\"#\"+salesKey).addClass('active');\r\n");
      out.write("		$('.messages .chat_box').each(function(){\r\n");
      out.write("			if($(this).attr('id')==$('.message-title.active').attr('data-target')){\r\n");
      out.write("				$(this).addClass('in');\r\n");
      out.write("			}else{\r\n");
      out.write("				$('.messages .chat_box').removeClass('in');\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	if(chatSeenStatusId!=\"NA\")\r\n");
      out.write("	updateUnseenStatus(salesKey,chatSeenStatusId);\r\n");
      out.write("	showChatArea();   \r\n");
      out.write("   }   \r\n");
      out.write("	 $(document).ready(function(){\r\n");
      out.write("	   if ($(window).width() > 767) {\r\n");
      out.write("	  $(function($) {   \r\n");
      out.write("       $('.message-details').on('scroll', function() {\r\n");
      out.write("    	   if ($(this).scrollTop()==0) { \r\n");
      out.write("    		   $(\".spinner-grow\").show();\r\n");
      out.write("    		   setTimeout(() => {\r\n");
      out.write("    			   loadWindowsChat();\r\n");
      out.write("			}, 500);\r\n");
      out.write("              \r\n");
      out.write("           }\r\n");
      out.write("       });\r\n");
      out.write("	  });\r\n");
      out.write("	   }else{		 \r\n");
      out.write("		   $(window).on('scroll', function() {\r\n");
      out.write("	    	   if ($(this).scrollTop()==0) { \r\n");
      out.write("	    		   $(\".spinner-grow\").show();\r\n");
      out.write("	    		   setTimeout(() => {\r\n");
      out.write("	    			   loadAndroidChat();\r\n");
      out.write("				}, 500);	              \r\n");
      out.write("	           }\r\n");
      out.write("	       });		   \r\n");
      out.write("	   }\r\n");
      out.write("   });\r\n");
      out.write("	 \r\n");
      out.write("function loadWindowsChat(){\r\n");
      out.write("	if ($(\".message-details\").scrollTop()==0) {\r\n");
      out.write("		loadMoreChat();\r\n");
      out.write("	}else $(\"#scrollPageNumber\").val(\"0\");\r\n");
      out.write("}	 \r\n");
      out.write("function loadAndroidChat(){\r\n");
      out.write("	if ($(window).scrollTop()==0) { \r\n");
      out.write("		loadMoreChat();\r\n");
      out.write("	}else $(\"#scrollPageNumber\").val(\"0\");\r\n");
      out.write("}	 \r\n");
      out.write("function loadMoreChat(){	\r\n");
      out.write("	var pageNumber=$(\"#scrollPageNumber\").val();\r\n");
      out.write("    var salesKey=$(\"#ProjectSalesKey\").val();\r\n");
      out.write("	var clientKey=\"\";\r\n");
      out.write("	var loginuaid=\"");
      out.print(loginuaid);
      out.write("\";\r\n");
      out.write("	pageNumber=Number(pageNumber)+Number(1);\r\n");
      out.write("		\r\n");
      out.write("	$.ajax({\r\n");
      out.write("	    type: \"GET\",\r\n");
      out.write("	    dataType: \"html\",\r\n");
      out.write("	    url: \"");
      out.print(request.getContextPath());
      out.write("/getChatsByPage111\",\r\n");
      out.write("	    data:  { \r\n");
      out.write("	    	salesKey: salesKey,	\r\n");
      out.write("	    	clientKey : clientKey,\r\n");
      out.write("	    	pageNumber : pageNumber\r\n");
      out.write("	    },\r\n");
      out.write("	    success: function (response) {\r\n");
      out.write("	    	if(Object.keys(response).length!=0){\r\n");
      out.write("	     	response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;\r\n");
      out.write("			 $(\"#scrollPageNumber\").val(pageNumber);\r\n");
      out.write("			var addedby=\"NA\";\r\n");
      out.write("			var k=0;			 \r\n");
      out.write("			   for( var i =0; i<len; i++){		\r\n");
      out.write("				   var key =response[i][\"key\"];\r\n");
      out.write("				   var milestoneKey =response[i][\"milestoneKey\"];\r\n");
      out.write("				   var milestoneName =response[i][\"milestoneName\"];\r\n");
      out.write("				   var dynamicForm =response[i][\"dynamicForm\"];\r\n");
      out.write("				   var formName =response[i][\"formName\"];\r\n");
      out.write("				   var content =response[i][\"content\"];\r\n");
      out.write("				   var fileName =response[i][\"fileName\"];\r\n");
      out.write("				   var date =response[i][\"date\"];\r\n");
      out.write("				   var time =response[i][\"time\"];\r\n");
      out.write("				   var submitStatus =response[i][\"submitStatus\"];\r\n");
      out.write("				   var addedbyUid =response[i][\"addedbyUid\"];\r\n");
      out.write("				   var addedbyName =response[i][\"addedbyName\"];\r\n");
      out.write("				   var formStatus =response[i][\"formStatus\"];\r\n");
      out.write("				   var extension =response[i][\"extension\"];\r\n");
      out.write("				   var size =response[i][\"size\"];\r\n");
      out.write("				   var unread =response[i][\"unread\"];\r\n");
      out.write("				   var icon=addedbyName.substring(0,2);\r\n");
      out.write("				   var fileDownload=\"");
      out.print(azure_path);
      out.write("\"+fileName;\r\n");
      out.write("				   var file=fileName.substring(21);\r\n");
      out.write("				   \r\n");
      out.write("				   var formFillId=\"formFillId\"+i;\r\n");
      out.write("				   addedby=addedbyUid;\r\n");
      out.write("				   var sn=len-i;\r\n");
      out.write("				   var formFilled=\"\";\r\n");
      out.write("				   if(formStatus==\"2\"){formFilled=\"\";}else if(formStatus==\"1\"){formFilled=\"fa fa-check-circle\";}\r\n");
      out.write("				   	\r\n");
      out.write("				   var iddd=\"\";\r\n");
      out.write("				   if(Number(i)==0){\r\n");
      out.write("					   iddd=\"id='AjayKumarTiwari'\";					   \r\n");
      out.write("				   }\r\n");
      out.write("				   \r\n");
      out.write("				if(addedbyUid==loginuaid){\r\n");
      out.write("					if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("						$(''+\r\n");
      out.write("				             '<div '+iddd+' class=\"clearfix pro_box text-right mb-3 RefreshDiv\">'+\r\n");
      out.write("				             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("				             ' <figure> <span class=\"prof_name\">'+icon+'</span> </figure>'+\r\n");
      out.write("				             '</div> <div class=\"clearfix pro_info\">'+\r\n");
      out.write("				             '<h6><strong>'+addedbyName+'</strong><span>'+content+'</span><div class=\"clearfix download_file\">'+\r\n");
      out.write("								'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("								'<a href=\"'+fileDownload+'\" download><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("								'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("								'</div></h6>'+\r\n");
      out.write("				             '<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("				             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("					}else{\r\n");
      out.write("						$(''+\r\n");
      out.write("			             '<div '+iddd+' class=\"clearfix pro_box text-right mb-3 RefreshDiv\">'+\r\n");
      out.write("			             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("			             ' <figure> <span class=\"prof_name\">'+icon+'</span> </figure>'+\r\n");
      out.write("			             '</div> <div class=\"clearfix pro_info\">'+\r\n");
      out.write("			             '<h6><strong>'+addedbyName+'</strong><span>'+content+'</span></h6>'+\r\n");
      out.write("			             '<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("			             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("					}\r\n");
      out.write("				}else{\r\n");
      out.write("					if(dynamicForm!=null&&dynamicForm!=\"\"&&dynamicForm!=\"NA\"){\r\n");
      out.write("						if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("							$(''+\r\n");
      out.write("									'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("						             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("									' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("									'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'<p><a class=\"setData pointers\" onclick=\"setFollowUpId(\\''+key+'\\',\\''+formFillId+'\\')\" style=\"color: #4285f4;\"><u title=\"Click Me to fill form data !!\">'+formName+'</u>&nbsp;&nbsp;<i class=\"'+formFilled+'\" id=\"'+formFillId+'\" aria-hidden=\"true\"></i></a></p></span>'+\r\n");
      out.write("									'<div class=\"clearfix download_file\">'+\r\n");
      out.write("									'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("									'<a href=\"'+fileDownload+'\" download=\"\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("									'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("									'</div>'+\r\n");
      out.write("									'</h6>'+\r\n");
      out.write("									'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("						             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}else{\r\n");
      out.write("								$(''+\r\n");
      out.write("								'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("					             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("								' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("								'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'<p><a class=\"setData pointers\" onclick=\"setFollowUpId(\\''+key+'\\',\\''+formFillId+'\\')\" style=\"color: #4285f4;\"><u title=\"Click Me to fill form data !!\">'+formName+'</u>&nbsp;&nbsp;<i class=\"'+formFilled+'\" id=\"'+formFillId+'\" aria-hidden=\"true\"></i></a></p></span></h6>'+\r\n");
      out.write("								'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("					             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}\r\n");
      out.write("					}else{\r\n");
      out.write("						if(fileName!=null&&fileName!=\"\"&&fileName!=\"NA\"){\r\n");
      out.write("							$(''+\r\n");
      out.write("								'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("					             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("								' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("								'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'</span><div class=\"clearfix download_file\">'+\r\n");
      out.write("								'<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"'+file+'\">'+file+'</span></span>'+\r\n");
      out.write("								'<a href=\"'+fileDownload+'\" download=\"\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>'+\r\n");
      out.write("								'<div class=\"download_size\"><span>'+size+'  '+extension+'</span><span>'+time+'</span></div>'+\r\n");
      out.write("								'</div></h6>'+\r\n");
      out.write("								'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("					             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}else{\r\n");
      out.write("							$(''+\r\n");
      out.write("									'<div '+iddd+' class=\"clearfix pro_box text-left mb-3 RefreshDiv\">'+\r\n");
      out.write("						             '<div class=\"clearfix icon_box\">'+\r\n");
      out.write("									' <figure> <span class=\"prof_name\">'+icon+'</span> </figure></div>'+ \r\n");
      out.write("									'<div class=\"clearfix pro_info\"><h6><strong>'+addedbyName+'</strong> <span>'+content+'</span></h6>'+\r\n");
      out.write("									'<div class=\"clearfix date_box\"><span>'+date+'&nbsp;'+time+'</span></div></div>'+\r\n");
      out.write("						             '</div>').insertAfter(\"#AddChat\");\r\n");
      out.write("						}\r\n");
      out.write("					}\r\n");
      out.write("				}	\r\n");
      out.write("				}\r\n");
      out.write("			   var container = $('.message-details');\r\n");
      out.write("			   var scrollTo = $(\"#AjayKumarTiwari\");\r\n");
      out.write("	            // Calculating new position\r\n");
      out.write("	            // of scrollbar\r\n");
      out.write("	            var position = scrollTo.offset().top-container.offset().top+container.scrollTop();\r\n");
      out.write("	  \r\n");
      out.write("	            // Animating scrolling effect\r\n");
      out.write("	            if ($(window).width() > 767){\r\n");
      out.write("		            container.animate({\r\n");
      out.write("		                scrollTop: position\r\n");
      out.write("		            },0);\r\n");
      out.write("	            }else{\r\n");
      out.write("	            	$(\"html,body\").animate({\r\n");
      out.write("		                scrollTop: position\r\n");
      out.write("		            },0);	            	\r\n");
      out.write("	            }\r\n");
      out.write("	            \r\n");
      out.write("	            \r\n");
      out.write("	    }},\r\n");
      out.write("	    error: function (error) {\r\n");
      out.write("	    	alert(\"error in ShowAllChats() \" + error.responseText);\r\n");
      out.write("	    }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("	$(\".spinner-grow\").hide();\r\n");
      out.write("}      \r\n");
      out.write("   \r\n");
      out.write("   function showAllDocumentList(salesKey){\r\n");
      out.write("	   $(\".docAppended\").remove();\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/GetSalesDocumentList888\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	salesKey: salesKey\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("		     	response = JSON.parse(response);			\r\n");
      out.write("				 var len = response.length;\r\n");
      out.write("				 if(len>0){					 \r\n");
      out.write("					 for(var i=0;i<len;i++){\r\n");
      out.write("						 var docKey =response[i][\"docKey\"];\r\n");
      out.write("						 var uploadDocName =response[i][\"uploadDocName\"]; \r\n");
      out.write("						 var description =response[i][\"description\"];\r\n");
      out.write("						 var DocName =response[i][\"DocName\"];\r\n");
      out.write("						 \r\n");
      out.write("						 var fileDownload=\"#\";\r\n");
      out.write("						 if(DocName!=\"NA\"&&DocName!=null)\r\n");
      out.write("						 	fileDownload=\"");
      out.print(azure_path);
      out.write("\"+DocName;\r\n");
      out.write("						 \r\n");
      out.write("						 var displayFile=\"\";\r\n");
      out.write("						 \r\n");
      out.write("						 if(DocName==null||DocName==\"\"||DocName==\"NA\"){\r\n");
      out.write("							 displayFile=\"display : none;\";\r\n");
      out.write("						 }else{\r\n");
      out.write("							 displayFile=\"display : block;\";\r\n");
      out.write("						 }\r\n");
      out.write("						 \r\n");
      out.write("						 var UploadFileId=\"UploadFileId\"+i;\r\n");
      out.write("						 var FileDownloadIdIcon=\"FileDownloadIdIcon\"+i;\r\n");
      out.write("						 $(''+\r\n");
      out.write("						 '<div class=\"table_content docAppended row\">'+ \r\n");
      out.write("						 	'<div class=\"p-0 col-md-9 col-sm-8 col-12\">'+\r\n");
      out.write("							'<p><i class=\"fas fa-file text-warning\" aria-hidden=\"true\"></i>&nbsp;'+uploadDocName+'</p>'+\r\n");
      out.write("							'</div>'+ \r\n");
      out.write("							'<div class=\"p-0 col-md-3 col-sm-4 col-12\">'+      \r\n");
      out.write("							'<p class=\"justify-content-end tmobile\">'+\r\n");
      out.write("							'<a href=\"'+fileDownload+'\" download class=\"pointers\" style=\"'+displayFile+'\" id=\"'+FileDownloadIdIcon+'\"><i class=\"fas fa-file-download\" aria-hidden=\"true\" title=\"Download\"></i></a> '+\r\n");
      out.write("							'<input type=\"file\" onchange=\"fileSizeCompaitable(\\''+docKey+'\\',\\''+UploadFileId+'\\',\\''+FileDownloadIdIcon+'\\')\" id=\"'+UploadFileId+'\" name=\"'+UploadFileId+'\" style=\"display: none;\"/> '+\r\n");
      out.write("							'<a class=\"upload_file pointers\" onclick=\"$(\\'#'+UploadFileId+'\\').click()\"><i class=\"fas fa-file-upload\" aria-hidden=\"true\" title=\"Upload\"></i>	</a>'+\r\n");
      out.write("							'</p>'+\r\n");
      out.write("							'</div>'+\r\n");
      out.write("						  '</div>').insertBefore(\"#SalesDocListId\");\r\n");
      out.write("					 }\r\n");
      out.write("				 }			 \r\n");
      out.write("		    }}\r\n");
      out.write("	   });\r\n");
      out.write("   }\r\n");
      out.write("   function fileSizeCompaitable(docKey,fileId,IconId){\r\n");
      out.write("		const fi=document.getElementById(fileId);\r\n");
      out.write("		if (fi.files.length > 0) {\r\n");
      out.write("			const fsize = fi.files.item(0).size; \r\n");
      out.write("	        const file = Math.round((fsize / 1024)); \r\n");
      out.write("	        // The size of the file. \r\n");
      out.write("	        if (file >= 49152) {  \r\n");
      out.write("	            document.getElementById('errorMsg').innerHTML ='File too Big, Max File Size 48 MB !!';\r\n");
      out.write("	            document.getElementById(fileId).value=\"\";\r\n");
      out.write("	 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	        }else{\r\n");
      out.write("	        	uploadFile(docKey,fileId,IconId);\r\n");
      out.write("	        }		\r\n");
      out.write("		}	\r\n");
      out.write("   }\r\n");
      out.write("   function uploadFile(docKey,File,IconId){	\r\n");
      out.write("	   setTimeout(() => {	\r\n");
      out.write("		if($(\"#\"+File).val()!=\"\"){		\r\n");
      out.write("		var form = $(\".addNewChatFollowUp\")[0];\r\n");
      out.write("	    var data = new FormData(form);\r\n");
      out.write("	    data.append(\"docKey\", docKey)\r\n");
      out.write("	    data.append(\"file\", File);\r\n");
      out.write("		$.ajax({\r\n");
      out.write("	        type : \"POST\",\r\n");
      out.write("	        encType : \"multipart/form-data\",\r\n");
      out.write("	        url : \"");
      out.print(request.getContextPath());
      out.write("/UpdateSalesDocuments111\",\r\n");
      out.write("	        cache : false,\r\n");
      out.write("	        processData : false,\r\n");
      out.write("	        contentType : false,\r\n");
      out.write("	        data : data,\r\n");
      out.write("	        success : function(data) {\r\n");
      out.write("	        	var x=data.split(\"#\")\r\n");
      out.write("	        	if(x[0]==\"pass\"){\r\n");
      out.write("	        	document.getElementById('errorMsg1').innerHTML =\"Uploaded Successfully !!\";\r\n");
      out.write("	        	var href=\"");
      out.print(azure_path);
      out.write("\"+x[1];\r\n");
      out.write("	        	$(\"#\"+IconId).attr(\"href\",href);\r\n");
      out.write("	        	$(\"#\"+IconId).show();	        	\r\n");
      out.write("	    		$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("	    		}else{\r\n");
      out.write("	    			document.getElementById('errorMsg').innerHTML =\"Something Went wrong ,try-again later !!\";\r\n");
      out.write("		    		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("	    		}\r\n");
      out.write("	        },\r\n");
      out.write("	        error : function(msg) {\r\n");
      out.write("	            alert(\"Couldn't upload file\");\r\n");
      out.write("	        }\r\n");
      out.write("	    });\r\n");
      out.write("		}	\r\n");
      out.write("	   }, 200);\r\n");
      out.write("	}\r\n");
      out.write("   \r\n");
      out.write("   function fillWorkingOnUser(salesKey,addedbyUid,closed){\r\n");
      out.write("	   $(\"#WorkingOnThisProject\").empty();\r\n");
      out.write("	   $(\".rating_star\").remove();\r\n");
      out.write("	   $(\"#ServiceRatingUser\").val(\"0\");\r\n");
      out.write("	   var service=0;\r\n");
      out.write("	   var serviceRatingKey=\"NA\";\r\n");
      out.write("	   if(Number(closed)==1)\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"GET\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"GetServiceRating999\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	salesKey: salesKey,\r\n");
      out.write("		    	\"type\" : \"service\"\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("			     	response = JSON.parse(response);\r\n");
      out.write("			     	var len = response.length;	    		;\r\n");
      out.write("		    		if(len>0){\r\n");
      out.write("						service=1;\r\n");
      out.write("		    			var rating =response[0][\"rating\"];\r\n");
      out.write("		    			var comment =response[0][\"comment\"];\r\n");
      out.write("		    			serviceRatingKey=response[0][\"uuid\"];\r\n");
      out.write("		    			if(Number(rating)==1)$(\"#star1\").prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==2)$(\"#star2\").prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==3)$(\"#star3\").prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==4)$(\"#star4\").prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==5)$(\"#star5\").prop(\"checked\",true);\r\n");
      out.write("		    			$(\"#ratingComment\").val(comment);\r\n");
      out.write("		    			if(Number(rating)>3){\r\n");
      out.write("		    				showAboutLikes(serviceRatingKey,\"Service\",0,0,\"NA\");\r\n");
      out.write("		    			}		    			 \r\n");
      out.write("		    		}\r\n");
      out.write("		    	}\r\n");
      out.write("		    }\r\n");
      out.write("	   });\r\n");
      out.write("	   setTimeout(() => {\r\n");
      out.write("		   allWorkingUser(salesKey,addedbyUid,closed,serviceRatingKey,service);\r\n");
      out.write("	}, 200);\r\n");
      out.write("	   \r\n");
      out.write("   }\r\n");
      out.write("   function allWorkingUser(salesKey,addedbyUid,closed,serviceRatingKey,service){\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"getAllWorkingUser888\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	salesKey: salesKey\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("		     	response = JSON.parse(response);			\r\n");
      out.write("				 var len = response.length;\r\n");
      out.write("				 if(len>0){						 \r\n");
      out.write("					 var k=0;\r\n");
      out.write("					 var active=1;\r\n");
      out.write("					 for(var i=0;i<len;i++){						\r\n");
      out.write("						 var uaid =response[i][\"uaid\"];\r\n");
      out.write("						 var uaname =response[i][\"uaname\"]; \r\n");
      out.write("						 var status =response[i][\"status\"]; \r\n");
      out.write("						 var login_class=\"offline\";\r\n");
      out.write("						 if(status==\"1\")login_class=\"online\";\r\n");
      out.write("						 var title=uaname.substring(0,2);	\r\n");
      out.write("						 var ListItem=\"ListItem\"+i;\r\n");
      out.write("						 $(\"#WorkingOnThisProject\").append('<li><span class=\"'+login_class+'\" title=\"'+login_class+'\"></span><a id=\"'+ListItem+'\" onclick=\"applyComment(\\''+uaid+'\\',\\''+uaname+'\\',\\''+ListItem+'\\')\">'+uaname+'</a></li>')\r\n");
      out.write("						/*  if(uaid==addedbyUid&&k==0){ \r\n");
      out.write("							 k=1;\r\n");
      out.write("							 $(\"#SelectedNameId\").html(title);\r\n");
      out.write("						 	$(\"#NotSelectedId\").hide();\r\n");
      out.write("// 						 	$(\"#SelectedNameId\").show();						 	\r\n");
      out.write("						 }else if(k==0){\r\n");
      out.write("							 $(\"#NotSelectedId\").show();\r\n");
      out.write("							 $(\"#SelectedNameId\").hide();	\r\n");
      out.write("						 }\r\n");
      out.write("						 if(uaid==addedbyUid&&active==1){ \r\n");
      out.write("							 active=2;\r\n");
      out.write("							 $(\"#SelectedUserUid\").val(uaid);\r\n");
      out.write("							 $(\"#SelectedUserName\").val(uaname);\r\n");
      out.write("							 $(\"#WorkingOnThisProject\").append('<li><a class=\"active\" id=\"'+ListItem+'\" onclick=\"setSendUser(\\''+uaid+'\\',\\''+uaname+'\\',\\''+ListItem+'\\')\">'+uaname+'</a></li>')					 	\r\n");
      out.write("						 }else{\r\n");
      out.write("					  		$(\"#WorkingOnThisProject\").append('<li><a id=\"'+ListItem+'\" onclick=\"setSendUser(\\''+uaid+'\\',\\''+uaname+'\\',\\''+ListItem+'\\')\">'+uaname+'</a></li>')\r\n");
      out.write("						 } */ \r\n");
      out.write("\r\n");
      out.write("						 if(Number(closed)==1){\r\n");
      out.write("							 appendRating(uaname,uaid,i,serviceRatingKey,service);\r\n");
      out.write("						 }		\r\n");
      out.write("						 \r\n");
      out.write("					 }\r\n");
      out.write("				 }\r\n");
      out.write("				 /* else{\r\n");
      out.write("					 $(\"#NotSelectedId\").show();\r\n");
      out.write("					 $(\"#SelectedNameId\").hide();	\r\n");
      out.write("				 }	 */			 \r\n");
      out.write("		    }}\r\n");
      out.write("	   });\r\n");
      out.write("   }\r\n");
      out.write("   \r\n");
      out.write("   function appendRating(uaname,uaid,i,serviceRatingKey,service){	   \r\n");
      out.write("	   setTimeout(function() {\r\n");
      out.write("	   var str=$(\"#StarRatingIdGenerator\").val();\r\n");
      out.write("	   var ser=$(\"#ServiceRatingIdGenerator\").val();\r\n");
      out.write("	   \r\n");
      out.write("	   var num=$(\"#ServiceRatingUser\").val(); \r\n");
      out.write("		$(\"#ServiceRatingUser\").val(Number(num)+1);\r\n");
      out.write("		 \r\n");
      out.write("		$(''+\r\n");
      out.write("			'<div class=\"clearfix rating_star ratingview\">'+\r\n");
      out.write("			'<div class=\"row mtop1\">'+\r\n");
      out.write("			   '<h6>Rating For executive '+uaname+'</h6>'+\r\n");
      out.write("			   '<input type=\"hidden\" id=\"Executive'+(Number(num)+1)+'\" value=\"'+uaid+'\">'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'<div class=\"row\">'+\r\n");
      out.write("			'<div class=\"stars\">'+\r\n");
      out.write("				'<input type=\"radio\" name=\"star'+(Number(num)+1)+'\" value=\"1\" class=\"star-1\" id=\"star'+((Number(str)+1))+'\">'+\r\n");
      out.write("				'<label class=\"star-1\" for=\"star-1\" onclick=\"checkedMe(\\'star'+((Number(str)+1))+'\\',\\'about_like'+(Number(num)+1)+'\\',\\'1\\')\">1</label>'+\r\n");
      out.write("				'<input type=\"radio\" name=\"star'+(Number(num)+1)+'\" value=\"2\" class=\"star-2\" id=\"star'+((Number(str)+2))+'\">'+\r\n");
      out.write("				'<label class=\"star-2\" for=\"star-2\" onclick=\"checkedMe(\\'star'+((Number(str)+2))+'\\',\\'about_like'+(Number(num)+1)+'\\',\\'2\\')\">2</label>'+\r\n");
      out.write("				'<input type=\"radio\" name=\"star'+(Number(num)+1)+'\" value=\"3\" class=\"star-3\" id=\"star'+((Number(str)+3))+'\">'+\r\n");
      out.write("				'<label class=\"star-3\" for=\"star-3\" onclick=\"checkedMe(\\'star'+((Number(str)+3))+'\\',\\'about_like'+(Number(num)+1)+'\\',\\'3\\')\">3</label>'+\r\n");
      out.write("				'<input type=\"radio\" name=\"star'+(Number(num)+1)+'\" value=\"4\" class=\"star-4\" id=\"star'+((Number(str)+4))+'\">'+\r\n");
      out.write("				'<label class=\"star-4\" for=\"star-4\" onclick=\"checkedMe(\\'star'+((Number(str)+4))+'\\',\\'about_like'+(Number(num)+1)+'\\',\\'4\\')\">4</label>'+\r\n");
      out.write("				'<input type=\"radio\" name=\"star'+(Number(num)+1)+'\" value=\"5\" class=\"star-5\" id=\"star'+((Number(str)+5))+'\">'+\r\n");
      out.write("				'<label class=\"star-5\" for=\"star-5\" onclick=\"checkedMe(\\'star'+((Number(str)+5))+'\\',\\'about_like'+(Number(num)+1)+'\\',\\'5\\')\">5</label>'+\r\n");
      out.write("				'<span></span>'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'<div class=\"col-md-12 about_like'+(Number(num)+1)+' d-none pad-left\">'+\r\n");
      out.write("			'<div class=\"row mtop_5\">'+\r\n");
      out.write("			'<h6><b>What do you like about this executive?</b></h6>'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'<div class=\"row\">'+\r\n");
      out.write("			'<label class=\"pz89u\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"1\" id=\"service'+((Number(ser)+1))+'\" onclick=\"checkedMe1(\\'service'+((Number(ser)+1))+'\\')\"><span class=\" b5bllf\">Good quality</span></label>'+\r\n");
      out.write("			'<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"2\" id=\"service'+((Number(ser)+2))+'\" onclick=\"checkedMe1(\\'service'+((Number(ser)+2))+'\\')\"><span class=\" b5bllf\">Good value</span></label>'+\r\n");
      out.write("			'<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"3\" id=\"service'+((Number(ser)+3))+'\" onclick=\"checkedMe1(\\'service'+((Number(ser)+3))+'\\')\"><span class=\" b5bllf\">Professional</span></label>'+\r\n");
      out.write("			'<label class=\"pz89u1\"><input class=\"Xs8Y6d\" type=\"checkbox\" value=\"4\" id=\"service'+((Number(ser)+4))+'\" onclick=\"checkedMe1(\\'service'+((Number(ser)+4))+'\\')\"><span class=\" b5bllf\">Responsive</span></label>'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'</div>'+\r\n");
      out.write("			'</div>'\r\n");
      out.write("			).insertBefore(\"#ExecutiveRating\");\r\n");
      out.write("		\r\n");
      out.write("		if(Number(service)==1)fillRating(serviceRatingKey,str,ser,(Number(num)+1),uaid);\r\n");
      out.write("		 $(\"#StarRatingIdGenerator\").val(((Number(str)+5)));\r\n");
      out.write("		 $(\"#ServiceRatingIdGenerator\").val(((Number(ser)+4)));\r\n");
      out.write("	   }, 200 * i);\r\n");
      out.write("   }\r\n");
      out.write("   function fillRating(serviceRatingKey,str,ser,num,e_uaid){	   \r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"GET\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/GetServiceRating999\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	serviceRatingKey: serviceRatingKey,\r\n");
      out.write("		    	\"type\" : \"executive\",\r\n");
      out.write("		    	e_uaid : e_uaid\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("			     	response = JSON.parse(response);\r\n");
      out.write("			     	var len = response.length;	    		;\r\n");
      out.write("		    		if(len>0){	\r\n");
      out.write("		    			service=1;\r\n");
      out.write("		    			var rating =response[0][\"rating\"];\r\n");
      out.write("		    			execRatingKey=response[0][\"uuid\"];\r\n");
      out.write("		    			var uaid =response[0][\"uaid\"];\r\n");
      out.write("		    			if(Number(rating)==1)$(\"#star\"+((Number(str)+1))).prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==2)$(\"#star\"+((Number(str)+2))).prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==3)$(\"#star\"+((Number(str)+3))).prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==4)$(\"#star\"+((Number(str)+4))).prop(\"checked\",true);\r\n");
      out.write("		    			else if(Number(rating)==5)$(\"#star\"+((Number(str)+5))).prop(\"checked\",true);\r\n");
      out.write("		    			\r\n");
      out.write("		    			if(Number(rating)>3){\r\n");
      out.write("		    				showAboutLikes(execRatingKey,\"Executive\",ser,num,e_uaid);\r\n");
      out.write("		    			}\r\n");
      out.write("		    		}\r\n");
      out.write("		    	}\r\n");
      out.write("		    }});\r\n");
      out.write("   }\r\n");
      out.write("   function showAboutLikes(serviceRatingKey,type,ser,num,uaid){\r\n");
      out.write("	\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"GET\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/GetServiceRatingAbout999\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	serviceRatingKey: serviceRatingKey,\r\n");
      out.write("		    	type : type,\r\n");
      out.write("		    	uaid : uaid\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("			     	response = JSON.parse(response);\r\n");
      out.write("			     	var len = response.length;\r\n");
      out.write("		    		if(len>0){	\r\n");
      out.write("		    			for(var i=0;i<len;i++){\r\n");
      out.write("		    				var value=response[i][\"value\"];\r\n");
      out.write("		    				\r\n");
      out.write("		    				if(value==\"Good quality\")\r\n");
      out.write("		    				$(\"#service\"+((Number(ser)+1))).prop(\"checked\",true);\r\n");
      out.write("		    				else if(value==\"Good value\")\r\n");
      out.write("			    				$(\"#service\"+((Number(ser)+2))).prop(\"checked\",true);\r\n");
      out.write("		    				else if(value==\"Professional\")\r\n");
      out.write("			    				$(\"#service\"+((Number(ser)+3))).prop(\"checked\",true);\r\n");
      out.write("		    				else if(value==\"Responsive\")\r\n");
      out.write("			    				$(\"#service\"+((Number(ser)+4))).prop(\"checked\",true);\r\n");
      out.write("		    			}	\r\n");
      out.write("		    			var classRemove=\"about_like\";\r\n");
      out.write("		    			if((Number(num))!=0){\r\n");
      out.write("		    				classRemove+=Number(num);\r\n");
      out.write("		    			}		\r\n");
      out.write("		    			$(\".\"+classRemove).removeClass(\"d-none\");\r\n");
      out.write("		    			\r\n");
      out.write("		    		}\r\n");
      out.write("		    	}\r\n");
      out.write("		    }\r\n");
      out.write("	   });\r\n");
      out.write("   }\r\n");
      out.write("   \r\n");
      out.write("   function setSendUser(uaid,uaname,listId){	   \r\n");
      out.write("	   $(\"#SelectedUserUid\").val(uaid);\r\n");
      out.write("	   $(\"#SelectedUserName\").val(uaname);\r\n");
      out.write("	   var title=uaname.substring(0,2);	\r\n");
      out.write("// 	   $(\"#SelectedNameId\").html(title);\r\n");
      out.write("	   \r\n");
      out.write("	   \r\n");
      out.write("	 /* $(\"#NotSelectedId\").hide();	\r\n");
      out.write("	   $(\"#SelectedNameId\").show();\r\n");
      out.write("	 	$(\".menu_list li a\").removeClass('active');\r\n");
      out.write("	 	$(\"#\"+listId).addClass('active');\r\n");
      out.write("	 \r\n");
      out.write("	 	\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetEmployeeActiveStatus999\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				uaid : uaid\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(Number(data)==1){\r\n");
      out.write("					$(\"#onlineOffline\").addClass(\"online\");\r\n");
      out.write("				 	$(\"#onlineOffline\").attr(\"title\",\"Online\");\r\n");
      out.write("				}else{\r\n");
      out.write("					$(\"#onlineOffline\").removeClass(\"online\");\r\n");
      out.write("					$(\"#onlineOffline\").addClass(\"offline\");\r\n");
      out.write("				 	$(\"#onlineOffline\").attr(\"title\",\"Offline\");\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("		}); */\r\n");
      out.write("	 	\r\n");
      out.write("   }     \r\n");
      out.write("\r\n");
      out.write("    function sortBy(){\r\n");
      out.write("    	var clientfrom=document.getElementById(\"ClientFrom\").value.trim();\r\n");
      out.write("    	var clientto=document.getElementById(\"ClientTo\").value.trim();\r\n");
      out.write("    	if(clientfrom==\"\") clientfrom=\"NA\";\r\n");
      out.write("    	if(clientto==\"\")clientto=\"NA\";\r\n");
      out.write("    	var include=\"No\";\r\n");
      out.write("    	var searchorder=document.getElementById(\"SearchOrder\").value.trim();\r\n");
      out.write("    	var sprjno=\"NA\";\r\n");
      out.write("    	var sprjname=\"NA\";\r\n");
      out.write("    	if(searchorder!=\"\"){\r\n");
      out.write("    		var x=searchorder.split(\"#\");\r\n");
      out.write("    		sprjno=x[0];\r\n");
      out.write("    		sprjname=x[1];\r\n");
      out.write("    	}\r\n");
      out.write("    	if(document.getElementById('gridCheck').checked)include=\"Yes\";\r\n");
      out.write("    	var sortby=document.getElementById(\"SortedBy\").value.trim();\r\n");
      out.write("    	\r\n");
      out.write("    		$.ajax({\r\n");
      out.write("    			type : \"POST\",\r\n");
      out.write("    			url : \"ManageClientInboxCTRL.html\",\r\n");
      out.write("    			dataType : \"HTML\",\r\n");
      out.write("    			data : {\r\n");
      out.write("    				clientfrom : clientfrom,\r\n");
      out.write("    				clientto : clientto,\r\n");
      out.write("    				include : include,\r\n");
      out.write("    				sortby : sortby,\r\n");
      out.write("    				sprjno : sprjno,\r\n");
      out.write("    				sprjname : sprjname,\r\n");
      out.write("    			},\r\n");
      out.write("    			success : function(data){\r\n");
      out.write("    				location.reload();					\r\n");
      out.write("    			}\r\n");
      out.write("    		});\r\n");
      out.write("    }\r\n");
      out.write("    function restSearch(){\r\n");
      out.write("    	$.ajax({\r\n");
      out.write("    		type : \"GET\",\r\n");
      out.write("    		url : \"ManageClientInboxCTRL.html\",\r\n");
      out.write("    		dataType : \"HTML\",\r\n");
      out.write("    		data : {\r\n");
      out.write("    			reset : \"reset\",\r\n");
      out.write("    		},\r\n");
      out.write("    		success : function(data){\r\n");
      out.write("    			location.reload();					\r\n");
      out.write("    		}\r\n");
      out.write("    	});	\r\n");
      out.write("    }\r\n");
      out.write("    function setDtaeFromTo(){	\r\n");
      out.write("    	if(document.getElementById(\"ClientFrom\").value.trim()==\"\"){\r\n");
      out.write("    		document.getElementById('errorMsg').innerHTML = 'Select Start Date First.';\r\n");
      out.write("    		document.getElementById(\"ClientTo\").value=\"\";\r\n");
      out.write("    		$('.alert-show').show().delay(2000).fadeOut();		\r\n");
      out.write("    	}else{\r\n");
      out.write("    		var clientfrom=document.getElementById(\"ClientFrom\").value.trim();\r\n");
      out.write("    		var clientto=document.getElementById(\"ClientTo\").value.trim();		\r\n");
      out.write("    		if(clientfrom==\"\") clientfrom=\"NA\";\r\n");
      out.write("    		if(clientto==\"\")clientto=\"NA\";\r\n");
      out.write("    		\r\n");
      out.write("    		var searchorder=document.getElementById(\"SearchOrder\").value.trim();\r\n");
      out.write("    		var sprjno=\"NA\";\r\n");
      out.write("    		var sprjname=\"NA\";\r\n");
      out.write("    		if(searchorder!=\"\"){\r\n");
      out.write("    			var x=searchorder.split(\"#\");\r\n");
      out.write("    			sprjno=x[0];\r\n");
      out.write("    			sprjname=x[1];\r\n");
      out.write("    		}\r\n");
      out.write("    		var clientto=document.getElementById(\"ClientTo\").value.trim();\r\n");
      out.write("    		\r\n");
      out.write("    		var include=\"No\";\r\n");
      out.write("    		if(document.getElementById('gridCheck').checked)include=\"Yes\";\r\n");
      out.write("    		var sortby=document.getElementById(\"SortedBy\").value.trim();\r\n");
      out.write("    		\r\n");
      out.write("    			$.ajax({\r\n");
      out.write("    				type : \"POST\",\r\n");
      out.write("    				url : \"ManageClientInboxCTRL.html\",\r\n");
      out.write("    				dataType : \"HTML\",\r\n");
      out.write("    				data : {\r\n");
      out.write("    					clientfrom : clientfrom,\r\n");
      out.write("    					clientto : clientto,\r\n");
      out.write("    					include : include,\r\n");
      out.write("    					sortby : sortby,\r\n");
      out.write("    					sprjno : sprjno,\r\n");
      out.write("    					sprjname : sprjname,\r\n");
      out.write("    				},\r\n");
      out.write("    				success : function(data){\r\n");
      out.write("    					location.reload();					\r\n");
      out.write("    				}\r\n");
      out.write("    			});\r\n");
      out.write("    			\r\n");
      out.write("    		\r\n");
      out.write("    	}\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    $('.datepicker').datepicker({\r\n");
      out.write("        format: 'yyyy-mm-dd',    \r\n");
      out.write("    });\r\n");
      out.write("    </script>\r\n");
      out.write("    <script>\r\n");
      out.write("   /*  $('.message-title').on('click',function(event) {\r\n");
      out.write("		event.preventDefault();\r\n");
      out.write("		$('.message-title').removeClass('active');\r\n");
      out.write("		$(this).addClass('active');\r\n");
      out.write("		$('.messages .chat_box').each(function(){\r\n");
      out.write("			if($(this).attr('id')==$('.message-title.active').attr('data-target')){\r\n");
      out.write("				$(this).addClass('in');\r\n");
      out.write("			}else{\r\n");
      out.write("				$('.messages .chat_box').removeClass('in');\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}); */\r\n");
      out.write("    \r\n");
      out.write("	</script> \r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$( document ).ready(function() {\r\n");
      out.write("	setTimeout(() => {\r\n");
      out.write("	var forwardSalesKey=\"");
      out.print(forwardSalesKey);
      out.write("\"; \r\n");
      out.write("	var forwardProjectNo=\"");
      out.print(forwardProjectNo);
      out.write("\"; \r\n");
      out.write("	var forwardProjectName=\"");
      out.print(forwardProjectName);
      out.write("\";\r\n");
      out.write("	var forwardCloseDate=\"");
      out.print(forwardCloseDate);
      out.write("\";\r\n");
      out.write("		\r\n");
      out.write("	if(forwardSalesKey!=\"NA\"&&forwardProjectNo!=\"NA\"&&forwardProjectName!=\"NA\"){\r\n");
      out.write("		\r\n");
      out.write("		ShowAllChats(forwardSalesKey,forwardProjectNo,forwardProjectName,\"BoxId\"+forwardProjectNo,forwardCloseDate);\r\n");
      out.write("		/* $('.message-title').removeClass('active');\r\n");
      out.write("		$(\"#\"+forwardSalesKey).addClass('active');\r\n");
      out.write("		$('.messages .chat_box').each(function(){\r\n");
      out.write("			if($(this).attr('id')==$('.message-title.active').attr('data-target')){\r\n");
      out.write("				$(this).addClass('in');\r\n");
      out.write("			}else{\r\n");
      out.write("				$('.messages .chat_box').removeClass('in');\r\n");
      out.write("			}\r\n");
      out.write("		}); */\r\n");
      out.write("		clearSession();		  \r\n");
      out.write("		}\r\n");
      out.write("	\r\n");
      out.write("	}, 200);\r\n");
      out.write("});\r\n");
      out.write("function clearSession(){\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/OpenThisProjectChat999\",\r\n");
      out.write("		    data:  { 		    	\r\n");
      out.write("		    	\"status\" : \"2\"\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {       	  \r\n");
      out.write("	        },\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("function checkedMe(id,aboutClass,rating){\r\n");
      out.write("	if($(\"#\"+id).prop(\"checked\")==true)\r\n");
      out.write("	$(\"#\"+id).prop(\"checked\",false);\r\n");
      out.write("	else $(\"#\"+id).prop(\"checked\",true);\r\n");
      out.write("	\r\n");
      out.write("	if(Number(rating)>3){\r\n");
      out.write("		$(\".\"+aboutClass).removeClass(\"d-none\");\r\n");
      out.write("	}\r\n");
      out.write("	else{\r\n");
      out.write("		$(\".\"+aboutClass).addClass(\"d-none\");\r\n");
      out.write("		var n=id.substr(4);\r\n");
      out.write("		n=Number(n)-3;\r\n");
      out.write("		$(\"#service\"+n).prop(\"checked\",false);\r\n");
      out.write("		$(\"#service\"+(Number(n)+1)).prop(\"checked\",false);\r\n");
      out.write("		$(\"#service\"+(Number(n)+2)).prop(\"checked\",false);\r\n");
      out.write("		$(\"#service\"+(Number(n)+3)).prop(\"checked\",false);\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function checkedMe1(id){\r\n");
      out.write("	if($(\"#\"+id).prop('checked')==true){		\r\n");
      out.write("		$(\"#\"+id).attr(\"checked\",\"checked\");\r\n");
      out.write("	}else{		\r\n");
      out.write("		$(\"#\"+id).removeAttr(\"checked\",\"checked\");\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function readUnreadStatus(){\r\n");
      out.write("	var salesKey=$(\"#ProjectSalesKey\").val();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"UpdateSalesUnreadStatus111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			salesKey : salesKey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("							\r\n");
      out.write("		}\r\n");
      out.write("	});	\r\n");
      out.write("}\r\n");
      out.write("function validRating(){\r\n");
      out.write("	var salesKey=$(\"#ProjectSalesKey\").val();\r\n");
      out.write("	var count=$(\"#ServiceRatingUser\").val();\r\n");
      out.write("	var servceRating=\"\";\r\n");
      out.write("	\r\n");
      out.write("	if($(\"#star1:checked\").val()==1)servceRating=\"1#\";\r\n");
      out.write("	else if($(\"#star2:checked\").val()==2)servceRating=\"2#\";\r\n");
      out.write("	else if($(\"#star3:checked\").val()==3)servceRating=\"3#\";\r\n");
      out.write("	else if($(\"#star4:checked\").val()==4)servceRating=\"4#\";\r\n");
      out.write("	else if($(\"#star5:checked\").val()==5)servceRating=\"5#\";\r\n");
      out.write("	\r\n");
      out.write("	if($(\"#service1:checked\").val()==1)servceRating+=\"Good quality,\";\r\n");
      out.write("	if($(\"#service2:checked\").val()==2)servceRating+=\"Good value,\";\r\n");
      out.write("	if($(\"#service3:checked\").val()==3)servceRating+=\"Professional,\";\r\n");
      out.write("	if($(\"#service4:checked\").val()==4)servceRating+=\"Responsive\";\r\n");
      out.write("	\r\n");
      out.write("	var executive=\"\";\r\n");
      out.write("	var userRate=1;\r\n");
      out.write("	\r\n");
      out.write("	var starCount=$(\"#StarRatingIdGenerator\").val();\r\n");
      out.write("	var serviceCount=$(\"#ServiceRatingIdGenerator\").val();\r\n");
      out.write("	\r\n");
      out.write("	var stc=5;\r\n");
      out.write("	var src=4;\r\n");
      out.write("	\r\n");
      out.write("	for(var i=1;i<=Number(count);i++){\r\n");
      out.write("		executive+=$(\"#Executive\"+i).val();\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#star\"+(Number(stc)+1)+\":checked\").val()==1)executive+=\"-1@\";\r\n");
      out.write("		else if($(\"#star\"+(Number(stc)+2)+\":checked\").val()==2)executive+=\"-2@\";\r\n");
      out.write("		else if($(\"#star\"+(Number(stc)+3)+\":checked\").val()==3)executive+=\"-3@\";\r\n");
      out.write("		else if($(\"#star\"+(Number(stc)+4)+\":checked\").val()==4)executive+=\"-4@\";\r\n");
      out.write("		else if($(\"#star\"+(Number(stc)+5)+\":checked\").val()==5)executive+=\"-5@\";\r\n");
      out.write("		else userRate=0;\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#service\"+(Number(src)+1)+\":checked\").val()==1)executive+=\"Good quality,\";\r\n");
      out.write("		if($(\"#service\"+(Number(src)+2)+\":checked\").val()==2)executive+=\"Good value,\";\r\n");
      out.write("		if($(\"#service\"+(Number(src)+3)+\":checked\").val()==3)executive+=\"Professional,\";\r\n");
      out.write("		if($(\"#service\"+(Number(src)+4)+\":checked\").val()==4)executive+=\"Responsive\";\r\n");
      out.write("		\r\n");
      out.write("		executive+=\"#\";\r\n");
      out.write("		stc=Number(stc)+5;\r\n");
      out.write("		src=Number(src)+4;\r\n");
      out.write("		\r\n");
      out.write("		if(userRate==0)break;\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("	var ratingComment=$(\"#ratingComment\").val();\r\n");
      out.write("	\r\n");
      out.write("	if(servceRating==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please rate our service for future enhancement !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(userRate==0){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please rate our executive !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(salesKey==null||salesKey==\"\"||salesKey==\"NA\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Something went wrong, Please Reload Page !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(ratingComment==null||ratingComment==\"\")ratingComment=\"NA\";\r\n");
      out.write("	\r\n");
      out.write("// 	alert(executive);\r\n");
      out.write("	\r\n");
      out.write("  	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateClientRating111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			servceRating : servceRating,\r\n");
      out.write("			executive : executive,\r\n");
      out.write("			ratingComment : ratingComment\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML =\"Thanks, For Your Valuable Feedback !!\";\r\n");
      out.write("				$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong, Please try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}	\r\n");
      out.write("		}\r\n");
      out.write("	});  \r\n");
      out.write("	\r\n");
      out.write("} \r\n");
      out.write("\r\n");
      out.write("function showChatArea(){\r\n");
      out.write("	$(\".sticky_top\").hide('fast');\r\n");
      out.write("	 $(\".box_width60\").hide();\r\n");
      out.write("	 if($(window).width() < 768)\r\n");
      out.write("	  $(\".chat_bg\").hide();\r\n");
      out.write("	  $(\".box_width60\").show();\r\n");
      out.write("	  \r\n");
      out.write("}\r\n");
      out.write("//  $(\".message-title.pointers.nameOfProjects\").click(function(){\r\n");
      out.write("// 	 $(\".box_width60\").hide();\r\n");
      out.write("// 	 if($(window).width() < 768)\r\n");
      out.write("// 	  $(\".chat_detail\").hide();\r\n");
      out.write("// 	  $(\".box_width60\").show();\r\n");
      out.write("	\r\n");
      out.write("// 	}); \r\n");
      out.write(" $(\".barrow i\").click(function(){\r\n");
      out.write("	 if($(window).width() < 768)\r\n");
      out.write("		 $(\".box_width60\").hide();\r\n");
      out.write("	  $(\".chat_bg\").show();\r\n");
      out.write("	  $(\".sticky_top \").show('fast');\r\n");
      out.write("	\r\n");
      out.write("	}); \r\n");
      out.write(" $(\"#files\").change(function() {\r\n");
      out.write("	 fileSize('files');\r\n");
      out.write("     filename = this.files[0].name;\r\n");
      out.write("     $(\"#customfile\").html(filename);\r\n");
      out.write("   });\r\n");
      out.write("$(\".fa-arrow-left\").click(function(){\r\n");
      out.write("	$(\".footer_menu\").removeClass(\"d-none\");\r\n");
      out.write("})\r\n");
      out.write("$(\".mobilesearchico\").click(function(){$('#SearchOrderMobile').focus()})\r\n");
      out.write("</script>\r\n");
      out.write("  </body>\r\n");
      out.write("<!-- body ends -->\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
