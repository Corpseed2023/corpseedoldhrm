/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.76
 * Generated at: 2023-09-22 13:56:46 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.menquiry;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.Properties;
import commons.CommonHelper;
import commons.DateUtil;
import admin.enquiry.Enquiry_ACT;
import client_master.Clientmaster_ACT;
import admin.task.TaskMaster_ACT;
import admin.master.Usermaster_ACT;
import hcustbackend.ClientACT;
import admin.Login.LoginAction;

public final class estimate_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(5);
    _jspx_dependants.put("/menquiry/../staticresources/includes/itswsheader.jsp", Long.valueOf(1693314479004L));
    _jspx_dependants.put("/menquiry/../staticresources/includes/itswsscripts.jsp", Long.valueOf(1637404914000L));
    _jspx_dependants.put("/menquiry/../staticresources/includes/../../madministrator/checkvalid_user.jsp", Long.valueOf(1648627112000L));
    _jspx_dependants.put("/menquiry/../staticresources/includes/itswsstyles.jsp", Long.valueOf(1637404914000L));
    _jspx_dependants.put("/menquiry/../staticresources/includes/itswsfooter.jsp", Long.valueOf(1637404914000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("admin.master.Usermaster_ACT");
    _jspx_imports_classes.add("java.util.Properties");
    _jspx_imports_classes.add("hcustbackend.ClientACT");
    _jspx_imports_classes.add("client_master.Clientmaster_ACT");
    _jspx_imports_classes.add("admin.Login.LoginAction");
    _jspx_imports_classes.add("commons.CommonHelper");
    _jspx_imports_classes.add("commons.DateUtil");
    _jspx_imports_classes.add("admin.enquiry.Enquiry_ACT");
    _jspx_imports_classes.add("admin.task.TaskMaster_ACT");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 1120256, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE HTML>\r\n");
      out.write("<html lang=\"en-US\">\r\n");
      out.write("<head>\r\n");
      out.write("	<meta charset=\"UTF-8\">\r\n");
      out.write("	<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/> \r\n");
      out.write("	<title>Manage Estimate Sale</title>\r\n");
      out.write("	");
      out.write("<META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"></META>\r\n");
      out.write("<link rel=\"shortcut icon\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/favicon.png\" type=\"image/ico\"/>\r\n");
      out.write("<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/font-awesome.min.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/bootstrap.min.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery.fancybox.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery-ui.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/bootstrap-datetimepicker.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/error.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/daterangepicker.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/select2.min.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/mdtimepicker.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/theme.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/responsive.css\" media=\"all\"/>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery.dataTables.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/buttons.dataTables.min.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/responsive.dataTables.min.css\" media=\"all\"/>\r\n");
      out.write("\r\n");
      out.write("	\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("<div class=\"wrap\">\r\n");
      out.write("	");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write('\r');
      out.write('\n');

response.addHeader("Pragma", "no-cache");
response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate");
response.addHeader("Cache-Control", "pre-check=0, post-check=0");
response.setDateHeader("Expires", 0);

String uavalidtokenno1111= (String)session.getAttribute("uavalidtokenno");
String uaIsValid1= (String)session.getAttribute("loginuID");

String sessionid = (String) session.getAttribute("sessionID");
String euaValidForAccess =  LoginAction.getPermissions(uaIsValid1, sessionid);
if(uaIsValid1== null || uaIsValid1.equals("") || uavalidtokenno1111== null || uavalidtokenno1111.equals("")||euaValidForAccess==null){	

      out.write('\r');
      out.write('\n');
      if (true) {
        _jspx_page_context.forward("/login.html");
        return;
      }
      out.write('\r');
      out.write('\n');
}
      out.write('\r');
      out.write('\n');

boolean CLA00=false;
boolean ADM00=false;
boolean ACU01=false;
boolean ACU02=false;
boolean ACU03=false;
boolean ACU04=false;
boolean ACU05=false;
boolean AMU02=false;
boolean ATT03=false;
boolean ATT02=false;
boolean SAL04=false;
boolean SAL00=false;
boolean SAL01=false;
boolean SAL02=false;
boolean SAL03=false;
boolean SAL05=false;
boolean SAL06=false;
boolean DEX00=false;
boolean DEX01=false;
boolean DEX02=false;
boolean DEX03=false;
boolean DEX05=false;
boolean CL00=false;
boolean CR01=false;
boolean CR02=false;
boolean CR03=false;
boolean CR04=false;
boolean CR05=false;
boolean CPR03=false;
boolean CB06=false;
boolean MB07=false;
boolean MB08=false;
boolean MB09=false;
boolean UBL0=false;
boolean TM00=false;
boolean MT00=false;
boolean MT01=false;
boolean TN02=false;
boolean MS03=false;
boolean MS04=false;
boolean MS05=false;
boolean MS06=false;
boolean MA00=false;
boolean MP01=false;
boolean MP02=false;
boolean EQ00=false;
boolean EQ01=false;
boolean EQ02=false;
boolean EM01=false;
boolean EM02=false;
boolean EM03=false;
boolean EM04=false;
boolean SR01=false;
boolean SR02=false;
boolean RC00=false;
boolean MC00=false;
boolean MC01=false;
boolean MC02=false;
boolean MC03=false;
boolean MC04=false;
boolean RE00=false;
boolean ME00=false;
boolean ME01=false;
boolean ME02=false;
boolean ME03=false;
boolean ME04=false;
boolean AC00=false;
boolean MS09=false;
boolean LTH00=false;
boolean EM05=false;
boolean EM06=false;
boolean MSL00=false;
boolean MSL01=false;
boolean MSL02=false;
boolean MSL03=false;
boolean MSL04=false;
boolean MTH00=false;
boolean MTH01=false;
boolean MTH02=false;
boolean MTH03=false;
boolean MTH04=false;
boolean MMH00=false;
boolean MMH01=false;
boolean MMH02=false;
boolean MMH03=false;
boolean MMH04=false;
boolean MAS00=false;
boolean MAS01=false;
boolean MST00=false;
boolean MST01=false;
boolean MST02=false;
boolean SUC00=false;
boolean SUC01=false;
boolean SUC02=false;
boolean MCV00=false;
boolean MCV01=false;
boolean MCV02=false;
boolean ACC00=false;
boolean ACC01=false;
boolean ACC02=false;
boolean ACC03=false;
boolean MB00=false;
boolean MB01=false;
boolean MB02=false;
boolean MIN00=false;
boolean MIN01=false;
boolean MIN02=false;
boolean MIN03=false;
boolean GH00=false;
boolean GH01=false;
boolean MP03=false;
boolean MP04=false;
boolean MPP00=false;
boolean MPP01=false;
boolean MTT00=false;
boolean MTT01=false;
boolean MTT02=false;
boolean MTT03=false;
boolean MTT04=false;
boolean MTT05=false;
boolean MMP00=false;
boolean MMP01=false;
boolean MMP02=false;
boolean MMP03=false;
boolean MMP04=false;
boolean MP05=false;
boolean AMC00=false;
boolean EST00=false;
boolean EST01=false;
boolean MD00=false;
boolean MDC0=false;
boolean MCC0=false;
boolean MG00=false;
boolean MTR0=false;
boolean MTX0=false;
boolean MTM0=false;
boolean MCO0=false;
boolean MX00=false;
boolean CH00=false;
boolean GI00=false;
boolean MCP0=false;
boolean RD00=false;
boolean DH00=false; 
boolean EH00=false;
boolean MCR0=false;
boolean MTR1=false;
boolean INV0=false;
boolean DC00=false;
boolean DOC00=false;
boolean DTR00=false;
   
if(euaValidForAccess!=null){    
String[] getempaccessesL=euaValidForAccess.split("#");
for(int ur=0;ur<getempaccessesL.length;ur++) {
if(getempaccessesL[ur].equals("ADM00")){ADM00=true;}
else if(getempaccessesL[ur].equals("CLA00")){CLA00=true;}
else if(getempaccessesL[ur].equals("MG00")){MG00=true;}
else if(getempaccessesL[ur].equals("MTR0")){MTR0=true;}
else if(getempaccessesL[ur].equals("MTX0")){MTX0=true;}
else if(getempaccessesL[ur].equals("MTM0")){MTM0=true;}
else if(getempaccessesL[ur].equals("MCO0")){MCO0=true;}
else if(getempaccessesL[ur].equals("MDC0")){MDC0=true;}
else if(getempaccessesL[ur].equals("MCC0")){MCC0=true;}
else if(getempaccessesL[ur].equals("MD00")){MD00=true;}
else if(getempaccessesL[ur].equals("EST00")){EST00=true;}
else if(getempaccessesL[ur].equals("EST01")){EST01=true;}
else if(getempaccessesL[ur].equals("ACU01")){ACU01=true;}
else if(getempaccessesL[ur].equals("ACU02")){ACU02=true;}
else if(getempaccessesL[ur].equals("ACU03")){ACU03=true;}
else if(getempaccessesL[ur].equals("ACU04")){ACU04=true;}
else if(getempaccessesL[ur].equals("ACU05")){ACU05=true;}
else if(getempaccessesL[ur].equals("AMU02")){AMU02=true;}
else if(getempaccessesL[ur].equals("ATT02")){ATT02=true;}
else if(getempaccessesL[ur].equals("ATT03")){ATT03=true;}
else if(getempaccessesL[ur].equals("SAL04")){SAL04=true;}
else if(getempaccessesL[ur].equals("SAL00")){SAL00=true;}
else if(getempaccessesL[ur].equals("SAL01")){SAL01=true;}
else if(getempaccessesL[ur].equals("SAL02")){SAL02=true;}
else if(getempaccessesL[ur].equals("SAL03")){SAL03=true;}
else if(getempaccessesL[ur].equals("SAL05")){SAL05=true;}
else if(getempaccessesL[ur].equals("SAL06")){SAL06=true;}
else if(getempaccessesL[ur].equals("DEX00")) {DEX00=true;}
else if(getempaccessesL[ur].equals("DEX01")) {DEX01=true;}
else if(getempaccessesL[ur].equals("DEX02")) {DEX02=true;}
else if(getempaccessesL[ur].equals("DEX03")) {DEX03=true;}
else if(getempaccessesL[ur].equals("DEX05")) {DEX05=true;}
else if(getempaccessesL[ur].equals("CL00")){CL00=true;}
else if(getempaccessesL[ur].equals("CR01")){CR01=true;}
else if(getempaccessesL[ur].equals("CR02")){CR02=true;}
else if(getempaccessesL[ur].equals("CR03")){CR03=true;}
else if(getempaccessesL[ur].equals("CR04")){CR04=true;}
else if(getempaccessesL[ur].equals("CR05")){CR05=true;}
else if(getempaccessesL[ur].equals("CPR03")){CPR03=true;}
else if(getempaccessesL[ur].equals("CB06")){CB06=true;}
else if(getempaccessesL[ur].equals("MB07")){MB07=true;}
else if(getempaccessesL[ur].equals("MB08")){MB08=true;}
else if(getempaccessesL[ur].equals("UBL0")){UBL0=true;}
else if(getempaccessesL[ur].equals("MB09")){MB09=true;}
else if(getempaccessesL[ur].equals("TM00")){TM00=true;}
else if(getempaccessesL[ur].equals("MT00")){MT00=true;}
else if(getempaccessesL[ur].equals("MT01")){MT01=true;}
else if(getempaccessesL[ur].equals("TN02")){TN02=true;}
else if(getempaccessesL[ur].equals("MS03")){MS03=true;}
else if(getempaccessesL[ur].equals("MS04")){MS04=true;}
else if(getempaccessesL[ur].equals("MS05")){MS05=true;}
else if(getempaccessesL[ur].equals("MS06")){MS06=true;}
else if(getempaccessesL[ur].equals("MA00")){MA00=true;}
else if(getempaccessesL[ur].equals("MP01")){MP01=true;}
else if(getempaccessesL[ur].equals("MP02")){MP02=true;}
else if(getempaccessesL[ur].equals("EQ00")){EQ00=true;}
else if(getempaccessesL[ur].equals("EQ01")){EQ01=true;}
else if(getempaccessesL[ur].equals("EQ02")){EQ02=true;}
else if(getempaccessesL[ur].equals("EM01")){EM01=true;}
else if(getempaccessesL[ur].equals("EM02")){EM02=true;}
else if(getempaccessesL[ur].equals("EM03")){EM03=true;}
else if(getempaccessesL[ur].equals("EM04")){EM04=true;}
else if(getempaccessesL[ur].equals("SR01")){SR01=true;}
else if(getempaccessesL[ur].equals("SR02")){SR02=true;}
else if(getempaccessesL[ur].equals("RC00")){RC00=true;}
else if(getempaccessesL[ur].equals("MC00")){MC00=true;}
else if(getempaccessesL[ur].equals("MC01")){MC01=true;}
else if(getempaccessesL[ur].equals("MC02")){MC02=true;}
else if(getempaccessesL[ur].equals("MC03")){MC03=true;}
else if(getempaccessesL[ur].equals("MC04")){MC04=true;}
else if(getempaccessesL[ur].equals("RE00")){RE00=true;}
else if(getempaccessesL[ur].equals("ME00")){ME00=true;}
else if(getempaccessesL[ur].equals("ME01")){ME01=true;}
else if(getempaccessesL[ur].equals("ME02")){ME02=true;}
else if(getempaccessesL[ur].equals("ME03")){ME03=true;}
else if(getempaccessesL[ur].equals("ME04")){ME04=true;}
else if(getempaccessesL[ur].equals("AC00")){AC00=true;}
else if(getempaccessesL[ur].equals("MS09")){MS09=true;}
else if(getempaccessesL[ur].equals("LTH00")){LTH00=true;}
else if(getempaccessesL[ur].equals("EM05")){EM05=true;}
else if(getempaccessesL[ur].equals("EM06")){EM06=true;}
else if(getempaccessesL[ur].equals("MSL00")){MSL00=true;}
else if(getempaccessesL[ur].equals("MSL01")){MSL01=true;}
else if(getempaccessesL[ur].equals("MSL02")){MSL02=true;}
else if(getempaccessesL[ur].equals("MSL03")){MSL03=true;}
else if(getempaccessesL[ur].equals("MSL04")){MSL04=true;}
else if(getempaccessesL[ur].equals("MTH00")){MTH00=true;}
else if(getempaccessesL[ur].equals("MTH01")){MTH01=true;}
else if(getempaccessesL[ur].equals("MTH02")){MTH02=true;}
else if(getempaccessesL[ur].equals("MTH03")){MTH03=true;}
else if(getempaccessesL[ur].equals("MTH04")){MTH04=true;}
else if(getempaccessesL[ur].equals("MMH00")){MMH00=true;}
else if(getempaccessesL[ur].equals("MMH01")){MMH01=true;}
else if(getempaccessesL[ur].equals("MMH02")){MMH02=true;}
else if(getempaccessesL[ur].equals("MMH03")){MMH03=true;}
else if(getempaccessesL[ur].equals("MMH04")){MMH04=true;}
else if(getempaccessesL[ur].equals("MAS00")){MAS00=true;}
else if(getempaccessesL[ur].equals("MAS01")){MAS01=true;}
else if(getempaccessesL[ur].equals("MST00")){MST00=true;}
else if(getempaccessesL[ur].equals("MST01")){MST01=true;}
else if(getempaccessesL[ur].equals("MST02")){MST02=true;}
else if(getempaccessesL[ur].equals("SUC00")){SUC00=true;}
else if(getempaccessesL[ur].equals("SUC01")){SUC01=true;}
else if(getempaccessesL[ur].equals("SUC02")){SUC02=true;}
else if(getempaccessesL[ur].equals("MCV00")){MCV00=true;}
else if(getempaccessesL[ur].equals("MCV01")){MCV01=true;}
else if(getempaccessesL[ur].equals("MCV02")){MCV02=true;}
else if(getempaccessesL[ur].equals("ACC00")){ACC00=true;}
else if(getempaccessesL[ur].equals("ACC01")){ACC01=true;}
else if(getempaccessesL[ur].equals("ACC02")){ACC02=true;}
else if(getempaccessesL[ur].equals("ACC03")){ACC03=true;}
else if(getempaccessesL[ur].equals("MB00")){MB00=true;}
else if(getempaccessesL[ur].equals("MB01")){MB01=true;}
else if(getempaccessesL[ur].equals("MB02")){MB02=true;}
else if(getempaccessesL[ur].equals("MIN00")){MIN00=true;}
else if(getempaccessesL[ur].equals("MIN01")){MIN01=true;}
else if(getempaccessesL[ur].equals("MIN02")){MIN02=true;}
else if(getempaccessesL[ur].equals("MIN03")){MIN03=true;}
else if(getempaccessesL[ur].equals("GH00")){GH00=true;}
else if(getempaccessesL[ur].equals("GH01")){GH01=true;}
else if(getempaccessesL[ur].equals("MP03")){MP03=true;}
else if(getempaccessesL[ur].equals("MP04")){MP04=true;}
else if(getempaccessesL[ur].equals("MPP00")){MPP00=true;}
else if(getempaccessesL[ur].equals("MPP01")){MPP01=true;}
else if(getempaccessesL[ur].equals("MTT00")){MTT00=true;}
else if(getempaccessesL[ur].equals("MTT01")){MTT01=true;}
else if(getempaccessesL[ur].equals("MTT02")){MTT02=true;}
else if(getempaccessesL[ur].equals("MTT03")){MTT03=true;}
else if(getempaccessesL[ur].equals("MTT04")){MTT04=true;}
else if(getempaccessesL[ur].equals("MTT05")){MTT05=true;}
else if(getempaccessesL[ur].equals("MMP00")){MMP00=true;}
else if(getempaccessesL[ur].equals("MMP01")){MMP01=true;}
else if(getempaccessesL[ur].equals("MMP02")){MMP02=true;}
else if(getempaccessesL[ur].equals("MMP03")){MMP03=true;}
else if(getempaccessesL[ur].equals("MMP04")){MMP04=true;}
else if(getempaccessesL[ur].equals("MP05")){MP05=true;}
else if(getempaccessesL[ur].equals("AMC00")){AMC00=true;}
else if(getempaccessesL[ur].equals("MX00")){MX00=true;}
else if(getempaccessesL[ur].equals("CH00")){CH00=true;}
else if(getempaccessesL[ur].equals("GI00")){GI00=true;}
else if(getempaccessesL[ur].equals("MCP0")){MCP0=true;}
else if(getempaccessesL[ur].equals("RD00")){RD00=true;}
else if(getempaccessesL[ur].equals("DH00")){DH00=true;}
else if(getempaccessesL[ur].equals("EH00")){EH00=true;}
else if(getempaccessesL[ur].equals("MCR0")){MCR0=true;}
else if(getempaccessesL[ur].equals("MTR1")){MTR1=true;}
else if(getempaccessesL[ur].equals("INV0")){INV0=true;}
else if(getempaccessesL[ur].equals("DC00")){DC00=true;}
else if(getempaccessesL[ur].equals("DOC00")){DOC00=true;}
else if(getempaccessesL[ur].equals("DTR00")){DTR00=true;}
}    
}

      out.write("\r\n");
      out.write("<div id=\"header\">\r\n");
      out.write("<div class=\"header\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-2 col-sm-2 col-xs-12\">\r\n");
      out.write("<div class=\"logo1\">\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath());
      out.write("/dashboard.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/corpseed-logo.png\"></a>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-10 col-sm-10 col-xs-12\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"header-nav\">\r\n");
      out.write("<nav class=\"main-nav main-nav3\">\r\n");
      out.write("<ul class=\"main-menu\">\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath());
      out.write("/dashboard.html\">Dashboard</a></li>\r\n");
if(ADM00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">HR<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(AMU02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managewebuser.html\">Manage HRM Login</a></li>");
}
      out.write('\r');
      out.write('\n');
if(ME00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-employee.html\">Manage Employee</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(CLA00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/clientadmin.html\">Manage Client's Admin</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MC00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-company.html\">Manage Company</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(ATT03){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/Manage-Attendance.html\">Manage Attendance</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(LTH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/logintraffic.html\">Login & Traffic History</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write('\r');
      out.write('\n');
if(EQ00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Sales<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(EST00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-estimate.html\">Manage Estimate</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(EQ02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-sales.html\">Manage Sales</a></li>");
} 
      out.write("\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/compliance-check.html\">Compliance Check</a></li>\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(DC00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Document<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(DOC00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/document-collection.html\">Document Collection</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(CL00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Client<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(CPR03){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-client.html\">Manage Client</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write('\r');
      out.write('\n');
if(MT00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">My Task<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(MT01){
      out.write("  <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/mytask.html\">My Task Details</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MD00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managedelivery.html\">Manage Delivery</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MDC0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/mydocument.html\">Manage Document</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MCC0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/calendar.html\">Calendar</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MCR0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/certificates-renewal.html\">Certificate renewal</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MTR1){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/report.html\">Manage Report</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(TN02){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<!-- <a>SEO</a> -->\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
      out.write('\r');
      out.write('\n');
if(MS04){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-seo.html\">Manage SEO OnPage</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MS09){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/seo-url-collection.html\">SEO URL Collection</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MS06){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-content.html\">Manage Content</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(SR01){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/update-report.html\">Update Report</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(SR02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/seo-report.html\">SEO Report</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write("\r\n");
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(ACC00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Account<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(AC00){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageaccount.html\">Client Accounts</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
if(MB07){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-billing.html\">Projects Billing</a></li>");
}
      out.write('\r');
      out.write('\n');
if(UBL0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/unbilled.html\">Unbilled</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MB09){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/openpayrollhistory.html\">Payroll</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(GH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetransactions.html\">Manage Transactions</a></li>");
} 
      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
if(MX00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageexpenses.html\">Manage Expense</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(CH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecredit.html\">Credit history</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(GI00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageinvoice.html\">Manage Invoice</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(TM00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Activity Master<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
      out.write('\r');
      out.write('\n');
if(MPP00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-product.html\">Manage Product</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTT00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-template.html\">Manage Template</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MG00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageguide.html\">Manage Guide</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTR0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetrigger.html\">Manage Trigger</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTX0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetax.html\">Manage Tax</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTM0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageteam.html\">Manage Teams</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MCO0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecontacts.html\">Manage Contacts</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MCP0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecoupon.html\">Manage Coupon</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(RD00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Records<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(DH00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/download-history.html\">Download History</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(EH00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/export-history.html\">Export History</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(MA00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write(" <a href=\"javascript:void(0);\" class=\"webhide\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Profile<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<div class=\"welcomeBox\"><i class=\"fas fa-user\"></i>&nbsp;Hi, ");
      out.print(session.getAttribute("uaname") );
      out.write("<span class=\"lnr lnr-chevron-down\"></span></div>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(MMP00){
      out.write("<li><a href=\"javascript:void(0);\" onclick=\"profilechapass('");
      out.print(uaIsValid1);
      out.write("','profile');\"><i class=\"fa fa-user\"></i>My Profile</a></li>");
} 
      out.write("\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/track-invoice.html\"><i class=\"fa fa-search\"></i>Track Invoice</a></li>\r\n");
if(MMP02){
      out.write("<li><a href=\"javascript:void(0);\" onclick=\"profilechapass('");
      out.print(uaIsValid1);
      out.write("','chapass');\"><i class=\"fa fa-lock\"></i>Change Password</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MMP03){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/logout.html\"><i class=\"fa fa-sign-out\"></i>Logout</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function profilechapass(id,page){$.ajax({type:\"POST\",url:\"");
      out.print(request.getContextPath());
      out.write("/vieweditpage\",data:{\"uid\":id},success:function(response){if(page==\"profile\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/profile.html\";else if(page==\"chapass\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/changepassword.html\";else if(page==\"work\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/workscheduler.html\";},});}\r\n");
      out.write("</script>\r\n");
      out.write("</li>\r\n");
}
String notificationloginuaid = (String) session.getAttribute("loginuaid");
String notificationtoken=(String)session.getAttribute("uavalidtokenno");
long totalNotification=ClientACT.getTotalUnseenNotificationAdmin(notificationtoken,notificationloginuaid); 
// System.out.println(notificationloginuaid+"/"+notificationtoken+"/"+totalNotification);
String notifications[][]=ClientACT.getAllNotification(notificationtoken,notificationloginuaid);

      out.write("\r\n");
      out.write("<li class=\"notification\">\r\n");
      out.write("<a class=\"toggle_btn\" onclick=\"markAllAsReadNotification('");
      out.print(totalNotification );
      out.write("')\"><i class=\"fa fa-bell\"></i><span class=\"badge\" id=\"totalNotification\">");
if(totalNotification>0){
      out.print(totalNotification );
} 
      out.write("</span></a>\r\n");
      out.write("<div class=\"notification_box pullDown\">\r\n");
      out.write("<!--   <div class=\"text-right notification_txt\"><a href=\"javascript:void(0)\" onclick=\"markAllAsReadNotification()\">Mark all as read</a></div> -->\r\n");
      out.write("  <div class=\"clearfix notification_inner_box\">\r\n");
      out.write(" ");
if(notifications!=null&&notifications.length>0){
	 for(int i=0;i<notifications.length;i++){
	 
      out.write("\r\n");
      out.write("      <div class=\"clearfix notification_inner\">              	\r\n");
      out.write("        <a href=\"javascript:void(0)\" onclick=\"markAsReadNotification('");
      out.print(notifications[i][2] );
      out.write("')\">\r\n");
      out.write("        <div class=\"clearfix pro_box\">\r\n");
      out.write("            <div class=\"clearfix icon_box\">\r\n");
      out.write("             <i class=\"");
      out.print(notifications[i][4] );
      out.write(" icon-circle\" aria-hidden=\"true\"></i>\r\n");
      out.write("            </div> \r\n");
      out.write("            <div class=\"clearfix pro_info\"> \r\n");
      out.write("            <h6>");
      out.print(notifications[i][3] );
      out.write("</h6>\r\n");
      out.write("            <div class=\"clearfix date_box1\">");
      out.print(notifications[i][1] );
      out.write("</div>\r\n");
      out.write("            </div>\r\n");
      out.write("         </div>\r\n");
      out.write("        </a>\r\n");
      out.write("      </div>\r\n");
      out.write("      ");
}}else{ 
      out.write("\r\n");
      out.write("      <div class=\"text-center text-muted\">No data found !!</div>\r\n");
      out.write("      ");
} 
      out.write("\r\n");
      out.write("  </div> \r\n");
      out.write("  <div class=\"text-center notification_txt mtop10\"><a href=\"");
      out.print(request.getContextPath());
      out.write("/notifications.html\">View All &nbsp;<i class=\"fa fa-angle-right\"></i></a></div> \r\n");
      out.write("</div> \r\n");
      out.write("</li>\r\n");
      out.write("<li class=\"mobilenoti\" style=\"display:none\">\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath());
      out.write("/notifications.html\" onclick=\"markAllAsReadNotification('");
      out.print(totalNotification );
      out.write("')\"><span id=\"totalNotification\">Notification");
if(totalNotification>0){
      out.write("<small>");
      out.print(totalNotification );
      out.write("</small>");
} 
      out.write("</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("</ul>\r\n");
      out.write("<div class=\"mobile-menu\">\r\n");
      out.write("<a href=\"#\" class=\"show-menu\"><span class=\"lnr lnr-indent-decrease\"></span></a>\r\n");
      out.write("<a href=\"#\" class=\"hide-menu\"><span class=\"lnr lnr-indent-increase\"></span></a>\r\n");
      out.write("</div>\r\n");
      out.write("</nav>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");

String urlpage = request.getParameter("uid");
if(urlpage==null||urlpage==""){
	urlpage=request.getParameter("page_no");
	if(urlpage==null||urlpage=="")urlpage="NA";
}
// System.out.println("pge=="+urlpage);
if(!urlpage.equalsIgnoreCase("managewebuser.html")&&!urlpage.equalsIgnoreCase("edituser.html")){
	session.removeAttribute("muname");
	session.removeAttribute("mumobile");
	session.removeAttribute("mutype");
}
if(!urlpage.equalsIgnoreCase("clientadmin.html")){
	session.removeAttribute("claname");
	session.removeAttribute("clamobile");
}
if(!urlpage.equalsIgnoreCase("manage-company.html")&&!urlpage.equalsIgnoreCase("editcompany.html")){
	session.removeAttribute("mcname");
	session.removeAttribute("mcfrom");
	session.removeAttribute("mcto");
}
if(!urlpage.equalsIgnoreCase("calendar.html")){
	session.removeAttribute("date_range_value");
}
if(!urlpage.equalsIgnoreCase("manage-employee.html")&&!urlpage.equalsIgnoreCase("editemployee.html")){
	session.removeAttribute("mename");
	session.removeAttribute("memobile");
	session.removeAttribute("meemail");
}
if(!urlpage.equalsIgnoreCase("Manage-Attendance.html")){
	session.removeAttribute("maEmpID");
	session.removeAttribute("maMonthDate");
	session.removeAttribute("mafrom");
	session.removeAttribute("mato");
}

if(!urlpage.equalsIgnoreCase("manage-billing.html")){
	session.removeAttribute("billingDateRangeAction");
	session.removeAttribute("billingClientName");
	session.removeAttribute("billingInvoiceNo");
	session.removeAttribute("billingDoAction");	
	session.removeAttribute("billingContactName");
}
if(!urlpage.equalsIgnoreCase("unbilled.html")){
	session.removeAttribute("unbillDateRangeAction");
	session.removeAttribute("unbill_no");
	session.removeAttribute("companyName");
	session.removeAttribute("unbillContactName");
	session.removeAttribute("archiveFilter");	
}
if(!urlpage.equalsIgnoreCase("all-invoice.html")){
	session.removeAttribute("invoiceDateRangeAction");
	session.removeAttribute("invoice_no");
	session.removeAttribute("invoicecompanyName");
	session.removeAttribute("invoicedContactName");
	session.removeAttribute("b2bb2c");
}
if(!urlpage.equalsIgnoreCase("manage-sales.html")){	        
	session.removeAttribute("salesInvoiceAction");
	session.removeAttribute("salesPhoneAction");
	session.removeAttribute("salesPhoneKeyAction");
	session.removeAttribute("salesProductAction");
	session.removeAttribute("salesClientAction");
	session.removeAttribute("salesContactAction");
	session.removeAttribute("salesSoldByAction");
	session.removeAttribute("salesSoldByUidAction");
	session.removeAttribute("salesDateRangeAction");
	session.removeAttribute("salesFilter");
}

if(!urlpage.equalsIgnoreCase("manage-template.html")){
	session.removeAttribute("templateDateRangeAction");
	session.removeAttribute("templateNameAction");
	session.removeAttribute("templateDoAction");
}
if(!urlpage.equalsIgnoreCase("manage-product.html")){
	session.removeAttribute("productDateRangeAction");
	session.removeAttribute("productIdAction");
	session.removeAttribute("productNameAction");
}
if(!urlpage.equalsIgnoreCase("manageteam.html")){
	session.removeAttribute("teamDateRangeAction");
	session.removeAttribute("teamNameDoAction");
	session.removeAttribute("teamDoAction");
}
if(!urlpage.equalsIgnoreCase("manage-client.html")&&!urlpage.equalsIgnoreCase("editclient.html")){
	session.removeAttribute("mclientname");
	session.removeAttribute("mclientmobile");
	session.removeAttribute("mclientlocation");
	session.removeAttribute("mclientfrom");
	session.removeAttribute("mclientto");
}

if(!urlpage.equalsIgnoreCase("manageaccount.html")&&!urlpage.equalsIgnoreCase("accountstatement.html")){
	session.removeAttribute("accountDateRangeAction");
	session.removeAttribute("accountSearchByClientName");
	session.removeAttribute("accountSearchByClientId");
}
if(!urlpage.equalsIgnoreCase("mytask.html")&&!urlpage.contains("edittask-")){
	session.removeAttribute("myTaskDateRange");
	session.removeAttribute("myTaskDoAction");
	session.removeAttribute("myTaskClientAction");
	session.removeAttribute("myTaskClientKeyAction");
	session.removeAttribute("myTaskContactAction");
	session.removeAttribute("myTaskServiceAction");
	session.removeAttribute("searchByActivity");
}
if(!urlpage.contains("edittask-")){
	session.removeAttribute("searchByActivity");
}
if(!urlpage.contains("assignmytask-")){
	session.removeAttribute("searchByActivity1");
}
if(!urlpage.equalsIgnoreCase("managedelivery.html")&&!urlpage.contains("assignmytask-")){
	session.removeAttribute("deliveryDateRangeAction");
	session.removeAttribute("deliveryDoAction");
	session.removeAttribute("deliveryInvoiceAction");
	session.removeAttribute("deliveryClientAction");
	session.removeAttribute("deliveryContactAction");
	session.removeAttribute("searchByActivity1");
}

if(!urlpage.equalsIgnoreCase("document-collection.html")){
	session.removeAttribute("collectionDateRangeAction");
	session.removeAttribute("collectionDoAction");
	session.removeAttribute("collectionInvoiceAction");
	session.removeAttribute("collectionClientAction");
	session.removeAttribute("collectionContactAction");
}

if(!urlpage.equalsIgnoreCase("manage-estimate.html")){
	session.removeAttribute("estimateContactAction");
	session.removeAttribute("estDoAction");
	session.removeAttribute("ClientNameDoAction");
	session.removeAttribute("estimateNoDoAction");
	session.removeAttribute("dateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("mydocument.html")&&!urlpage.contains("subdocuments-")&&!urlpage.contains("personalfiles-")){
	session.removeAttribute("mdclientname");
	session.removeAttribute("mdclientid");
	session.removeAttribute("mdfoldername");
	session.removeAttribute("mdprojectno");
	/* new */
	session.removeAttribute("doDocumentAction");
	session.removeAttribute("SearchByClientName");
	session.removeAttribute("SearchByClientId");
}
if(!urlpage.contains("personalfiles-")){
	session.removeAttribute("personalDoActionFiles");
	session.removeAttribute("pdocsortby_ord");
	session.removeAttribute("pdocsorting_order");
}
if(!urlpage.contains("documentfiles-")){
	session.removeAttribute("doActionFiles");
	session.removeAttribute("dcsortby_ord");
	session.removeAttribute("dcesorting_order");
}
if(!urlpage.equalsIgnoreCase("manageexpenses.html")){
	session.removeAttribute("expenseDateRangeAction");
	session.removeAttribute("expsortby_ord");
	session.removeAttribute("expClientName");
	session.removeAttribute("expContactMobile");
	session.removeAttribute("expsorting_order"); 
}
if(!urlpage.equalsIgnoreCase("download-history.html")){
	session.removeAttribute("history_page");
	session.removeAttribute("hisDateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("export-history.html")){
	session.removeAttribute("ex_history_page");
	session.removeAttribute("ex_hisDateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("manageguide.html")){
	session.removeAttribute("guideDateRangeAction");
	session.removeAttribute("guideProductAction");
	session.removeAttribute("guideProductKeyAction");
	session.removeAttribute("guideMilestoneAction");
}
if(!urlpage.equalsIgnoreCase("managetransactions.html")){
	session.removeAttribute("transactionDateRangeAction");
	session.removeAttribute("transactionClientNameAction");
	session.removeAttribute("transactionInvoiceAction");
	session.removeAttribute("transactionDoAction");
}
if(!urlpage.equalsIgnoreCase("managecredit.html")){
	session.removeAttribute("creditDateRangeAction");
}
if(!urlpage.equalsIgnoreCase("managetrigger.html")){
	session.removeAttribute("TriggerNameDoAction");
	session.removeAttribute("TriggerNoDoAction");
	session.removeAttribute("TriggerdateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("managecontacts.html")){
	session.removeAttribute("contactDateRangeAction");
	session.removeAttribute("contactCompanyNameAction");	
}
if(!urlpage.equalsIgnoreCase("certificates-renewal.html")){
	session.removeAttribute("certRenewalTaskDateRange");
}
if(!urlpage.equalsIgnoreCase("notifications.html")){
	session.removeAttribute("notificationPageLimit");
	session.removeAttribute("notificationPageStart");
	session.removeAttribute("notificationPageEnd");
	session.removeAttribute("notificationTaskDateRange");
}
if(!urlpage.equalsIgnoreCase("report.html")){
	session.removeAttribute("reportprojectNo");
	session.removeAttribute("reportAssigneeUid");
	session.removeAttribute("reportAssigneeName");
}

      out.write('\r');
      out.write('\n');
      out.write('	');
if(!EST00){
      if (true) {
        _jspx_page_context.forward("/login.html");
        return;
      }
} 
      out.write(" \r\n");
      out.write("	");

String addedby= (String)session.getAttribute("loginuID");
String loginuaid= (String)session.getAttribute("loginuaid");
String userRole= (String)session.getAttribute("userRole");
String userroll= (String)session.getAttribute("emproleid");
String department= (String)session.getAttribute("uadepartment");
if(department==null)department="NA";
String token=(String)session.getAttribute("uavalidtokenno");
String today=DateUtil.getCurrentDateIndianFormat1();
Properties properties = new Properties();
properties.load(getServletContext().getResourceAsStream("/staticresources/properties"));			
String domain=properties.getProperty("domain");
String azurePath=properties.getProperty("azure_path");

// new start  
String estDoAction=(String)session.getAttribute("estDoAction");
if(estDoAction==null||estDoAction.length()<=0)estDoAction="All";

String ClientNameDoAction=(String)session.getAttribute("ClientNameDoAction");
if(ClientNameDoAction==null||ClientNameDoAction.length()<=0)ClientNameDoAction="NA";

String estimateNoDoAction=(String)session.getAttribute("estimateNoDoAction");
if(estimateNoDoAction==null||estimateNoDoAction.length()<=0)estimateNoDoAction="NA";

String estimateContactAction=(String)session.getAttribute("estimateContactAction");
if(estimateContactAction==null||estimateContactAction.length()<=0)estimateContactAction="NA";

String dateRangeDoAction=(String)session.getAttribute("dateRangeDoAction");
if(dateRangeDoAction==null||dateRangeDoAction.length()<=0)dateRangeDoAction="NA";

/*end  */ 

//pagination start

String filter="";
String sortF=request.getParameter("sort");
String ordF=request.getParameter("ord");
if(sortF!=null&&sortF.length()>0)filter="&sort="+sortF;
if(ordF!=null&&ordF.length()>0)filter+="&ord="+ordF;

int pageNo=1;
int rows=10;
String sort="";
String sorting_order="sorting_desc";
String order=request.getParameter("ord");
if(order==null)order="desc";
else if(order.equalsIgnoreCase("asc")){order="desc";sorting_order="sorting_desc";}
else if(order.equalsIgnoreCase("desc")){order="asc";sorting_order="sorting_asc";}

if(request.getParameter("page")!=null)pageNo=Integer.parseInt(request.getParameter("page"));
if(request.getParameter("rows")!=null)rows=Integer.parseInt(request.getParameter("rows"));

if(request.getParameter("sort")!=null)sort=request.getParameter("sort");

String sort_url=domain+"manage-estimate.html?page="+pageNo+"&rows="+rows;

//pagination end 

int totalEstimate=Clientmaster_ACT.countAllEstimate(userRole,loginuaid,token,estDoAction,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,estimateContactAction,department);

String[][] estimate=Clientmaster_ACT.getAllEstimate(userRole,loginuaid,token,estDoAction,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,pageNo,rows,sort,order,estimateContactAction,department); 

String[][] servicetype=TaskMaster_ACT.getAllServiceType(token);

double totalSalesAmount=Clientmaster_ACT.getTotalSalesAmount(userRole,loginuaid,estDoAction,token,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,estimateContactAction,department);
double convertedSales=Clientmaster_ACT.getTotalConvertedSalesAmount(userRole,loginuaid,estDoAction,token,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,estimateContactAction,department); 
double convertedSalesDues=Clientmaster_ACT.getTotalSalesDueAmount(userRole,loginuaid,estDoAction,token,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,estimateContactAction,department);
int convertedQty=Clientmaster_ACT.countTotalConvertedSale(userRole,loginuaid,estDoAction,token,ClientNameDoAction,estimateNoDoAction,dateRangeDoAction,estimateContactAction,department); 
 
String country[][]=TaskMaster_ACT.getAllCountries();
// System.out.println("convertedSalesDues=="+convertedSalesDues);


      out.write("\r\n");
      out.write("	<div id=\"content\">\r\n");
      out.write("		<div class=\"main-content\">\r\n");
      out.write("			<div class=\"container-fluid\">				\r\n");
      out.write("				<div class=\"box_shadow1 invoice_info redius_box pad_box4 bg_wht mb30\">\r\n");
      out.write("                        <div class=\"clearfix dashboard_info\">\r\n");
      out.write("                        \r\n");
      out.write("                          <div class=\"pad0 col-md-3 col-sm-3 col-xs-6\">\r\n");
      out.write("                          <div class=\"post\" style=\"position:absolute;z-index:9\">\r\n");
      out.write("                          <div class=\"avatar\" style=\"width:100px;height:35px;float:none;margin: 2px;border-radius:15%\"></div>\r\n");
      out.write("                          <div class=\"linee\" style=\"margin-top: -1px;\"></div>\r\n");
      out.write("                            </div>\r\n");
      out.write("						   <div class=\"clearfix mlft20\">\r\n");
      out.write("                            <h3 title=\"");
      out.print(Math.round(totalSalesAmount));
      out.write("\"><i class=\"fa fa-inr\"></i> ");
      out.print(CommonHelper.formatValue(Math.round(totalSalesAmount)) );
      out.write("</h3>\r\n");
      out.write("							<span>Estimate Sales</span>\r\n");
      out.write("						   </div>\r\n");
      out.write("                          </div>\r\n");
      out.write("                          <div class=\"pad0 bdr_left col-md-3 col-sm-3 col-xs-6\">\r\n");
      out.write("                           <div class=\"post\" style=\"position:absolute;z-index:9\">\r\n");
      out.write("                          <div class=\"avatar\" style=\"width:100px;height:35px;float:none;margin: 2px;border-radius:15%\"></div>\r\n");
      out.write("                          <div class=\"linee\" style=\"margin-top: -1px;\"></div>\r\n");
      out.write("                            </div>\r\n");
      out.write("						   <div class=\"clearfix mlft20\">\r\n");
      out.write("                            <h3 title=\"");
      out.print(Math.round(convertedSales));
      out.write("\"><i class=\"fa fa-inr\"></i> ");
      out.print(CommonHelper.formatValue(Math.round(convertedSales)) );
      out.write(" </h3>\r\n");
      out.write("							<span>Total Sales</span>\r\n");
      out.write("                           </div>\r\n");
      out.write("						  </div>\r\n");
      out.write("                          <div class=\"pad0 bdr_left col-md-3 col-sm-3 col-xs-6\">\r\n");
      out.write("                           <div class=\"post\" style=\"position:absolute;z-index:9\">\r\n");
      out.write("                          <div class=\"avatar\" style=\"width:100px;height:35px;float:none;margin: 2px;border-radius:15%\"></div>\r\n");
      out.write("                          <div class=\"linee\" style=\"margin-top: -1px;\"></div>\r\n");
      out.write("                            </div>\r\n");
      out.write("						   <div class=\"clearfix mlft20\">\r\n");
      out.write("                            <h3 title=\"");
      out.print(Math.round(convertedSalesDues));
      out.write("\"><i class=\"fa fa-inr\"></i> ");
      out.print(CommonHelper.formatValue(Math.round(convertedSalesDues)) );
      out.write("</h3>\r\n");
      out.write("							<span>Due Amount</span>\r\n");
      out.write("                           </div>\r\n");
      out.write("						  </div>\r\n");
      out.write("                          <div class=\"pad0 bdr_left col-md-3 col-sm-3 col-xs-6\">\r\n");
      out.write("                           <div class=\"post\" style=\"position:absolute;z-index:9\">\r\n");
      out.write("                          <div class=\"avatar\" style=\"width:100px;height:35px;float:none;margin: 2px;border-radius:15%\"></div>\r\n");
      out.write("                          <div class=\"linee\" style=\"margin-top: -1px;\"></div>\r\n");
      out.write("                            </div>\r\n");
      out.write("						   <div class=\"clearfix mlft20\">\r\n");
      out.write("                            <h3 title=\"");
      out.print(convertedQty);
      out.write("\"><i class=\"fab fa-angellist\"></i> ");
      out.print(CommonHelper.formatValue(convertedQty) );
      out.write("</h3>\r\n");
      out.write("							<span>No. Of Deals</span>\r\n");
      out.write("                           </div>\r\n");
      out.write("						  </div>\r\n");
      out.write("                        </div> \r\n");
      out.write("				</div>\r\n");
      out.write("				\r\n");
      out.write("				<div class=\"clearfix\"> \r\n");
      out.write("				<form name=\"RefineSearchenqu\" onsubmit=\"return false;\">\r\n");
      out.write("				<div class=\"bg_wht clearfix mb10\">  \r\n");
      out.write("				<div class=\"row\" id=\"SearchOptions\">\r\n");
      out.write("				<div class=\"post\" style=\"position:absolute;z-index:9\">\r\n");
      out.write("                <div class=\"linee\" style=\"margin-top: -1px;width:1350px;height:50px\"></div>\r\n");
      out.write("                    </div>\r\n");
      out.write("				<div class=\"col-md-4 col-sm-4 col-xs-12\"> \r\n");
      out.write("				<div class=\"col-md-6 col-sm-6 box-width17\">\r\n");
      out.write("				");
if(EST01){ 
      out.write("<a href=\"");
      out.print(request.getContextPath() );
      out.write("/newestimatesale.html\"><button type=\"button\" class=\"filtermenu dropbtn\" style=\"width: 83px;margin-left: -14px;\">+&nbsp;Add new</button></a>");
} 
      out.write("\r\n");
      out.write("				</div>\r\n");
      out.write("				<div class=\"col-md-6 col-sm-6\" style=\"margin-left: 15px;display: inline-block;\">\r\n");
      out.write("				<select class=\"filtermenu\" onchange=\"doAction(this.value,'estDoAction');location.reload();\">\r\n");
      out.write("				<option value=\"All\" ");
if(estDoAction.equalsIgnoreCase("All")){ 
      out.write("selected");
} 
      out.write(">All</option>\r\n");
      out.write("				<option value=\"Invoiced\" ");
if(estDoAction.equalsIgnoreCase("Invoiced")){ 
      out.write("selected");
} 
      out.write(">Invoiced</option>\r\n");
      out.write("				<option value=\"Draft\" ");
if(estDoAction.equalsIgnoreCase("Draft")){ 
      out.write("selected");
} 
      out.write(">Draft</option>\r\n");
      out.write("				<option value=\"Cancelled\" ");
if(estDoAction.equalsIgnoreCase("Cancelled")){ 
      out.write("selected");
} 
      out.write(">Cancelled</option>\r\n");
      out.write("				<option value=\"Pending for approval\" ");
if(estDoAction.equalsIgnoreCase("Pending for approval")){ 
      out.write("selected");
} 
      out.write(">Pending for approval</option>\r\n");
      out.write("				</select>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				<a href=\"javascript:void(0)\" class=\"doticon\"> <i class=\"fa fa-filter\" aria-hidden=\"true\"></i>Filter</a>\r\n");
      out.write("				<div class=\"filtermmenu\">\r\n");
      out.write("				<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("				<div class=\"clearfix flex_box justify_end\">  \r\n");
      out.write("				<div class=\"item-bestsell col-md-3 col-sm-6 col-xs-12\">\r\n");
      out.write("				<p><input type=\"search\" name=\"contactName\" id=\"ContactName\" ");
if(!estimateContactAction.equalsIgnoreCase("NA")){ 
      out.write("onsearch=\"clearSession('estimateContactAction');location.reload();\" value=\"");
      out.print(estimateContactAction );
      out.write('"');
} 
      out.write(" title=\"Search by Client !\" placeholder=\"Client Name..\" class=\"form-control\"/>\r\n");
      out.write("				</p>\r\n");
      out.write("				</div>\r\n");
      out.write("				<div class=\"item-bestsell col-md-3 col-sm-6 col-xs-12 has-clear\">\r\n");
      out.write("				<p><input type=\"search\" name=\"clientname\" id=\"ClientName\" autocomplete=\"off\" ");
 if(!ClientNameDoAction.equalsIgnoreCase("NA")){ 
      out.write("onsearch=\"clearSession('ClientNameDoAction');location.reload();\" value=\"");
      out.print(ClientNameDoAction);
      out.write('"');
} 
      out.write(" placeholder=\"Search by company\" class=\"form-control\"/>\r\n");
      out.write("				</p>\r\n");
      out.write("				</div> \r\n");
      out.write("				<div class=\"item-bestsell col-md-3 col-sm-6 col-xs-12 has-clear\">\r\n");
      out.write("				<p><input type=\"search\" name=\"estimateNo\" id=\"EstimateNo\" ");
if(!estimateNoDoAction.equalsIgnoreCase("NA")){ 
      out.write("onsearch=\"clearSession('estimateNoDoAction');location.reload();\" value=\"");
      out.print(estimateNoDoAction );
      out.write('"');
} 
      out.write(" autocomplete=\"off\" placeholder=\"Estimate No.\" class=\"form-control\"/>\r\n");
      out.write("				</p>\r\n");
      out.write("				</div> \r\n");
      out.write("				<div class=\"item-bestsell col-md-3 col-sm-6 col-xs-12 has-clear\"> \r\n");
      out.write("				<p><input type=\"text\" name=\"date_range\" id=\"date_range\" autocomplete=\"off\" placeholder=\"FROM - TO\" class=\"form-control text-center date_range pointers ");
if(!dateRangeDoAction.equalsIgnoreCase("NA")){ 
      out.write("selected");
} 
      out.write("\" readonly=\"readonly\"/>\r\n");
      out.write("				<span class=\"form-control-clear form-control-feedback\" onclick=\"clearSession('dateRangeDoAction');location.reload();\"></span>\r\n");
      out.write("				</p>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				<!-- search option 2 -->\r\n");
      out.write("				<div class=\"row noDisplay\" id=\"SearchOptions1\">\r\n");
      out.write("				<div class=\"col-md-5 col-sm-5 col-xs-12\"> \r\n");
      out.write("				<div class=\"col-md-4\">\r\n");
      out.write("				<a href=\"#\" onclick=\"downloadInvoices()\"><button type=\"button\" class=\"filtermenu btn-block dropbtn\">Download</button></a>\r\n");
      out.write("				</div>\r\n");
      out.write("				<div class=\"col-md-4\">\r\n");
      out.write("				<button type=\"button\" class=\"filtermenu btn-block dropbtn\" data-toggle=\"modal\" data-target=\"#ExportData\">Export</button>\r\n");
      out.write("				</div>\r\n");
      out.write("				<div class=\"col-md-4\">\r\n");
      out.write("				<select class=\"form-control filtermenu\" id=\"estimateStatus\">\r\n");
      out.write("					<option value=\"\">Action</option>\r\n");
      out.write("					<option value=\"Draft\">Draft</option>\r\n");
      out.write("					<option value=\"Cancelled\">Cancel</option>\r\n");
      out.write("				</select>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				<div class=\"col-md-7 col-sm-7 col-xs-12 min-height50\">\r\n");
      out.write("				<div class=\"clearfix flex_box justify_end\">  \r\n");
      out.write("				\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				</div>\r\n");
      out.write("				\r\n");
      out.write("				</div>\r\n");
      out.write("				</form>\r\n");
      out.write("				</div>\r\n");
      out.write("								\r\n");
      out.write("			  <div class=\"row\">\r\n");
      out.write("             	<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("                <div class=\"table-responsive\">\r\n");
      out.write("				<table class=\"ctable\">\r\n");
      out.write("				    <thead>\r\n");
      out.write("				    <tr class=\"tg\" style=\"position:absolute;width:100%;display:inline-table\">\r\n");
      out.write("				    <th class=\"tg-cly1\">  \r\n");
      out.write("				        <div class=\"line\"></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				    <th class=\"tg-cly1\">\r\n");
      out.write("				      <div class=\"line\" ></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				    <th class=\"tg-cly1\">\r\n");
      out.write("				      <div class=\"line\" ></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				    <th class=\"tg-cly1\">\r\n");
      out.write("				      <div class=\"line\" ></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				    <th class=\"tg-cly1\">\r\n");
      out.write("				      <div class=\"line\" ></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				    <th class=\"tg-cly1\">\r\n");
      out.write("				      <div class=\"line\" ></div>\r\n");
      out.write("				    </th>\r\n");
      out.write("				  </tr>\r\n");
      out.write("						        <tr>\r\n");
      out.write("						            <th><span class=\"hashico\">#</span><input type=\"checkbox\" class=\"pointers noDisplay\" id=\"CheckAll\"></th>\r\n");
      out.write("						            <th width=\"100\" class=\"sorting ");
if(sort.equals("date")){ 
      out.print(sorting_order);
} 
      out.write("\" onclick=\"sortBy('");
      out.print(sort_url);
      out.write("','date','");
      out.print(order);
      out.write("')\">Date</th>\r\n");
      out.write("						            <th class=\"sorting ");
if(sort.equals("estimate")){ 
      out.print(sorting_order);
} 
      out.write("\" onclick=\"sortBy('");
      out.print(sort_url);
      out.write("','estimate','");
      out.print(order);
      out.write("')\">Estimate No.</th>\r\n");
      out.write("						            <th>Client's Name</th>\r\n");
      out.write("						            <th class=\"sorting ");
if(sort.equals("company")){ 
      out.print(sorting_order);
} 
      out.write("\" onclick=\"sortBy('");
      out.print(sort_url);
      out.write("','company','");
      out.print(order);
      out.write("')\">Company</th>\r\n");
      out.write("						            <th class=\"sorting  ");
if(sort.equals("status")){ 
      out.print(sorting_order);
} 
      out.write("\" onclick=\"sortBy('");
      out.print(sort_url);
      out.write("','status','");
      out.print(order);
      out.write("')\">Status</th>\r\n");
      out.write("						            <th width=\"120\">Amount</th>\r\n");
      out.write("						            <th>Sales Person</th>\r\n");
      out.write("						        </tr>\r\n");
      out.write("						    </thead>\r\n");
      out.write("						    <tbody>\r\n");
      out.write("						    ");

						    int ssn=0;
						    
						    int startRange=pageNo-2;
						    int endRange=pageNo+2;
						    int totalPages=1;
						    int showing=0;
						    String pymtstatus="NA";
	                           String color="NA";
	                           if(estimate!=null&&estimate.length>0){
	                        	   
	                        	   ssn=rows*(pageNo-1);
	                        	   showing=ssn+1;
	                        		  totalPages=(totalEstimate/rows);
	                        		  if((totalEstimate%rows)!=0)totalPages+=1;
	                        		  
	                        		  if (totalPages > 1) {     	 
	                        			  if((endRange-2)==totalPages)startRange=pageNo-4;        
	                        	          if(startRange==pageNo)endRange=pageNo+4;
	                        	          if(startRange<1) {startRange=1;endRange=startRange+4;}
	                        	          if(endRange>totalPages) {endRange=totalPages;startRange=endRange-4;}             
	                        	          if(startRange<1)startRange=1;
	                        	     }else{startRange=0;endRange=0;}	                        	   
	                            for(int i=0;i<estimate.length;i++) {
	                           	 String client[][]=Enquiry_ACT.getClientDetails(estimate[i][11],token);
	                           	 String compaddress[]=Clientmaster_ACT.getClientAddressByRefid(estimate[i][12], token);
	                           	 double totalamt=Clientmaster_ACT.getTotalClientProjectAmount(estimate[i][2],token); 
	                           	 String salesPerson=Usermaster_ACT.getLoginUserName(estimate[i][10], token);
	                           			 
	                           	 totalamt-=Double.parseDouble(estimate[i][15]);
	                           	 String clientEmail="NA";
	                           	 String clientName="NA";
	                           	 if(client!=null&&client.length>0){
	                           		 clientEmail=client[0][5];
	                           		clientName=client[0][0];
	                           	 }
                           
      out.write("\r\n");
      out.write("                           \r\n");
      out.write("							<tr class=\"tg\" style=\"position:absolute;width:100%;display:inline-table\">\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							    <td class=\"tg-cly1\">\r\n");
      out.write("							      <div class=\"line\"></div>\r\n");
      out.write("							    </td>\r\n");
      out.write("							   \r\n");
      out.write("							  </tr>\r\n");
      out.write("                           \r\n");
      out.write("						        <tr>\r\n");
      out.write("						            <td><input type=\"checkbox\" name=\"checkbox\" id=\"checkbox\" class=\"checked\" value=\"");
      out.print(estimate[i][2] );
      out.write("\"></td>\r\n");
      out.write("						            <td>");
      out.print(estimate[i][9] );
      out.write("</td>\r\n");
      out.write("						            <td><span class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"openEstimateBox('");
      out.print(estimate[i][2] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][3] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][11] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][12] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][1] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][15]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(clientEmail);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(clientName);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(totalamt);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][9]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][16]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][14]);
      out.write("')\">");
      out.print(estimate[i][2] );
      out.write("</span></td>\r\n");
      out.write("						            <td class=\"name_action_box position-relative\" id=\"main");
      out.print(estimate.length-i );
      out.write("\">\r\n");
      out.write("						            <span id=\"MainCon");
      out.print(estimate.length-i );
      out.write("\" class=\"clickeble contactbox name_field\" data-related=\"update_contact\" ");
if(client!=null&&client.length>0){ 
      out.write("onclick=\"openContactBox('");
      out.print(client[0][3] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(client[0][2] );
      out.write("','MainCon");
      out.print(estimate.length-i);
      out.write("','Address");
      out.print(estimate.length-i );
      out.write("')\">");
      out.print(client[0][0] );
}else{ 
      out.write('>');
      out.write('N');
      out.write('A');
}
      out.write("</span>\r\n");
      out.write("                                   ");
if(client!=null&&client.length>1){ 
      out.write("\r\n");
      out.write("                                   <div class=\"iAction\">\r\n");
      out.write("                                   <i class=\"fa fa-plus pointers\" onclick=\"showAllContact(event,'main");
      out.print(estimate.length-i );
      out.write("','sub");
      out.print(estimate.length-i );
      out.write("')\"><small>");
      out.print((client.length-1) );
      out.write("</small></i><i class=\"fa fa-minus pointers\" onclick=\"minusAllContact(event)\">&nbsp;</i>\r\n");
      out.write("                                   </div>\r\n");
      out.write("                                   ");
} 
      out.write("\r\n");
      out.write("						            <ul class=\"dropdown_list\" id=\"sub");
      out.print(estimate.length-i );
      out.write("\">\r\n");
      out.write("									");
if(client!=null&&client.length>1){for(int j=1;j<client.length;j++){ 
      out.write("\r\n");
      out.write("									<li><a class=\"addnew2 pointers clickeble contactbox\" data-related=\"update_contact\" id=\"SubCon");
      out.print(estimate.length-i );
      out.write("\" onclick=\"openContactBox('");
      out.print(client[j][3] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(client[j][2] );
      out.write("','SubCon");
      out.print(estimate.length-i);
      out.write("','Address");
      out.print(estimate.length-i );
      out.write("')\">");
      out.print(client[j][0] );
      out.write("</a></li>\r\n");
      out.write("									");
}} 
      out.write("\r\n");
      out.write("									</ul>\r\n");
      out.write("						            </td>\r\n");
      out.write("						            <td>\r\n");
      out.write("						            <span class=\"clickeble companybox\" data-related=\"update_company\" onclick=\"openCompanyBox('");
      out.print(estimate[i][12] );
      out.write("')\">");
      out.print(estimate[i][3] );
      out.write("</span>\r\n");
      out.write("						            <input type=\"hidden\" name=\"address");
      out.print(estimate.length-i );
      out.write("\" id=\"Address");
      out.print(estimate.length-i );
      out.write("\" value=\"");
      out.print(compaddress[0]);
      out.write("\">\r\n");
      out.write("						            </td>\r\n");
      out.write("						            ");
if(estimate[i][14].equalsIgnoreCase("Invoiced")){
      out.write("\r\n");
      out.write("						            <td class=\"text-success\">");
      out.print(estimate[i][14] );
      out.write("</td>");
}else if(estimate[i][14].equalsIgnoreCase("Cancelled")){
      out.write("\r\n");
      out.write("						            <td><a href=\"javascript:void(0)\" onclick=\"showCancelReason('");
      out.print(estimate[i][2] );
      out.write("')\" class=\"text-danger\">");
      out.print(estimate[i][14] );
      out.write("</a></td>");
}else{
      out.write("\r\n");
      out.write("						            <td>");
      out.print(estimate[i][14] );
      out.write("</td>\r\n");
      out.write("						            ");
} 
      out.write("						            \r\n");
      out.write("						            <td>\r\n");
      out.write("						            <span class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"openEstimateBox('");
      out.print(estimate[i][2] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][3] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][11] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][12] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][1] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][15]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(clientEmail);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(clientName);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(totalamt );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][9] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][16]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(estimate[i][14]);
      out.write("')\" title=\"");
      out.print(Math.round(totalamt));
      out.write("\"><i class=\"fa fa-inr\"></i>&nbsp");
      out.print(CommonHelper.withLargeIntegers(totalamt) );
      out.write("</span>\r\n");
      out.write("						            </td>	\r\n");
      out.write("						            <td>");
      out.print(salesPerson );
      out.write("</td>					            \r\n");
      out.write("						        </tr>");
}}
      out.write("					     \r\n");
      out.write("                                 \r\n");
      out.write("						    </tbody>\r\n");
      out.write("						</table>\r\n");
      out.write("						</div> \r\n");
      out.write("						 <div class=\"filtertable\">\r\n");
      out.write("						  <span>Showing ");
      out.print((showing) );
      out.write(" to ");
      out.print(ssn+estimate.length );
      out.write(" of ");
      out.print(totalEstimate );
      out.write(" entries</span>\r\n");
      out.write("						  <div class=\"pagination\">\r\n");
      out.write("						    <ul> ");
if(pageNo>1){ 
      out.write("\r\n");
      out.write("						      <li class=\"page-item\">	                     \r\n");
      out.write("						      <a class=\"page-link text-primary\" href=\"");
      out.print(request.getContextPath());
      out.write("/manage-estimate.html?page=1&rows=");
      out.print(rows);
      out.print(filter);
      out.write("\">First</a>\r\n");
      out.write("						   </li>");
} 
      out.write("\r\n");
      out.write("						    <li class=\"page-item\">					      \r\n");
      out.write("						      <a class=\"page-link ");
if(pageNo>1){ 
      out.write("text-primary");
}else{ 
      out.write(" text-muted");
} 
      out.write('"');
      out.write(' ');
if(pageNo>1){ 
      out.write("href=\"");
      out.print(request.getContextPath());
      out.write("/manage-estimate.html?page=");
      out.print((pageNo-1) );
      out.write("&rows=");
      out.print(rows);
      out.print(filter);
      out.write('"');
}else{ 
      out.write("href=\"javascript:void(0)\"");
} 
      out.write(">Previous</a>\r\n");
      out.write("						    </li>  \r\n");
      out.write("						      ");
if(startRange>0&&endRange>0)for(int i=startRange;i<=endRange;i++){ 
      out.write("        \r\n");
      out.write("							    <li class=\"page-item ");
if(pageNo==i){ 
      out.write("active");
}
      out.write("\">\r\n");
      out.write("							    <a class=\"page-link\" href=\"");
      out.print(request.getContextPath());
      out.write("/manage-estimate.html?page=");
      out.print(i );
      out.write("&rows=");
      out.print(rows);
      out.print(filter);
      out.write('"');
      out.write('>');
      out.print(i );
      out.write("</a>\r\n");
      out.write("							    </li>   \r\n");
      out.write("							  ");
} 
      out.write("\r\n");
      out.write("							   <li class=\"page-item\">						      \r\n");
      out.write("							      <a class=\"page-link ");
if(pageNo!=totalPages){ 
      out.write("text-primary");
}else{ 
      out.write("text-muted");
} 
      out.write('"');
      out.write(' ');
if(pageNo!=totalPages){ 
      out.write("href=\"");
      out.print(request.getContextPath());
      out.write("/manage-estimate.html?page=");
      out.print((pageNo+1) );
      out.write("&rows=");
      out.print(rows);
      out.print(filter);
      out.write('"');
}else{ 
      out.write("href=\"javascript:void(0)\"");
} 
      out.write(">Next</a>\r\n");
      out.write("							   </li>");
if(pageNo<=(totalPages-1)){ 
      out.write("\r\n");
      out.write("							   <li class=\"page-item\">\r\n");
      out.write("							      <a class=\"page-link text-primary\" href=\"");
      out.print(request.getContextPath());
      out.write("/manage-estimate.html?page=");
      out.print((totalPages) );
      out.write("&rows=");
      out.print(rows);
      out.print(filter);
      out.write("\">Last</a>\r\n");
      out.write("							   </li>");
} 
      out.write("\r\n");
      out.write("							</ul>\r\n");
      out.write("							</div>\r\n");
      out.write("							<select class=\"select2\" onchange=\"changeRows(this.value,'manage-estimate.html?page=1','");
      out.print(domain);
      out.write("')\">\r\n");
      out.write("							<option value=\"10\" ");
if(rows==10){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 10</option>\r\n");
      out.write("							<option value=\"20\" ");
if(rows==20){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 20</option>\r\n");
      out.write("							<option value=\"40\" ");
if(rows==40){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 40</option>\r\n");
      out.write("							<option value=\"80\" ");
if(rows==80){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 80</option>\r\n");
      out.write("							<option value=\"100\" ");
if(rows==100){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 100</option>\r\n");
      out.write("							<option value=\"200\" ");
if(rows==200){ 
      out.write("selected=\"selected\"");
} 
      out.write(">Rows 200</option>\r\n");
      out.write("							</select>\r\n");
      out.write("							</div>						\r\n");
      out.write("			</div>		\r\n");
      out.write("		</div>\r\n");
      out.write("	</div>\r\n");
      out.write("</div>\r\n");
      out.write("<p id=\"end\" style=\"display:none;\"></p>  \r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"fixed_right_box\">\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"update_company\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fas fa-times\" style=\"font-size: 21px;\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"far fa-building\"></i>Update Company</h3> \r\n");
      out.write("<p>When someone reaches out to you, they become a contact in your account. You can create companies and associate contacts with them.</div>\r\n");
      out.write("<form onsubmit=\"return false;\" id=\"UpdateRegCompany\">\r\n");
      out.write("<input type=\"hidden\" id=\"UpdateCompanyKey\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" name=\"companyname\" id=\"UpdateCompanyName\" placeholder=\"Company Name\" onblur=\"validCompanyNamePopup('UpdateCompanyName');validateValuePopup('UpdateCompanyName');isExistValue('UpdateCompanyName')\" class=\"form-control bdrd4\" readonly=\"readonly\">\r\n");
      out.write(" </div>\r\n");
      out.write("  <div id=\"cnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" name=\"industry\" id=\"UpdateIndustry_Type\" placeholder=\"Industry\" onblur=\"validateNamePopup('UpdateIndustry_Type');validateValuePopup('UpdateIndustry_Type')\" class=\"form-control bdrd4\">\r\n");
      out.write("  \r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"industryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix inner_box_bg\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">  \r\n");
      out.write(" <label>Super User</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select name=\"update_super_user\" id=\"Update_Super_User\" class=\"form-control bdrd4\" required=\"required\">  \r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"clearfix text-right mt-5\">\r\n");
      out.write("     <button class=\"addbtn pointers active\" onclick=\"addSuperUser('Update_Super_User')\" type=\"button\">+ Add Super User</button>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Pan Number :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"pannumber\" id=\"UpdatePanNumber\" placeholder=\"Pan Number\" onblur=\"validatePanPopup('UpdatePanNumber');validateValuePopup('UpdatePanNumber');isExistEditPan('UpdatePanNumber');\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"panNoErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"text-right\" style=\"margin-top: -8px;\">\r\n");
      out.write("<span class=\"add_new pointers\">+ GST</span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"relative_box form-group new_field\" id=\"CompanyGstDivId\">\r\n");
      out.write("  <label>GST Number :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"gstnumber\" id=\"UpdateGSTNumber\" onblur=\"isExistEditGST('UpdateGSTNumber')\" placeholder=\"GST Number here !\" class=\"form-control bdrd4\">\r\n");
      out.write("<button class=\"addbtn pointers close_icon1 del_icon\" type=\"button\"><i class=\"fas fa-times\" style=\"font-size: 20px;\"></i></button>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"newEmailErrorMSGdiv\" class=\"errormsg\"></div> \r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Company Age :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("<select name=\"edit_company_age\" id=\"Edit_Company_age\" class=\"form-control bdrd4\">\r\n");
      out.write("  <option value=\"\">Select Age</option>\r\n");
      out.write("  <option value=\"0\">0 Year</option>\r\n");
      out.write("  <option value=\"1\">1 Year</option>\r\n");
      out.write("  <option value=\"2\">2 Years</option>\r\n");
      out.write("  <option value=\"3\">3 Years</option>\r\n");
      out.write("  <option value=\"4\">4 Years</option>\r\n");
      out.write("  <option value=\"5\">5 Years</option>\r\n");
      out.write("  <option value=\"6\">6 Years</option>\r\n");
      out.write("  <option value=\"7\">7 Years</option>\r\n");
      out.write("  <option value=\"8\">8 Years</option>\r\n");
      out.write("  <option value=\"9\">9 Years</option>\r\n");
      out.write("  <option value=\"10\">10 Years</option>\r\n");
      out.write("  <option value=\"11\">11 Years</option>\r\n");
      out.write("  <option value=\"12\">12 Years</option>\r\n");
      out.write("  <option value=\"13\">13 Years</option>\r\n");
      out.write("  <option value=\"14\">14 Years</option>\r\n");
      out.write("  <option value=\"15\">15 Years</option>\r\n");
      out.write("  <option value=\"16\">16 Years</option>\r\n");
      out.write("  <option value=\"17\">17 Years</option>\r\n");
      out.write("  <option value=\"18\">18 Years</option>\r\n");
      out.write("  <option value=\"19\">19 Years</option>\r\n");
      out.write("  <option value=\"20\">20+ Years</option>\r\n");
      out.write("  </select>\r\n");
      out.write("</div>\r\n");
      out.write("  <div id=\"companyAgeErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Country :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">  \r\n");
      out.write("   <select name=\"country\" id=\"UpdateCountry\" class=\"form-control bdrd4\" onchange=\"updateState(this.value,'UpdateState')\">\r\n");
      out.write("    <option value=\"\">Select Country</option>\r\n");
      out.write("   ");
if(country!=null&&country.length>0){for(int i=0;i<country.length;i++){
      out.write("	   \r\n");
      out.write("   <option value=\"");
      out.print(country[i][1]);
      out.write('#');
      out.print(country[i][0]);
      out.write('"');
      out.write('>');
      out.print(country[i][0]);
      out.write("</option>\r\n");
      out.write("   ");
}} 
      out.write("\r\n");
      out.write("   </select>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div id=\"countryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("  <div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>State :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select name=\"state\" id=\"UpdateState\" class=\"form-control bdrd4\" onchange=\"updateCity(this.value,'UpdateCity')\">\r\n");
      out.write("    <option value=\"\">Select State</option>   \r\n");
      out.write("     \r\n");
      out.write("   </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"stateErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>City :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select name=\"city\" id=\"UpdateCity\" class=\"form-control bdrd4\">\r\n");
      out.write("  <option value=\"\">Select City</option>\r\n");
      out.write(" \r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"cityErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("  <label>Address :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqAdd\" id=\"UpdateAddress\" placeholder=\"Address\" onblur=\"validateLocationPopup('UpdateAddress');validateValuePopup('UpdateAddress');\" ></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqAddErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\"> \r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray mrt10 close_box\" type=\"button\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"submit\" onclick=\"return validateUpdateCompany();\">Update</button>\r\n");
      out.write("</div>\r\n");
      out.write("</form>                                  \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"update_contact\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fas fa-times\" style=\"font-size: 21px;\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fas fa-user-cog\"></i>Update client's details</h3>\r\n");
      out.write("<p>When someone reaches out to you, they become a contact in your account. You can create companies and associate contacts with them.</div>\r\n");
      out.write("\r\n");
      out.write("<form onsubmit=\"return false;\" id=\"FormUpdateContactBox\" novalidate>\r\n");
      out.write("<input type=\"hidden\" id=\"UpdateContactKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"UpdateContactSalesKey\"/>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"firstname\" id=\"UpdateContactFirstName\" placeholder=\"First Name\" onblur=\"validateNamePopup('UpdateContactFirstName');validateValuePopup('UpdateContactFirstName')\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"fnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" name=\"lastname\" id=\"UpdateContactLastName\" placeholder=\"Last Name\" onblur=\"validateNamePopup('UpdateContactLastName');validateValuePopup('UpdateContactLastName');\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"lnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix inner_box_bg\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\"> \r\n");
      out.write(" <label>Email :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail1\" id=\"UpdateContactEmail_Id\" onblur=\"verifyEmailIdPopup('UpdateContactEmail_Id');isUpdateDuplicateEmail('UpdateContactEmail_Id');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"text-right\">\r\n");
      out.write("<span class=\"add_new pointers\">+ Email</span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"relative_box form-group new_field\" id=\"UpdateContactDivId\" style=\"display:none;\">\r\n");
      out.write("  <label>Email 2nd :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail2\" id=\"UpdateContactEmailId2\" onblur=\"isUpdateDuplicateEmail('UpdateContactEmailId2');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write("<button class=\"addbtn pointers close_icon1 del_icon\" type=\"button\"><i class=\"fas fa-times\" style=\"font-size: 20px;\"></i></button>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"newEmailErrorMSGdiv\" class=\"errormsg\"></div> \r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Pan :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"contPan\" id=\"UpdateContPan\" onblur=\"validatePanPopup('UpdateContPan');validateValuePopup('UpdateContPan');isExistEditPan('UpdateContPan');\" placeholder=\"Pan\" maxlength=\"14\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"wphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Work Phone :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"workphone\" id=\"UpdateContactWorkPhone\" onblur=\"isUpdateDuplicateMobilePhone('UpdateContactWorkPhone')\" placeholder=\"Work phone\" maxlength=\"14\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"wphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Mobile Phone :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"mobilephone\" id=\"UpdateContactMobilePhone\" placeholder=\"Mobile Phone\" maxlength=\"14\" onblur=\"validateMobilePopup('UpdateContactMobilePhone');isUpdateDuplicateMobilePhone('UpdateContactMobilePhone');\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"mphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10 flex_box align_center\">\r\n");
      out.write("<span class=\"input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"UpdateContactperAddress\" checked>\r\n");
      out.write("<span>Personal Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("<span class=\"mlft10 input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"UpdateContactcomAddress\" onclick=\"getUpdateCompanyAddress()\">\r\n");
      out.write("<span>Company Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Country :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control\" name=\"country\" id=\"UpdateContCountry\" onchange=\"updateState(this.value,'UpdateContState')\">\r\n");
      out.write("  <option value=\"\">Select Country</option>\r\n");
      out.write("  ");
if(country!=null&&country.length>0){for(int i=0;i<country.length;i++){
      out.write("	   \r\n");
      out.write("   <option value=\"");
      out.print(country[i][1]);
      out.write('#');
      out.print(country[i][0]);
      out.write('"');
      out.write('>');
      out.print(country[i][0]);
      out.write("</option>\r\n");
      out.write("   ");
}} 
      out.write("\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqCountryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>State :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"state\" id=\"UpdateContState\" onchange=\"updateCity(this.value,'UpdateContCity')\">\r\n");
      out.write("  <option value=\"\">Select State</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"stateErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>City :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"city\" id=\"UpdateContCity\">\r\n");
      out.write("  <option value=\"\">Select City</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"cityErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Address :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite page\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqAdd\" id=\"UpdateContAddress\" placeholder=\"Address\" onblur=\"validateValuePopup('UpdateContAddress');validateLocationPopup('UpdateContAddress');\" ></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqAddErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateCompany_box\" style=\"display:none;\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon fa fa-bank\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqCompAdd\" id=\"UpdateEnqCompAddress\" placeholder=\"Company Address\" onblur=\"validateValuePopup('UpdateEnqCompAddress');validateLocationPopup('UpdateEnqCompAddress');\" readonly=\"readonly\"></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"companyErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\">\r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray mrt10 close_box\" type=\"button\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"submit\" id=\"ValidateUpdateContact\" onclick=\"return validateUpdateContact();\">Update</button>\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"estimate_invoice\" style=\"width: 700px;\">\r\n");
      out.write("<div class=\"close_icon close_box\" style=\"right: 700px;z-index:99\"><i class=\"fas fa-times\"></i></div> \r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-wpforms\"></i>Estimate details</h3>\r\n");
      out.write("<div class=\"clearfix btn_action\">\r\n");
      out.write("<button type=\"button\" class=\"estnotes\" data-related=\"task_notes\" onclick=\"openTaskNotesBox()\" style=\"margin-right:1rem\">Notes</button>\r\n");
      out.write("<div id=\"EditEstimateButtonId\"></div>\r\n");
      out.write("<button type=\"button\" class=\"invconvt\" data-related=\"convert_invoice\" onclick=\"convertInvoiceBox()\">Convert to invoice</button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div id=\"testinvoiceprint\"></div>\r\n");
      out.write("<!-- <h3 style=\"font-size: 13px;border-bottom: 1px solid #e1e1e1;padding-bottom: 11px;\"><span class=\"pointers\" onclick=\"alert('Pending......add estimate notification(Sent Estimate Invoice use color: #5757ea;)')\"><i class=\"far fa-envelope\"></i>&nbsp;&nbsp;Send email</span> -->\r\n");
      out.write("<h3 style=\"font-size: 13px;border-bottom: 1px solid #e1e1e1;padding-bottom: 11px;\">\r\n");
      out.write("<span class=\"pointers\" id=\"EmailSendedId\" onclick=\"openSendEmailBox()\"><i class=\"far fa-envelope\"></i>&nbsp;&nbsp;Send email</span>\r\n");
      out.write("<!-- <span style=\"margin-left: 20px;\" class=\"pointers\" id=\"printCMD\"><i class=\"fa fa-download\"></i>&nbsp;&nbsp;PDF</span> onclick=\"sendEstimateInvoice()\"-->\r\n");
      out.write("<span style=\"margin-left: 20px;\" class=\"pointers\" onclick=\"convertHTMLToPdf('invoicecontent','EstimateBillNo')\"><i class=\"fas fa-download\"></i>&nbsp;&nbsp;PDF</span>\r\n");
      out.write("<span style=\"margin-left: 20px;\" class=\"pointers\" onclick=\"copyInvoiceLink()\" title=\"Copy Invoice Link !!\" id=\"CopyLinkUrl\"><i class=\"far fa-copy\"></i>&nbsp;&nbsp;URL</span> \r\n");
      out.write("<span style=\"margin-left: 20px;\" class=\"pointers\" onclick=\"printDiv('invoicecontent','EstimateBillNo')\"><i class=\"fas fa-print\"></i>&nbsp;&nbsp;Print</span> \r\n");
      out.write("<span style=\"margin-left: 20px;\" class=\"pointers generate_estimate\" data-related=\"GenerateEstimate\" onclick=\"generateEstimate()\"><i class=\"fas fa-receipt\"></i>&nbsp;&nbsp;Generate Estimate</span>\r\n");
      out.write("<span style=\"margin-left: 20px;\" class=\"pointers upload_documents\" data-related=\"UploadDocuments\" onclick=\"uploadDocument()\"><i class=\"fas fa-file\"></i>&nbsp;&nbsp;Upload Documents</span>\r\n");
      out.write("</h3>\r\n");
      out.write("<div class=\"clearfix\" style=\"padding-left: 15px;border-bottom: 1px solid #e1e1e1;\">\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("	<div class=\"clearfix\" id=\"AppendMainEstimateSumary\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"AppendEstimateSumaryDynamic\"></div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" style=\"margin-bottom: 10px;\">\r\n");
      out.write("<span style=\"cursor: pointer;color: #42b0e0;font-weight: 600;\" id=\"MoreViewButton\" onclick=\"showEstimateSummary()\">View Next</span>\r\n");
      out.write("<span style=\"cursor: pointer;color: #42b0e0;font-weight: 600;margin-left: 64px;display: none;\" id=\"MinimizeViewButton\" onclick=\"hideEstimateSummary()\">View Prev</span>\r\n");
      out.write("</div> \r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix menuDv pad_box3 pad05 mb10\" style=\"min-height: 150px;margin-top: 16px;\" id=\"invoicecontent\">\r\n");
      out.write("<div class=\"clearfix invoice_div\">\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" style=\"position: relative;margin-bottom: -35px;\">\r\n");
      out.write("<img alt=\"\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/tag.png\" style=\"width: 50px;margin-left: -15px;margin-top: -10px;\">\r\n");
      out.write("<span style=\"position: absolute;margin-left: -48px;transform: rotate(-45deg);color: #ffff;font-size: 11px;\" id=\"PaymentPaidOrPartial\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;padding-top:0px;display: flex;\">\r\n");
      out.write("<div style=\"width:50%;\">\r\n");
      out.write("<div style=\"margin-bottom:1px;\">\r\n");
      out.write("<img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/corpseed-logo.png\" alt=\"corpseed logo\" style=\"max-width:95px;\" />\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<p>\r\n");
      out.write("<span style=\"font-weight:600;color:#888;\">Corpseed Ites Private Limited</span><br/>\r\n");
      out.write("<span>CN U74999UP2018PTC101873</span><br/>\r\n");
      out.write("<span>2nd Floor, A-154A, A Block, Sector 63</span><br/>\r\n");
      out.write("<span>Noida, Uttar Pradesh - 201301</span><br/>\r\n");
      out.write("</p>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:50%;\">\r\n");
      out.write("<div style=\"margin-bottom:10px;text-align:right;\">\r\n");
      out.write("<h2 style=\"font-size:18px;margin:0 0 5px;color:#48bd44;font-weight: 500;\">Estimate</h2>\r\n");
      out.write("<p style=\"font-weight:600;\" id=\"EstimateBillNo\"></p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"margin-bottom:10px;text-align:right;\" id=\"orderNoMain\">\r\n");
      out.write("<h2 style=\"font-size: 14px;margin:0 0 5px;color:#48bd44;font-weight: 500;\">Order No.</h2>\r\n");
      out.write("<p style=\"font-weight:600;\" id=\"orderNo\">#ORD00120</p>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div style=\"width:100%;\" id=\"BalanceDueAmount\">\r\n");
      out.write("<div style=\"text-align:right;font-size: 14px;margin-top: 40px;font-weight: 600;\">\r\n");
      out.write("<span>Due Amount&nbsp;&nbsp;:&nbsp;&nbsp;</span><span><i class=\"fa fa-inr\"></i>&nbsp;<span id=\"InvoivePaymentDue\"></span></span>\r\n");
      out.write("</div> \r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clear\"></div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;\">\r\n");
      out.write("<p style=\"margin:0px;\">Bill To : </p>\r\n");
      out.write("<p style=\"font-weight: 600;margin-bottom: 1rem;\" id=\"BillToId\"></p>\r\n");
      out.write("<p style=\"margin-top: -1rem;\" id=\"BillToGSTINId\"></p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clear\"></div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;display: flex;\">\r\n");
      out.write("<div style=\"width:50%;\">\r\n");
      out.write("<p style=\"margin:0px;\"></p>\r\n");
      out.write("<p style=\"margin-bottom:5px;\">Ship To : <br>\r\n");
      out.write("<span id=\"ShipToId\"></span><br>\r\n");
      out.write("<span id=\"ShipToAddressId\"></span></p>\r\n");
      out.write("<p>Place Of Supply: <span id=\"ShipToStateCode\"></span></p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:50%;text-align:right;\">\r\n");
      out.write("<p><span style=\"font-weight:600;color:#888;\">Estimate Date :</span> <span style=\"padding-left:20px;\" id=\"EstimateDate\"></span></p>\r\n");
      out.write("<p id=\"purchaseDateMain\"><span style=\"font-weight:600;color:#888;\">Order Date :</span> <span style=\"padding-left:20px;\" id=\"PurchaseDate\"></span></p>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clear\"></div>\r\n");
      out.write("<div class=\"table-responsive\">\r\n");
      out.write("<table class=\"estimatein\" style=\"width:100%\">\r\n");
      out.write("<tr>\r\n");
      out.write("<td>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;\">\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;background:#48bd44;color:#fff;padding-bottom:8px;padding-top:8px;border-radius: 3px;display: flex;\">\r\n");
      out.write("<div style=\"width:4%;\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;\">#</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:30%;\" id=\"ItemDescriptionId\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;\">Item & Description </p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:13%;\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;text-align: right;\">HSN</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:15%;\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;text-align: right;\">Rate</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:8%;\" id=\"SGSTTaxId\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;text-align: right;\">GST %</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:12%;\" id=\"CGSTTaxId\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;text-align: right;\">GST Amt.</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div style=\"width:18%;\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;text-align: right;padding-right: 10px;\">Amount</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clear\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"ItemListDetailsId\"></div>\r\n");
      out.write("<div class=\"clearfix totalDiscount\" style=\"font-weight: 600;border-top: 1px dotted black;padding: 5px 0px 5px 0px;display: flex;\">\r\n");
      out.write("	<div style=\"padding-left: 16px; width: 34%;\">\r\n");
      out.write("	<p style=\"margin:0;font-size: 11px;\">&nbsp;</p></div>\r\n");
      out.write("	<div style=\"width:13%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\">&nbsp;Disc.</p></div>\r\n");
      out.write("	<div style=\"width:15%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\"></p></div>\r\n");
      out.write("	<div style=\"width:8%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\">&nbsp;</p></div>\r\n");
      out.write("	<div style=\"width:12%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\">&nbsp;</p></div>\r\n");
      out.write("	<div style=\"width:18%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\" id=\"TotalAmountDiscount\"></p>\r\n");
      out.write("	</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"font-weight: 600;border-top: 1px dotted black;border-bottom: 1px dotted black;padding: 5px 0px 5px 0px;display: flex;\">\r\n");
      out.write("	<div style=\"padding-left: 16px; width: 34%;\">\r\n");
      out.write("	<p style=\"margin:0;font-size: 11px;\">Total Qty. : &nbsp;<span id=\"TotalProductQuty\"></span></p></div>\r\n");
      out.write("	<div style=\"width:13%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\">&nbsp;</p></div>\r\n");
      out.write("	<div style=\"width:15%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\" id=\"TotalPriceWithoutGst\"></p></div>\r\n");
      out.write("	<div style=\"width:8%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\">&nbsp;</p></div>\r\n");
      out.write("	<div style=\"width:12%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\" id=\"TotalGstAmount\"></p></div>\r\n");
      out.write("	<div style=\"width:18%;\"><p style=\"margin:0;text-align: right;font-size: 11px;\" id=\"TotalAmountWithGST\"></p>\r\n");
      out.write("	</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;padding: 10px 0 0 0;\">\r\n");
      out.write("<p style=\"margin:0;font-size:11px;padding-left:10px;padding-right:10px;text-align:right;\">Total In Words: <span style=\"font-weight:600;padding-left:10px;color:#666;\" id=\"EstimateRupeesInWord\"></span></p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width: 100%\" id=\"DisplayTaxData\">\r\n");
      out.write("Tax Details\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;border: 1px dotted black;margin-top: 10px;\">\r\n");
      out.write("    <div class=\"clearfix\" style=\"width: 100%;font-weight: 600;text-align: center;border-bottom: 1px dotted black;padding: 5px 0 5px 0px;display: flex;font-size: 10px;\">\r\n");
      out.write("    	<div style=\"width: 25%\">HSN</div>\r\n");
      out.write("    	<div style=\"width: 25%\">SGST %</div>\r\n");
      out.write("    	<div style=\"width: 25%\">CGST %</div>\r\n");
      out.write("    	<div style=\"width: 25%\">IGST %</div>\r\n");
      out.write("    </div>\r\n");
      out.write("   <div id=\"GSTTaxAppendBoxId\"></div>\r\n");
      out.write("   \r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</td></tr>\r\n");
      out.write("</table>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clear\"></div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;margin-top:5px;margin-bottom:5px;\">  \r\n");
      out.write("<p style=\"margin-bottom:5px;color:#555;\"><span style=\"font-weight: 600;\">Notes :</span> <span></span></p>\r\n");
      out.write("<p style=\"font-size: 11px;color:#888;\">This Estimates & price quotation is valid for 7 calendar days from the date of issue.</p>\r\n");
      out.write("<p style=\"font-size: 11px;color:#888;\" id=\"invoiceNotes\"></p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;\">\r\n");
      out.write("<p style=\"color:#888;\">\r\n");
      out.write("<span style=\"display:block;font-weight:600;font-size: 11px;\">Payment Options:</span>\r\n");
      out.write("<span style=\"display:block;\">\r\n");
      out.write("<span style=\"font-weight:600;\">IMPS/RTGS/NEFT:</span> Account Number: 10052624515 || IFSC Code: IDFB0021331 || Beneficiary Name: Corpseed ITES Private Limited || Bank Name: IDFC FIRST Bank, Noida, Sector 63 Branch</span>\r\n");
      out.write("<span style=\"display:block;\"><span style=\"font-weight:600;\">Direct Pay:</span> https://www.corpseed.com/payment || <span style=\"font-weight:600;\">Pay via UPI:</span> CORPSEEDV.09@cmsidfc</span>\r\n");
      out.write("</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" style=\"width:100%;margin-top:5px;border-top:1px solid #ddd;padding-top:5px;margin-bottom:10px;\">\r\n");
      out.write("<p style=\"color:#999;font-size: 11px;\">Note: Government fee and corpseed professional fee may differ depending on any additional changes advised the client in the application  or any changes in the government policies</p>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"endContentId\"></div>\r\n");
      out.write("<input type=\"text\" id=\"InvoiceUrl\" style=\"opacity: 0;\">\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"edit_estimate\" style=\"width: 700px;\">\r\n");
      out.write("<div class=\"close_icon close_box\" style=\"right: 700px;\"><i class=\"fas fa-times\"></i></div> \r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-wpforms\"></i>Edit Estimate</h3> \r\n");
      out.write("\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertInvoiceSaleNo\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertInvoiceCompany\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertInvoiceContactrefid\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertEstimateRefKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertEstimateSalesType\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertEstimateDocRefKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"SendEmailClientEmail\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"SendEmailClientName\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertEstimateDiscount\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ConvertInvoiceClientrefid\"/>\r\n");
      out.write("\r\n");
      out.write("<a class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"backEstimate()\" style=\"position: absolute;right: 0;top: 0;\"><button class=\"bkbtn\">Back</button></a>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"form-group relative_box\">\r\n");
      out.write(" <div class=\"clearfix text-right\">\r\n");
      out.write(" 	<button class=\"addbtn pointers\" type=\"button\" data-related=\"add_contact\" id=\"NewProductBtn\" onclick=\"addNewProduct()\" style=\"float:right;margin-bottom: 10px;\">+ New Product</button>\r\n");
      out.write("</div>\r\n");
      out.write("<select name=\"product_name\" id=\"Convert_Product_Name\" class=\"form-control\">\r\n");
      out.write("      \r\n");
      out.write("</select>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- START -->\r\n");
      out.write("<div class=\"clearfix\" id=\"ProductPriceDiv0\">\r\n");
      out.write("  <div class=\"clearfix inner_box_bg form-group\" id=\"EstimateProductPrice\" style=\"display: none;\">\r\n");
      out.write("    <div class=\"mb10 flex_box align_center relative_box\" id=\"consultingTypeSales\">\r\n");
      out.write("    <span class=\"input_radio bg_wht pad_box2 pad_box3 s_head\"> \r\n");
      out.write("	<select class=\"s_type\" name=\"jurisdiction\" id=\"Jurisdiction\" onchange=\"updatePlan('CurrentProdrefid',this.value,'esjurisdiction');\" required=\"required\">\r\n");
      out.write("	<option value=\"\">Select Jurisdiction</option>																	\r\n");
      out.write("	</select>									\r\n");
      out.write("	</span>\r\n");
      out.write("	<span class=\"input_radio bg_wht pad_box2 pad_box3\"> \r\n");
      out.write("	<input type=\"radio\" name=\"timetype\" id=\"onetime\" checked=\"checked\" onclick=\"hideTime('ProductPeriod','TimelineBox','MainTimelineValue');updatePlan('CurrentProdrefid','OneTime','esprodplan');\">\r\n");
      out.write("	<span>One time</span>\r\n");
      out.write("	</span>\r\n");
      out.write("	<span class=\"mlft10 input_radio bg_wht pad_box2 pad_box3\">\r\n");
      out.write("	<input type=\"radio\" name=\"timetype\" id=\"renewal\" onclick=\"askTime('ProductPeriod','MainTimelineValue','MainTimelineUnit');updatePlan('CurrentProdrefid','Renewal','esprodplan');\">\r\n");
      out.write("	<span>Renewal</span>\r\n");
      out.write("	</span>\r\n");
      out.write("	<span class=\"mlft10 RenBox1\" id=\"ProductPeriod\" style=\"width: 100px;\">\r\n");
      out.write("	<input type=\"text\" name=\"addtimelinevalue\" autocomplete=\"off\"  onclick=\"showTimelineBox('TimelineBox')\" onchange=\"updatePlan('CurrentProdrefid',this.value,'esplantime');\" id=\"MainTimelineValue\" class=\"form-control bdrnone text-right\" placeholder=\"Timeline\" style=\"width: 55%;\" readonly=\"readonly\">\r\n");
      out.write("             <input type=\"text\" name=\"addtimelineunit\" autocomplete=\"off\" id=\"MainTimelineUnit\" class=\"form-control bdrnone pointers\" readonly=\"readonly\" style=\"width: 11%;position: absolute;margin-left: 50px;margin-top: -40px;\">\r\n");
      out.write("	</span>\r\n");
      out.write("	<div class=\"timelineproduct_box\" id=\"TimelineBox\">\r\n");
      out.write("   	<div class=\"timelineproduct_inner\">\r\n");
      out.write("   	<span onclick=\"addInput('MainTimelineUnit','TimelineBox','MainTimelineValue','CurrentProdrefid','Day','esplanperiod')\">Day</span> <span onclick=\"addInput('MainTimelineUnit','TimelineBox','MainTimelineValue','CurrentProdrefid','Week','esplanperiod')\">Week</span ><span onclick=\"addInput('MainTimelineUnit','TimelineBox','MainTimelineValue','CurrentProdrefid','Month','esplanperiod')\">Month</span><span onclick=\"addInput('MainTimelineUnit','TimelineBox','MainTimelineValue','CurrentProdrefid','Year','esplanperiod')\">Year</span>\r\n");
      out.write("   	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<input type=\"hidden\" id=\"CurrentProdrefid\"/>\r\n");
      out.write("	<span class=\"bg_wht pad_box3 qtyBtn\">\r\n");
      out.write("	<span class=\"fa fa-minus pointers\" onclick=\"updateProductQty('SaleProdQty','minus','CurrentProdrefid')\"></span>\r\n");
      out.write("	<input type=\"text\" id=\"SaleProdQty\" autocomplete=\"off\" value=\"1\" onchange=\"updateProdQty('SaleProdQty','CurrentProdrefid')\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("	<span class=\"fa fa-plus pointers\" onclick=\"updateProductQty('SaleProdQty','plus','CurrentProdrefid')\"></span>									\r\n");
      out.write("	</span>	 \r\n");
      out.write("	</div>\r\n");
      out.write("     <div class=\"row mb10\">\r\n");
      out.write("       <div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("        <div class=\"clearfix\" id=\"PriceDropBox\"></div>\r\n");
      out.write("        <input type=\"hidden\" name=\"PriceGroupId\" id=\"PriceGroupId\"/>\r\n");
      out.write("        <div class=\"clearfix\" id=\"PriceDropBoxSubAmount\"></div>\r\n");
      out.write("       </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"clearfix MultipleProduct\"></div>\r\n");
      out.write("<!--  end -->\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"convert_invoice\" style=\"width: 700px;\">\r\n");
      out.write("<!-- <div class=\"close_icon close_box\" style=\"right: 700px;\"><i class=\"fas fa-times\"></i></div>  -->\r\n");
      out.write("<div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-wpforms\"></i>Convert to Invoice</h3>\r\n");
      out.write("<!-- <p style=\"margin-top: 20px;\"><span style=\"color: red !important;\">Note:-</span><span id=\"PayTypeRemarks\"></span></p> -->\r\n");
      out.write("<a  class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"backEstimate()\" style=\"position: absolute;right: 0;top: 0;\"><button class=\"bkbtn\" onclick=\"openBackEditPage()\">Back</button></a>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<!-- START -->\r\n");
      out.write("<div class=\"clearfix\" id=\"ProductPriceDiv0\">  \r\n");
      out.write("<!--     payment start -->\r\n");
      out.write("<div class=\"clearfix\" id=\"add_payment\">  \r\n");
      out.write("<div class=\"table-responsive\">\r\n");
      out.write("<table class=\"ctable\" id=\"paymentTable\">\r\n");
      out.write("   <thead>\r\n");
      out.write("      <th> Name</th>\r\n");
      out.write("      <th>  Payment</th>\r\n");
      out.write("   </thead>\r\n");
      out.write("   <tbody>   \r\n");
      out.write("   \r\n");
      out.write("   </tbody>\r\n");
      out.write("</table>\r\n");
      out.write("</div>\r\n");
      out.write(" <a href=\"#\" class=\"btnclose\"><i class=\"fa fa-close\"></i></a>\r\n");
      out.write("  <div class=\"hpayment\" style=\"display:none\">\r\n");
      out.write("  \r\n");
      out.write("<div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\" class=\"fa fa-history\">&nbsp;Payment history</h3>\r\n");
      out.write("<span style=\"margin-left: 40px;font-size: 14px;color: #42b0dabf;\">Order amount : <i class=\"fa fa-inr\"></i>&nbsp;<b id=\"TotalOrderAmountId\"></b></span>    \r\n");
      out.write("<span style=\"margin-left: 40px;font-size: 14px;color: #da8142ba;\">Due amount : <i class=\"fa fa-inr\"></i>&nbsp;<b id=\"TotalDueAmountId\"></b></span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mb30\">\r\n");
      out.write("\r\n");
      out.write("<!-- start -->\r\n");
      out.write("<!-- <div class=\"clearfix\" id=\"EstimatePaymentListId\"></div> -->\r\n");
      out.write("<div class=\"table-responsive\">\r\n");
      out.write("<table class=\"ctable\">\r\n");
      out.write("<tr id=\"EstimatePaymentListId\"></tr>\r\n");
      out.write("</table>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- end -->\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<a href=\"#\" class=\"btnpay\"><i class=\"fa fa-history\"></i></a>\r\n");
      out.write("<!-- <div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\" class=\"fa fa-history\">&nbsp;Payment history</h3>\r\n");
      out.write("<span style=\"margin-left: 40px;font-size: 14px;color: #42b0dabf;\">Order amount : <i class=\"fa fa-inr\"></i>&nbsp;<span id=\"TotalOrderAmountId\"></span></span>    \r\n");
      out.write("<span style=\"margin-left: 40px;font-size: 14px;color: #da8142ba;\">Due amount : <i class=\"fa fa-inr\"></i>&nbsp;<span id=\"TotalDueAmountId\"></span></span>\r\n");
      out.write("</div> -->\r\n");
      out.write("<!-- <div class=\"menuDv pad_box4 clearfix mb30\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"EstimatePaymentListId\"></div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</div> -->\r\n");
      out.write("<div id=\"AddPaymentModeuleId\" class=\"AddPaymentModeule\">\r\n");
      out.write("<div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\" class=\"fa fa-inr\">&nbsp;Register Payment</h3>\r\n");
      out.write("<a href=\"javascript:void(0)\" onclick=\"showGstBox()\" style=\"float: right;\"><u>Calculate GST ?</u></a>  \r\n");
      out.write("</div>\r\n");
      out.write("<form onsubmit=\"return false;\" enctype=\"multipart/form-data\" id=\"UploadFormdata\" class=\"uploadFormdata\">\r\n");
      out.write("<input type=\"hidden\" name=\"WhichPaymentFor\" id=\"WhichPaymentFor\">\r\n");
      out.write("<input type=\"hidden\" name=\"CompanyPaymentFor\" id=\"CompanyPaymentFor\">\r\n");
      out.write("<input type=\"hidden\" name=\"ClientPaymentFor\" id=\"ClientPaymentFor\">\r\n");
      out.write("<input type=\"hidden\" name=\"ContactPaymentFor\" id=\"ContactPaymentFor\">\r\n");
      out.write("<div class=\"menuDv pad_box4 clearfix mb30\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <select name=\"paymentmode\" id=\"PaymentMode\" class=\"form-control bdrd4\" onchange=\"selectMode(this.value)\">\r\n");
      out.write("<option value=\"\">Payment Mode</option>\r\n");
      out.write("<option value=\"Online\" selected=\"selected\">Online</option>\r\n");
      out.write("<option value=\"Cash\">Cash</option>\r\n");
      out.write("<option value=\"PO\">Purchase Order</option>\r\n");
      out.write("</select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"paymentmodeErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"pymtdate\" id=\"PaymentDate\" autocomplete=\"off\" placeholder=\"Date\" value=\"");
      out.print(today );
      out.write("\" \r\n");
      out.write("  class=\"form-control datepicker bdrd4 readonlyAllow\" readonly=\"readonly\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"pdateErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write(" \r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\" id=\"txid\">Transaction Id</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"transactionid\" id=\"TransactionId\" \r\n");
      out.write("  autocomplete=\"off\" placeholder=\"Transaction Id\" class=\"form-control\" autofocus>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"transactionidErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Service Name</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <div class=\"row\">\r\n");
      out.write("  <div class=\"col-sm-10\">\r\n");
      out.write("  <select class=\"form-control width-90\" name=\"service_Name\" id=\"Service_Name\" multiple=\"multiple\">\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"col-sm-2 pl-0\">  \r\n");
      out.write("	<input type=\"text\" class=\"form-control p-0\" id=\"serviceQty\" placeholder=\"Qty.\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("   </div>\r\n");
      out.write("   </div>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"service_NameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write(" \r\n");
      out.write(" <div class=\"form-group row cash_online\">\r\n");
      out.write(" <label class=\"col-sm-3\">Professional Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"professional_Fee\" id=\"Professional_Fee\" onchange=\"calculateTotalPayment('Professional_Fee','Government_Fee','Other_Fee','GSTApplyId','TotalPaymentId','service_Charges')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Professional Fee\" class=\"form-control\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"Professional_Fee_GST\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"professional_FeeErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row cash_online\">\r\n");
      out.write(" <label class=\"col-sm-3\">Government Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"government_Fee\" id=\"Government_Fee\" onchange=\"calculateTotalPayment('Professional_Fee','Government_Fee','Other_Fee','GSTApplyId','TotalPaymentId','service_Charges')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Government Fee\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"Government_Fee_GST\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("  <div class=\"form-group row cash_online\">\r\n");
      out.write(" <label class=\"col-sm-3\">Service Charges</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"service_Charges\" id=\"service_Charges\" onchange=\"calculateTotalPayment('Professional_Fee','Government_Fee','Other_Fee','GSTApplyId','TotalPaymentId','service_Charges')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Service charges\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"service_Charges_GST\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row cash_online\">\r\n");
      out.write(" <label class=\"col-sm-3\">Other Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"other_Fee\" id=\"Other_Fee\" onchange=\"calculateTotalPayment('Professional_Fee','Government_Fee','Other_Fee','GSTApplyId','TotalPaymentId','service_Charges');showRemark(this.value,'Other_Fee_remark_Div');\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Other Fee\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("   <span class=\"totalamt\" id=\"Other_Fee_GST\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row toggle_box\" id=\"Other_Fee_remark_Div\">\r\n");
      out.write(" <label class=\"col-sm-3\"></label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"other_Fee_remark\" id=\"Other_Fee_remark\" autocomplete=\"off\" placeholder=\"Other Fee Remarks\" \r\n");
      out.write("  class=\"form-control padr4rem\">\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("\r\n");
      out.write("<!-- <div class=\"blog-list-title text-center\">OR</div> -->\r\n");
      out.write("<div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\" id=\"paymentUpload\">Upload Receipt</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("    <input type=\"file\" name=\"choosefile\" id=\"ChooseFile\" onchange=\"validateFileSize('ChooseFile')\" placeholder=\"Choose File\" class=\"form-control\">\r\n");
      out.write("     <small id=\"paymentUploadDesc\">Select Transaction Receipt To Upload <span class=\"txt_red\">(Max Size 48MB)</span></small>\r\n");
      out.write("    </div>   \r\n");
      out.write("    <div id=\"cfileErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("   </div>\r\n");
      out.write(" <div class=\"form-group row cash_online\">\r\n");
      out.write(" <label class=\"col-sm-3\">Total</label>\r\n");
      out.write("  <div class=\"col-sm-9\" style=\"padding-left:0;padding-right:0\">\r\n");
      out.write("  <div class=\"col-sm-5\">\r\n");
      out.write("  <input type=\"text\" readonly=\"readonly\" value=\"0\" class=\"form-control\" name=\"transactionamount\" id=\"TotalPaymentId\"/>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"col-sm-4\">\r\n");
      out.write("  <input type=\"hidden\" id=\"GSTApplied\" name=\"gstApplied\" value=\"1\">\r\n");
      out.write("  <input type=\"checkbox\" checked=\"checked\" id=\"GSTApplyId\" name=\"gstApply\" style=\"width:20px;height:20px;margin:10px 0\">\r\n");
      out.write(" <span style=\"vertical-align: super;margin-left: 5px;\">GST Apply</span>\r\n");
      out.write("  </div>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("  <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Remarks </label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("    <textarea name=\"remarks\" rows=\"4\" id=\"remarks\" placeholder=\"Remarks here !\" class=\"form-control\"></textarea>     \r\n");
      out.write("    </div>   \r\n");
      out.write("  </div>\r\n");
      out.write("<div class=\"row \"> \r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 text-right\">\r\n");
      out.write("<input type=\"hidden\" id=\"ProfessionalFeeTax\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"GovernmentFeeTax\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceChargeTax\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"OtherFeeTax\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ProfessionalCgst\" name=\"professionalCgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ProfessionalSgst\" name=\"professionalSgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ProfessionalIgst\" name=\"professionalIgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"GovernmentCgst\" name=\"governmentCgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"GovernmentSgst\" name=\"governmentSgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"GovernmentIgst\" name=\"governmentIgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceChargeCgst\" name=\"serviceChargeCgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceChargeSgst\" name=\"serviceChargeSgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"ServiceChargeIgst\" name=\"serviceChargeIgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"OtherCgst\" name=\"otherCgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"OtherSgst\" name=\"otherSgst\" value=\"0\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"OtherIgst\" name=\"otherIgst\" value=\"0\"/>\r\n");
      out.write("<button type=\"button\" class=\"btn-warning bdrd4 p5-20\" id=\"btnSubmit\">Submit</button>\r\n");
      out.write("</div>	\r\n");
      out.write("</div>			\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<!--   payment end   --> \r\n");
      out.write(" </div>\r\n");
      out.write(" \r\n");
      out.write("<!--  end -->\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"task_notes\" style=\"display: none;width: 700px;\">\r\n");
      out.write("<div class=\"close_icon close_box\" style=\"right: 700px;z-index:99\"><i class=\"fa fa-times\"></i></div>\r\n");
      out.write("<div class=\"clearfix bdr_bt pad-lft10 pad-rt10\">\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 id=\"taskNotesProduct\">Product name</h3>\r\n");
      out.write("<a class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"backEstimate()\" style=\"position: absolute;right: 0;top: 0;\"><button class=\"bkbtn\">Back</button></a>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"clearfix nav-tabs-border\"> \r\n");
      out.write("<ul class=\"nav-tabs\">\r\n");
      out.write("<li class=\"active\" id=\"TeamNotesLi\" onclick=\"showTeamNotes('TeamNotesLi','PersonalNotesLi','ReplyNotesBoxId','InternalNotesBoxId')\"><a>Team</a></li> \r\n");
      out.write("<li id=\"PersonalNotesLi\" onclick=\"showPersonalNotes('TeamNotesLi','PersonalNotesLi','ReplyNotesBoxId','InternalNotesBoxId')\"><a >Personal</a></li>\r\n");
      out.write("</ul>\r\n");
      out.write("<form onsubmit=\"return false\" class=\"PublicChatReply\" id=\"PublicSalesTaskFormId\">\r\n");
      out.write("	<select class=\"form-control mb1\" id=\"notesestimate\" name=\"usnotesestimateerInChat\">\r\n");
      out.write("       <option value=\"\">Select service</option>\r\n");
      out.write("    </select>\r\n");
      out.write("	<div class=\"clearfix box_shadow1 relative_box reply_box\" id=\"ReplyNotesBoxId\">\r\n");
      out.write("	\r\n");
      out.write("	<textarea class=\"ChatTextareaBox\" rows=\"2\" id=\"ChatTextareaBoxReply\" name=\"ChatTextareaBoxReply\" placeholder=\"Public reply here..... !!\"></textarea>\r\n");
      out.write("	\r\n");
      out.write("	<div class=\"clearfix\">\r\n");
      out.write("        <select class=\"form-control\" id=\"userInChat\" name=\"userInChat\" multiple=\"multiple\">        \r\n");
      out.write("        </select>\r\n");
      out.write("    </div>\r\n");
      out.write("    \r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"clearfix box_shadow1 relative_box reply_box toggle_box\" id=\"InternalNotesBoxId\">\r\n");
      out.write("	<!-- <textarea class=\"ChatTextareaBox1\" rows=\"5\" id=\"ChatTextareaBoxReplyInternotes\" placeholder=\"Internal notes here..... !!\"></textarea>  -->\r\n");
      out.write("	<textarea id=\"ChatTextareaBoxReply1\" name=\"ChatTextareaBoxReply1\"></textarea>\r\n");
      out.write("	</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 cmhistscrollInternal internalNotes toggle_box\"> \r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 cmhistscroll\">\r\n");
      out.write("<div class=\"clearfix communication_history\">	\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix about-content text-right pad-lft10 pad-rt10 communication_history1\"> \r\n");
      out.write("    <button class=\"bt-link bt-radius bt-loadmore mrt10 close_box btn-cancel\" type=\"button\">Cancel</button>\r\n");
      out.write("	<button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"return validateTeamNotes()\">Submit</button>		\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix about-content text-right pad-lft10 pad-rt10 internalNotes toggle_box\"> \r\n");
      out.write("    <button class=\"bt-link bt-radius bt-loadmore mrt10 close_box btn-cancel\" type=\"button\">Cancel</button>\r\n");
      out.write("	<span class=\"relative_box\"><button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"return validatePersonalNotes()\">Submit</button>	\r\n");
      out.write("	</span> \r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"UploadDocuments\" style=\"width: 700px;\">\r\n");
      out.write("<!-- <div class=\"close_icon close_box\"><i class=\"fa fa-times\"></i></div> -->\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-file-o\"></i>Document Vault</h3>\r\n");
      out.write("<a class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"backEstimate()\" style=\"position: absolute;right: 0;top: 0;\"><button class=\"bkbtn\" onclick=\"openBackEditPage()\">Back</button></a>\r\n");
      out.write("<p>A Document Vault data room is a sophisticated tool for managing your documents online, offering the highest levels of security.\r\n");
      out.write("It can be used for due diligence in a wide range of applications, from selling or buying a company, to selling or buying a property,\r\n");
      out.write("to sharing information about customers and suppliers.</p>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mbt20\">\r\n");
      out.write("<select class=\"form-control\" id=\"estimateDocList\" onchange=\"updateDocuments(this.value)\">\r\n");
      out.write("</select>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- <h3 style=\"font-size: 16px;color: #42b0da;\"></h3> -->\r\n");
      out.write("<div class=\"tab two\">\r\n");
      out.write("  <button class=\"tablinks active box-width51\" onclick=\"openDocument(event, 'ClientUploadDoc')\">&nbsp;Client's Uploads</button>\r\n");
      out.write("  <button class=\"tablinks box-width49\" onclick=\"openDocument(event, 'HistoryUploadDoc')\">&nbsp;History</button>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05 tabcontent\" style=\"display:block;\" id=\"ClientUploadDoc\">\r\n");
      out.write("<div class=\"table-responsive\">\r\n");
      out.write("<form onsubmit=\"return false;\" class=\"upload-box\">\r\n");
      out.write("<table class=\"ctable\" style=\"border:none\">\r\n");
      out.write("<tbody>\r\n");
      out.write(" <tr id=\"DocumentListAppendId\"></tr>\r\n");
      out.write(" </tbody>\r\n");
      out.write(" </table>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05 tabcontent\" style=\"display:none;\" id=\"HistoryUploadDoc\">\r\n");
      out.write("<div class=\"clearfix mb10\">\r\n");
      out.write("<div id=\"DocumentHistoryAppendId\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row pointers\" style=\"float: right;margin-right: 2px;margin-top: 7px;\">\r\n");
      out.write("<a href=\"javascript:void(0)\" onclick=\"uploadNewDocument()\">+&nbsp;New Document</a>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"GenerateEstimate\" style=\"width: 700px;\">\r\n");
      out.write("<!-- <div class=\"close_icon close_box\" style=\"right: 700px;\"><i class=\"fas fa-times\"></i></div>  -->\r\n");
      out.write("<div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-wpforms\"></i>Generate Estimate</h3>\r\n");
      out.write("<!-- <p style=\"margin-top: 20px;\"><span style=\"color: red !important;\">Note:-</span><span id=\"PayTypeRemarks\"></span></p> -->\r\n");
      out.write("<a  class=\"clickeble estimatebox\" data-related=\"estimate_invoice\" onclick=\"backEstimate()\" style=\"position: absolute;right: 0;top: 0;\"><button class=\"bkbtn\" onclick=\"openBackEditPage()\">Back</button></a>\r\n");
      out.write("</div>\r\n");
      out.write("<a href=\"javascript:void(0)\" onclick=\"showGstBox()\"><u>Calculate GST ?</u></a>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<!-- START -->\r\n");
      out.write("<div class=\"clearfix\" id=\"ProductPriceDiv1\">  \r\n");
      out.write("<!--     payment start -->\r\n");
      out.write("  <div class=\"clearfix\" id=\"add_payment1\">  \r\n");
      out.write(" <a href=\"#\" class=\"btnclose\"><i class=\"fa fa-close\"></i></a>\r\n");
      out.write("  <div class=\"hpayment\" style=\"display:none\">\r\n");
      out.write("  \r\n");
      out.write("<div class=\"rttop_titlep\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\" class=\"fa fa-history\">&nbsp;Payment history</h3>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mb30\">\r\n");
      out.write("\r\n");
      out.write("<!-- start -->\r\n");
      out.write("<div class=\"table-responsive\">\r\n");
      out.write("<table class=\"ctable\">\r\n");
      out.write("<tr id=\"GeneratedEstimate\"></tr>\r\n");
      out.write("</table>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- end -->\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<a href=\"#\" class=\"btnpay topp\"><i class=\"fa fa-history\"></i></a>\r\n");
      out.write("<div id=\"AddPaymentModeuleId1\" class=\"AddPaymentModeule\">\r\n");
      out.write("<form onsubmit=\"return false;\" id=\"GenerateReceiptForm\" class=\"uploadFormdata\">\r\n");
      out.write("<div class=\"menuDv pad_box4 clearfix mb30\"> \r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Product</label>\r\n");
      out.write("  <div class=\"col-sm-9\"> \r\n");
      out.write("  <select class=\"form-control select2\" name=\"selectProduct\" id=\"selectProduct\" multiple=\"multiple\">	  \r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Professional Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"professional_Fee1\" id=\"Professional_Fee1\" onchange=\"calculateTotalPayment('Professional_Fee1','Government_Fee1','Other_Fee1','GSTApplyId1','TotalPaymentId1','service_Charges1')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Professional Fee\" class=\"form-control\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"Professional_Fee_GST1\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Government Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"government_Fee1\" id=\"Government_Fee1\" onchange=\"calculateTotalPayment('Professional_Fee1','Government_Fee1','Other_Fee1','GSTApplyId1','TotalPaymentId1','service_Charges1')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Government Fee\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"Government_Fee_GST1\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("  <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Service Charges</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"service_Charges1\" id=\"service_Charges1\" onchange=\"calculateTotalPayment('Professional_Fee1','Government_Fee1','Other_Fee1','GSTApplyId1','TotalPaymentId1','service_Charges1')\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Service Charges\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  <span class=\"totalamt\" id=\"service_Charges_GST1\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Other Fees</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"other_Fee1\" id=\"Other_Fee1\" onchange=\"calculateTotalPayment('Professional_Fee1','Government_Fee1','Other_Fee1','GSTApplyId1','TotalPaymentId1','service_Charges1');showRemark(this.value,'Other_Fee_remark_Div1');\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Other Fee\" class=\"form-control padr4rem\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("   <span class=\"totalamt\" id=\"Other_Fee_GST1\">0%</span>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row toggle_box\" id=\"Other_Fee_remark_Div1\">\r\n");
      out.write(" <label class=\"col-sm-3\"></label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <input type=\"text\" name=\"other_Fee_remark1\" id=\"Other_Fee_remark1\" autocomplete=\"off\" placeholder=\"Other Fee Remarks\" \r\n");
      out.write("  class=\"form-control padr4rem\">\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Total</label>\r\n");
      out.write("  <div class=\"col-sm-9\" style=\"padding-left:0;padding-right:0\">\r\n");
      out.write("  <div class=\"col-sm-5\">\r\n");
      out.write("  <input type=\"text\" readonly=\"readonly\" value=\"0\" class=\"form-control\" name=\"transactionamount1\" id=\"TotalPaymentId1\"/>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"col-sm-4\">\r\n");
      out.write("  <input type=\"hidden\" id=\"GSTApplied1\" name=\"gstApplied1\" value=\"1\">\r\n");
      out.write("  <input type=\"checkbox\" checked=\"checked\" id=\"GSTApplyId1\" name=\"gstApply1\" style=\"width:20px;height:20px;margin:10px 0\">\r\n");
      out.write(" <span style=\"vertical-align: super;margin-left: 5px;\">GST Apply</span>\r\n");
      out.write("  </div>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div> \r\n");
      out.write(" <div class=\"form-group row\">\r\n");
      out.write(" <label class=\"col-sm-3\">Notes</label>\r\n");
      out.write("  <div class=\"col-sm-9\">\r\n");
      out.write("  <textarea name=\"estimate_notes\" rows=\"3\" id=\"estimateNotes\" autocomplete=\"off\"\r\n");
      out.write("   placeholder=\"Notes here !!\" class=\"form-control padr4rem\"></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("<div class=\"row \"> \r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 text-right\">\r\n");
      out.write("<button type=\"button\" class=\"btn-warning bdrd4 p5-20\" id=\"btnSubmit1\" onclick=\"return validateGeneratePayment()\">Submit</button>\r\n");
      out.write("</div>	\r\n");
      out.write("</div>			\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<!--   payment end   --> \r\n");
      out.write(" </div>\r\n");
      out.write(" \r\n");
      out.write("<!--  end -->\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"warningPayment\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-danger\">Payment awating for approval..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"warningDocument\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span><span class=\"text-danger\">Sorry , Document Doesn't Exist..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"ExportData\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fas fa-file-export text-primary\" style=\"margin-right: 10px;\"> </span><span class=\"text-primary\">Export</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\" id=\"exportEstimateCol\">\r\n");
      out.write("       <div class=\"modal-body\">       \r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">FROM :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control searchdate pointers\" name=\"from-date\" id=\"From-Date\" placeholder=\"FROM-DATE\" readonly=\"readonly\">\r\n");
      out.write("          </div>        \r\n");
      out.write("        <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">TO :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control searchdate pointers\" name=\"to-date\" id=\"To-Date\" placeholder=\"TO-DATE\" readonly=\"readonly\">\r\n");
      out.write("          </div> \r\n");
      out.write("          <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Columns :</label>\r\n");
      out.write("            <select class=\"form-control\" name=\"exportColumn\" id=\"ExportColumn\" multiple=\"multiple\">\r\n");
      out.write("            	<option value=\"esregdate\" selected>Date</option>\r\n");
      out.write("            	<option value=\"essaleno\" selected>Estimate No.</option>\r\n");
      out.write("            	<option value=\"escontactrefid\" selected>Contact Name</option>\r\n");
      out.write("            	<option value=\"escompany\" selected>Company</option>\r\n");
      out.write("            	<option value=\"esstatus\" selected>Status</option>\r\n");
      out.write("            	<option value=\"esrefid,esdiscount\" selected>Amount</option>\r\n");
      out.write("            </select>            \r\n");
      out.write("          </div>\r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Format :</label>\r\n");
      out.write("            <select class=\"form-control\" name=\"file-formate\" id=\"File-Formate\">\r\n");
      out.write("            	<option value=\"csv\">CSV</option>\r\n");
      out.write("            	<option value=\"xlsx\" selected>XLS</option>\r\n");
      out.write("            </select>\r\n");
      out.write("          </div>   \r\n");
      out.write("          <div class=\"form-group noDisplay\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Password Protected :</label>\r\n");
      out.write("            <input type=\"checkbox\" name=\"protected\" id=\"Protected\" value=\"2\">&nbsp;&nbsp;\r\n");
      out.write("            <input type=\"password\" class=\"noDisplay form-control\" name=\"filePassword\" id=\"FilePassword\" placeholder=\"Enter password..\"> \r\n");
      out.write("          </div>      \r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"return validateExport()\">Submit</button>\r\n");
      out.write("      </div></form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"SendEmailWarning\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-envelope text-primary\" style=\"margin-right: 10px;\"> </span><span class=\"text-primary\" id=\"sendEmailInvoiceHtml\">Send Estimate Invoice</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\" id=\"sendEmailInvoice\">\r\n");
      out.write("       <div class=\"modal-body\">       \r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Email To :</label>\r\n");
      out.write("            <input type=\"email\" autocomplete=\"off\" class=\"form-control\" placeholder=\"Email Id..\" name=\"email\" id=\"EmailTo\">\r\n");
      out.write("          </div>\r\n");
      out.write("          <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">CC :</label>\r\n");
      out.write("<!--             <input type=\"email\" autocomplete=\"off\" class=\"form-control removeEmailCC\" placeholder=\"Email Id..\" name=\"emailCC\" id=\"EmailCC\"> -->\r\n");
      out.write("            <select class=\"form-control\" id=\"EmailCC\" multiple=\"multiple\">\r\n");
      out.write("            	  \r\n");
      out.write("			</select>\r\n");
      out.write("          </div>\r\n");
      out.write("        <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Subject :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control\" placeholder=\"Subject\" name=\"subject\" id=\"EmailSubject\">\r\n");
      out.write("          </div>\r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Mesasge :</label>\r\n");
      out.write("             <textarea rows=\"8\" autocomplete=\"off\" class=\"form-control\" placeholder=\"Email Body..\" id=\"EmailBody\"></textarea>\r\n");
      out.write("          </div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"return sendEstimateInvoice()\">Submit</button>\r\n");
      out.write("      </div></form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"AddNewDocumentList\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"DocumentListModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("  <form onsubmit=\"return false\" id=\"AddNewDocumentListForm\">\r\n");
      out.write("  <div class=\"modal-content\">\r\n");
      out.write("  	 <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" >+&nbsp;Document List : <span style=\"color:#357b8bf5;\" id=\"RegisterNewDocList\"></span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("		<div class=\"col-md-12 pad05 pad-top5\">\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("				<input type=\"text\" placeholder=\"Document name\" autocomplete=\"off\" name=\"NewDocumentName\" id=\"NewDocumentName\" class=\"form-control\">\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("				<select class=\"form-control\" name=\"DocumentUploadBy\" id=\"DocumentUploadBy\">\r\n");
      out.write("					<option value=\"Client\">Client</option>\r\n");
      out.write("				</select>\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<textarea rows=\"5\" placeholder=\"Document description....\" autocomplete=\"off\" name=\"DocumentUploadRemarks\" id=\"DocumentUploadRemarks\" class=\"form-control\"></textarea>\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>		\r\n");
      out.write("		</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		 <div class=\"modal-footer\">\r\n");
      out.write("		 <input type=\"hidden\" id=\"ActiveDocSalesKey\" value=\"NA\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" id=\"btnclick12\" onclick=\"validateDocumentList()\">Submit</button>\r\n");
      out.write("      </div> \r\n");
      out.write("      </div>\r\n");
      out.write("	</form>  \r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("  <div class=\"modal fade\" id=\"warningDeleteFile\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title fas fa-exclamation-triangle text-danger\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\">&nbsp;&nbsp;Do you really want to delete this document ?</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\" style=\"margin-top: 0px;\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>   \r\n");
      out.write("      <input type=\"hidden\" id=\"deleteTemplateId\" value=\"NA\">\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("      <input type=\"hidden\" id=\"SalesDocumentId\">\r\n");
      out.write("      <input type=\"hidden\" id=\"SalesDocumentName\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" onclick=\"deleteDocument('NA','NA');\">Yes</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"payTypeWarning\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span><span class=\"text-danger\">Have you visited included all estimate products !! ?..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("       <div class=\"modal-body warBody\">\r\n");
      out.write("        <p style=\"font-size: 14px;\"><span style=\"color: red;font-weight: 600;\">Warning :- </span><span>Please Re-Confirm given below each project price type !! Based on this hierarchy Client Have to Pay to start their projects. !! \r\n");
      out.write("        <span class=\"clearfix\" id=\"IncludedProjectsId\"></span>\r\n");
      out.write("        <b class=\"text-danger flort \">After closing Payment  section, It will not change !!</b></span></p>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("      	<button type=\"button\" class=\"btn btn-default text-left\" style=\"float: left;\" id=\"minimumTotalPay\">Minimum Rs. 4720.00</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Not Now</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"confirmCheck()\">Yes I Checked</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"showGSTModel\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"showGSTModel\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-line-chart text-primary\" style=\"margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-primary\">Calculate GST </span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\" id=\"gstCalculater\">\r\n");
      out.write("       <div class=\"modal-body\">       \r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Total amount :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control\" placeholder=\"Amount..\" name=\"gstAmount\" id=\"gstAmount\" onchange=\"calculateGstAmount()\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("          </div>          \r\n");
      out.write("        <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">GST % :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control\" placeholder=\"GST %\" name=\"gstPercent\" value=\"18\" id=\"GstPercent\" onchange=\"calculateGstAmount()\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("          </div>\r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Amount without GST :</label>\r\n");
      out.write("             <input type=\"text\" autocomplete=\"off\" class=\"form-control\" placeholder=\"Amount without gst\" name=\"amountWithoutGst\" id=\"amountWithoutGst\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("          </div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"return copyGstAmount()\">Copy Amount</button>\r\n");
      out.write("      </div></form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"addNewPriceType\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"addNewPriceType\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fas fa-inr text-primary\" style=\"margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-primary\">And New Price </span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\" id=\"gstCalculater\">\r\n");
      out.write("       <div class=\"modal-body\">       \r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Price Type :</label>\r\n");
      out.write("            <select class=\"form-control\" name=\"priceType\" id=\"priceType\" required=\"required\">\r\n");
      out.write("            </select>\r\n");
      out.write("          </div>          \r\n");
      out.write("        <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">Price :</label>\r\n");
      out.write("            <input type=\"text\" autocomplete=\"off\" class=\"form-control\" placeholder=\"price..\" name=\"typePrice\" id=\"typePrice\" onkeypress=\"return isNumberKey(event)\" required=\"required\">\r\n");
      out.write("          </div>\r\n");
      out.write("         <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label\">HSN</label>\r\n");
      out.write("             <input type=\"text\" autocomplete=\"off\" class=\"form-control\" onkeypress=\"searchHSNCode('typePriceHsn')\" placeholder=\"hsn\" name=\"typePriceHsn\" id=\"typePriceHsn\">\r\n");
      out.write("          </div>\r\n");
      out.write("          <input type=\"hidden\" id=\"AddNewPriceEstKey\" value=\"\"/>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"return addNewPriceType('NA')\">Submit</button>\r\n");
      out.write("      </div></form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"cancelSaleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"addNewPriceType\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fas fa-question-circle text-primary\" style=\"margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-primary\" id=\"salesReasonHead\">Sale Cancel Reason </span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\">\r\n");
      out.write("       <div class=\"modal-body\">           \r\n");
      out.write("        <div class=\"form-group\">\r\n");
      out.write("            <label for=\"recipient-name\" class=\"col-form-label mb10\">Description :</label>\r\n");
      out.write("            <textarea class=\"form-control\" rows=\"8\" name=\"description\" id=\"cancelDescription\" required=\"required\"></textarea>\r\n");
      out.write("          </div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"return cancelSale()\">Submit</button>\r\n");
      out.write("      </div></form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<!-- Modal -->\r\n");
      out.write("<div class=\"modal fade\" id=\"estimateCancelModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header bg-info\">\r\n");
      out.write("        <h5 class=\"modal-title w-90\" id=\"estimateCancelLabel\"></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox btn-info\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\" id=\"estimateCancelBody\">\r\n");
      out.write("       <div class=\"box\">\r\n");
      out.write("		<p>Order is cancelled from vendor side because he was ordering his product from onw sitde by the product of the suywevh.</p>\r\n");
      out.write("		<div class=\"box-patch\">\r\n");
      out.write("		    <span class=\"bg-danger\">Cancelled</span>\r\n");
      out.write("		    <span class=\"bg-info\">08-10-2022</span></div>\r\n");
      out.write("	    </div>\r\n");
      out.write("	    <div class=\"box\">\r\n");
      out.write("		<p>Order is cancelled from vendor side because he was ordering his product from onw sitde by the product of the suywevh.</p>\r\n");
      out.write("		<div class=\"box-patch\">\r\n");
      out.write("		    <span class=\"bg-primary\">Draft</span>\r\n");
      out.write("		    <span class=\"bg-info\">10-10-2022</span></div>\r\n");
      out.write("	    </div>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"myModal modal fade\" id=\"add_super_user\">\r\n");
      out.write("    <div class=\"modal-dialog\">\r\n");
      out.write("      <div class=\"modal-content\">\r\n");
      out.write("        <div class=\"modal-header\">\r\n");
      out.write("          <h4 class=\"modal-title\"><i class=\"fas fa-user\" aria-hidden=\"true\"></i>+Add Super User</h4>  \r\n");
      out.write("          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\r\n");
      out.write("        </div>\r\n");
      out.write("        <form onsubmit=\"return validateSuperUser()\" action=\"javascript:void(0)\" id=\"super_user_form\">    \r\n");
      out.write("        <div class=\"modal-body\">            \r\n");
      out.write("		  <div class=\"row\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Name</label>\r\n");
      out.write("            <input type=\"text\" class=\"form-control\" name=\"super_name\" id=\"super_name\" placeholder=\"\" required=\"required\">\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Email</label>\r\n");
      out.write("            <input type=\"email\" class=\"form-control\" pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" name=\"super_email\" id=\"super_email\" placeholder=\"\" required=\"required\">\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Mobile</label>\r\n");
      out.write("            <input type=\"text\" class=\"form-control\" maxlength=\"15\" name=\"super_mobile\" id=\"super_mobile\" placeholder=\"\" required=\"required\">\r\n");
      out.write("            </div>\r\n");
      out.write("		  </div>		  		  \r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"modal-footer pad_box4\">\r\n");
      out.write("          <div class=\"mtop10\">\r\n");
      out.write("              <input type=\"hidden\" id=\"add_super_user_id\">\r\n");
      out.write("	          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("	          <button type=\"submit\" class=\"btn btn-success\">Submit</button> \r\n");
      out.write("          </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        </form>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("<input type=\"hidden\" id=\"ManageEstimatePayTypeId\" value=\"Yes\"> \r\n");
      out.write(" <input type=\"hidden\" id=\"ManageEstimateUpdateContactId\"> \r\n");
      out.write("  <input type=\"hidden\" id=\"ManageSalesCompAddress\"> \r\n");
      out.write("  <input type=\"hidden\" id=\"NewProductIdUid\" value=\"0\"/>\r\n");
      out.write("  <input type=\"hidden\" id=\"SalesProductIdQty\" value=\"0\"/>\r\n");
      out.write("  <input type=\"hidden\" id=\"View_More_History\" value=\"1\"/>\r\n");
      out.write("  <input type=\"hidden\" id=\"paymentModePo\" value=\"0\">\r\n");
      out.write("  <input type=\"hidden\" id=\"ConvertEstimateStatus\">\r\n");
      out.write("  \r\n");
      out.write(" <div class=\"noDisplay\"><a href=\"\" id=\"DownloadExportedLink\" download><button id=\"DownloadExported\">Download</button></a></div> \r\n");
      out.write(" <div class=\"noDisplay\"><a href=\"");
      out.print(azurePath );
      out.write("invoices.pdf\" download><button id=\"DownloadExportedInvoices\">Download</button></a></div>\r\n");
      out.write("<div id=\"footer\"><div class=\"footer\"><div class=\"container\"><div class=\"footer-bottom\"><div class=\"row\"><div class=\"col-md-12 col-sm-12 col-xs-12\"><div class=\"copyright\">Copyright &copy; 2021 Corpseed ITES Pvt Ltd All Rights Reserved.</div></div></div></div></div></div></div>\r\n");
      out.write("<div class=\"alert-show\"><div class=\"alert-bg alert-striped\" id=\"errorMsg\" style=\"font-size: 17px;width: 100%;height: 100%;\"></div></div>\r\n");
      out.write("<div class=\"alert-show1\"><div class=\"alert-bg1 alert-striped\" id=\"errorMsg1\" style=\"font-size: 17px;width: 100%;height: 100%;\"></div></div>\r\n");
      out.write(" <div class=\"processing_loader\" style=\"display:none\"><div class=\"spin_box\"></div></div> ");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</div>	\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery-1.12.4.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/bootstrap.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery.fancybox.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery-ui.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/bootstrap-datetimepicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/nicEdit.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/globalscript.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/select2.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/moment.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/daterangepicker.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/mdtimepicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/fontawsome.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/theme.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/custom.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery.dataTables.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.buttons.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jszip.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/pdfmake.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/vfs_fonts.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.html5.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.print.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.colVis.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.select.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.responsive.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("$(document).ready( function () {\r\n");
      out.write("	var role=\"");
      out.print(session.getAttribute("emproleid"));
      out.write("\";\r\n");
      out.write("	$(\".checked\").click(function(){\r\n");
      out.write("		 if ($(\".checked\").is(\":checked\")){\r\n");
      out.write("			 $(\".hashico\").hide()\r\n");
      out.write("			 $(\"#CheckAll\").show();\r\n");
      out.write("			 $(\"#SearchOptions\").hide();\r\n");
      out.write("			 $(\"#SearchOptions1\").show();\r\n");
      out.write("	}else{\r\n");
      out.write("		 $(\"#CheckAll\").hide();\r\n");
      out.write("		 $(\".hashico\").show()\r\n");
      out.write("		 $(\"#SearchOptions\").show();\r\n");
      out.write("		 $(\"#SearchOptions1\").hide();\r\n");
      out.write("	}\r\n");
      out.write("		\r\n");
      out.write("		});\r\n");
      out.write("	$(\"#CheckAll\").click(function(){\r\n");
      out.write("	$('.checked').prop('checked', this.checked);\r\n");
      out.write("	if ($(\".checked\").is(\":checked\")){\r\n");
      out.write("		 	 $(\".hashico\").hide()\r\n");
      out.write("			 $(\"#CheckAll\").show();\r\n");
      out.write("			 $(\"#SearchOptions\").hide();\r\n");
      out.write("			 $(\"#SearchOptions1\").show();\r\n");
      out.write("	}else{\r\n");
      out.write("		 $(\".hashico\").show()\r\n");
      out.write("		 $(\"#CheckAll\").hide();\r\n");
      out.write("		 $(\"#SearchOptions\").show();\r\n");
      out.write("		 $(\"#SearchOptions1\").hide();\r\n");
      out.write("	}\r\n");
      out.write("		    \r\n");
      out.write("	});\r\n");
      out.write("} );\r\n");
      out.write("\r\n");
      out.write(" $(window).load(function() {\r\n");
      out.write("  $(\".processing_loader\").fadeOut();\r\n");
      out.write("}); \r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write(" function showLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeIn(); \r\n");
      out.write("} \r\n");
      out.write("function hideLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeOut();  \r\n");
      out.write("}  \r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$('.timepicker').mdtimepicker();\r\n");
      out.write("function openClock(id){\r\n");
      out.write("$('#'+id).mdtimepicker();\r\n");
      out.write("}\r\n");
      out.write("function openCalendar(id){\r\n");
      out.write("	$(\"#\"+id).datepicker({changeMonth:true,changeYear:true,dateFormat:'yy-mm-dd'});\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$('.has-clear input[type=\"text\"]').on('input propertychange', function() {\r\n");
      out.write("  var $this = $(this);\r\n");
      out.write("  var visible = Boolean($this.val());\r\n");
      out.write("  $this.siblings('.form-control-clear').toggleClass('hidden', !visible);\r\n");
      out.write("}).trigger('propertychange');\r\n");
      out.write("\r\n");
      out.write("$('.form-control-clear').click(function() {\r\n");
      out.write("  $(this).siblings('input[type=\"text\"]').val('')\r\n");
      out.write("    .trigger('propertychange').focus();\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function goBack() {\r\n");
      out.write("  window.history.back();\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jspdf.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/html2pdf.bundle.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/converttopdf.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/ckeditor/ckeditor.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">   \r\n");
      out.write("function isUpdateDuplicateMobilePhone(phoneid){\r\n");
      out.write("	var contkey=document.getElementById(\"UpdateContactKey\").value.trim();\r\n");
      out.write("	var val=document.getElementById(phoneid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\")\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"updatecontactmobilephone\",\"id\":contkey},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Mobile Phone.\";\r\n");
      out.write("			document.getElementById(phoneid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function isUpdateDuplicateEmail(emailid){\r\n");
      out.write("	var contkey=document.getElementById(\"UpdateContactKey\").value.trim();\r\n");
      out.write("	var val=document.getElementById(emailid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\")\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"updatecontactemail\",\"id\":contkey},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Email-Id.\";\r\n");
      out.write("			document.getElementById(emailid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("$(function() {\r\n");
      out.write("	$(\"#EstimateNo\").autocomplete({\r\n");
      out.write("		source : function(request, response) {			\r\n");
      out.write("			if(document.getElementById('EstimateNo').value.trim().length>=1)\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				url : \"get-client-details.html\",\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				dataType : \"JSON\",\r\n");
      out.write("				data : {\r\n");
      out.write("					name : request.term,\r\n");
      out.write("					\"field\" : \"estimateNumber\"\r\n");
      out.write("				},\r\n");
      out.write("				success : function(data) {\r\n");
      out.write("					response($.map(data, function(item) {\r\n");
      out.write("						return {  \r\n");
      out.write("							label : item.name,\r\n");
      out.write("							value : item.value\r\n");
      out.write("						};\r\n");
      out.write("					}));\r\n");
      out.write("				},\r\n");
      out.write("				error : function(error) {\r\n");
      out.write("					alert('error: ' + error.responseText);\r\n");
      out.write("				}\r\n");
      out.write("			});\r\n");
      out.write("		},\r\n");
      out.write("		select: function (event, ui) {\r\n");
      out.write("			if(!ui.item){   \r\n");
      out.write("            	\r\n");
      out.write("            }\r\n");
      out.write("            else{\r\n");
      out.write("            	doAction(ui.item.value,'estimateNoDoAction');\r\n");
      out.write("            	location.reload();\r\n");
      out.write("            }\r\n");
      out.write("        },\r\n");
      out.write("        error : function(error){\r\n");
      out.write("			alert('error: ' + error.responseText);\r\n");
      out.write("		},\r\n");
      out.write("	});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("$(function() {\r\n");
      out.write("	$(\"#ClientName\").autocomplete({\r\n");
      out.write("		source : function(request, response) {			\r\n");
      out.write("			if(document.getElementById('ClientName').value.trim().length>=1)\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				url : \"get-client-details.html\",\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				dataType : \"JSON\",\r\n");
      out.write("				data : {\r\n");
      out.write("					name : request.term,\r\n");
      out.write("					\"field\" : \"estimateclientname\"\r\n");
      out.write("				},\r\n");
      out.write("				success : function(data) {\r\n");
      out.write("					response($.map(data, function(item) {\r\n");
      out.write("						return {  \r\n");
      out.write("							label : item.name,\r\n");
      out.write("							value : item.value,\r\n");
      out.write("						};\r\n");
      out.write("					}));\r\n");
      out.write("				},\r\n");
      out.write("				error : function(error) {\r\n");
      out.write("					alert('error: ' + error.responseText);\r\n");
      out.write("				}\r\n");
      out.write("			});\r\n");
      out.write("		},\r\n");
      out.write("		select: function (event, ui) {\r\n");
      out.write("			if(!ui.item){   \r\n");
      out.write("            	\r\n");
      out.write("            }\r\n");
      out.write("            else{\r\n");
      out.write("            	doAction(ui.item.value,'ClientNameDoAction');\r\n");
      out.write("            	location.reload();\r\n");
      out.write("            }\r\n");
      out.write("        },\r\n");
      out.write("        error : function(error){\r\n");
      out.write("			alert('error: ' + error.responseText);\r\n");
      out.write("		},\r\n");
      out.write("	});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function isValidAmount(){\r\n");
      out.write("	var dueAmt=$(\"#TotalDueAmountId\").html();\r\n");
      out.write("	var tranAmt=$(\"#TransactionAmount\").val();\r\n");
      out.write("	if(Number(tranAmt)>Number(dueAmt)){\r\n");
      out.write("		$(\"#TransactionAmount\").val('');\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Maximum amount should be  \"+dueAmt;\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function hideTaskDetails(milestone_pay_box){\r\n");
      out.write("	if ($(\".\"+milestone_pay_box).is(':visible')){\r\n");
      out.write("		$(\".\"+milestone_pay_box).slideUp();\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function showTaskDetails(milestone_pay_box){\r\n");
      out.write("	$(\".\"+milestone_pay_box).slideDown();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function selectMode(value){\r\n");
      out.write("// 	cash_online txid paymentUpload paymentUploadDesc\r\n");
      out.write("// 	(Select Transaction Receipt To Upload <span class=\"txt_red\">(Max Size 48MB)</span>)\r\n");
      out.write("	\r\n");
      out.write("	if(value==\"Cash\"){\r\n");
      out.write("		$(\".cash_online\").show();\r\n");
      out.write("		$(\"#TransactionId\").attr(\"placeholder\",\"Transaction id\");\r\n");
      out.write("		$(\"#txid\").html(\"Transaction Id\");\r\n");
      out.write("		$(\"#paymentUpload\").html(\"Upload Receipt\");\r\n");
      out.write("		$(\"#paymentUploadDesc\").html(\"Select Transaction Receipt To Upload <span class='txt_red'>(Max Size 48MB)</span>\");\r\n");
      out.write("		$(\"#TransactionId\").val(\"NA\");\r\n");
      out.write("		$(\"#TransactionId\").prop(\"readonly\",true);\r\n");
      out.write("	}else if(value==\"Online\"){\r\n");
      out.write("		$(\".cash_online\").show();\r\n");
      out.write("		$(\"#TransactionId\").attr(\"placeholder\",\"Transaction id\");\r\n");
      out.write("		$(\"#txid\").html(\"Transaction Id\");\r\n");
      out.write("		$(\"#paymentUpload\").html(\"Upload Receipt\");\r\n");
      out.write("		$(\"#paymentUploadDesc\").html(\"Select Transaction Receipt To Upload <span class='txt_red'>(Max Size 48MB)</span>\");\r\n");
      out.write("		$(\"#TransactionId\").val(\"\");\r\n");
      out.write("		$(\"#TransactionId\").prop(\"readonly\",false);		\r\n");
      out.write("	}else if(value==\"PO\"){\r\n");
      out.write("		$(\"#TransactionId\").val(\"\");\r\n");
      out.write("		$(\"#TransactionId\").attr(\"placeholder\",\"Purchase Order number\");\r\n");
      out.write("		$(\"#TransactionId\").prop(\"readonly\",false);\r\n");
      out.write("		$(\".cash_online\").hide();\r\n");
      out.write("		$(\"#txid\").html(\"PO Number\");\r\n");
      out.write("		$(\"#paymentUpload\").html(\"Upload PO Receipt\");\r\n");
      out.write("		$(\"#paymentUploadDesc\").html(\"Select PO Receipt To Upload <span class='txt_red'>(Max Size 48MB)</span>\");	\r\n");
      out.write("		$(\"#paymentModePo\").val(1);\r\n");
      out.write("		changePayTypePo();\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	let po=$(\"#paymentModePo\").val();\r\n");
      out.write("	if(po==1&&value!=\"PO\"){\r\n");
      out.write("		console.log(\"going to fetch Pay type...\")\r\n");
      out.write("		$(\"#paymentModePo\").val(0);\r\n");
      out.write("		let estimateno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("		getPayType(\"NA\",estimateno);\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function changePayTypePo(){\r\n");
      out.write("	var estimateno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetPayTypePo111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			$(\"#paymentTable  tbody\").empty();	\r\n");
      out.write("		    $(\"#paymentTable  tbody\").append(response);		\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	console.log(\"Going to change pay type and disable : \"+estimateno);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updatePricePercentage(refKey,value){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	if(Number(value)>0){\r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdatePricePercentage111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				refKey : refKey,	\r\n");
      out.write("				value : value\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){				\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML ='Updated';\r\n");
      out.write("					$('.alert-show1').show().delay(400).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML ='Something went wrong ! Try-again later !!';\r\n");
      out.write("					$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}else{\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML ='Minimum 1% price percentage required !!';\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		hideLoader();\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function updatePayType(payType,salesKey){\r\n");
      out.write("// 	var salesKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("showLoader();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdatePayType111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesKey : salesKey,	\r\n");
      out.write("				payType : payType\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){				\r\n");
      out.write("				if(data==\"fail\"){\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML ='Either Estimate converted or something went wrong !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("function fileSize(file){\r\n");
      out.write("	const fi=document.getElementById('ChooseFile');\r\n");
      out.write("	if (fi.files.length > 0) {\r\n");
      out.write("		const fsize = fi.files.item(0).size; \r\n");
      out.write("        const file = Math.round((fsize / 1024)); \r\n");
      out.write("        // The size of the file. \r\n");
      out.write("        if (file >= 1024) {  \r\n");
      out.write("            document.getElementById('errorMsg').innerHTML ='File too Big, please select a file less than 1mb';\r\n");
      out.write("            document.getElementById(\"ChooseFile\").value=\"\";\r\n");
      out.write(" 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("        }		\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("function validatePayType(){\r\n");
      out.write("	var estimateno=$(\"#WhichPaymentFor\").val();	\r\n");
      out.write("	$(\".removeLiId\").remove();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetAllSalesProduct111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("		if(Object.keys(response).length!=0){	\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;			 \r\n");
      out.write("		 if(Number(len)>0){			\r\n");
      out.write("			 var style=\"style='margin-top:10px;color: #337ab7;'\";\r\n");
      out.write("		var minimumPay=0;\r\n");
      out.write("		for(var i=0;i<len;i++){		   \r\n");
      out.write("			var name = response[i]['name'];	\r\n");
      out.write("			var notes = response[i]['notes'];\r\n");
      out.write("			var minPay= response[i]['minPay'];\r\n");
      out.write("			minimumPay=Number(minimumPay)+Number(minPay);\r\n");
      out.write("			$(''+\r\n");
      out.write("					'<li class=\"removeLiId\" '+style+'>'+name+'<small>'+notes+'</small></li>'\r\n");
      out.write("					).insertBefore(\"#IncludedProjectsId\");\r\n");
      out.write("			style=\"style='color: #337ab7;'\";\r\n");
      out.write("			\r\n");
      out.write("		}\r\n");
      out.write("		$(\"#minimumTotalPay\").html(\"Minimum Pay : \"+Math.ceil(Number(minimumPay)));\r\n");
      out.write("		$(\"#payTypeWarning\").modal(\"show\");\r\n");
      out.write("		 }}},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("	});\r\n");
      out.write("		\r\n");
      out.write("}\r\n");
      out.write("function validateGeneratePayment(){\r\n");
      out.write("	var products=$(\"#selectProduct\").val();\r\n");
      out.write("	var profFee=$(\"#Professional_Fee1\").val();\r\n");
      out.write("	var govFee=$(\"#Government_Fee1\").val();\r\n");
      out.write("	var serviceCharge=$(\"#service_Charges1\").val();\r\n");
      out.write("	var otherFee=$(\"#Other_Fee1\").val();\r\n");
      out.write("	var otherRemark=$(\"#Other_Fee_remark1\").val();\r\n");
      out.write("	var gstApply=$(\"#GSTApplied1\").val();\r\n");
      out.write("	var estimateNotes=$(\"#estimateNotes\").val();\r\n");
      out.write("	\r\n");
      out.write("	var totalAmount=Number(profFee)+Number(govFee)+Number(otherFee);\r\n");
      out.write("	\r\n");
      out.write("	if(products==null||products==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select product !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(estimateNotes==null||estimateNotes==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter invoice notes !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(totalAmount<=0){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter minimum one amount !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Number(otherFee)>0&&(otherRemark==null||otherRemark==\"\")){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter other fee remarks !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(profFee==null||profFee==\"\")profFee=\"0\";\r\n");
      out.write("	if(govFee==null||govFee==\"\")govFee=\"0\";\r\n");
      out.write("	if(serviceCharge==null||serviceCharge==\"\")serviceCharge=\"0\";\r\n");
      out.write("	if(otherFee==null||profFee==\"\")otherFee=\"0\";\r\n");
      out.write("	if(otherRemark==null||otherRemark==\"\")otherRemark=\"NA\";\r\n");
      out.write("	var pffCgst=$(\"#ProfessionalCgst\").val();\r\n");
      out.write("	var pffSgst=$(\"#ProfessionalSgst\").val();\r\n");
      out.write("	var pffIgst=$(\"#ProfessionalIgst\").val();\r\n");
      out.write("	var govtCgst=$(\"#GovernmentCgst\").val();\r\n");
      out.write("	var govtSgst=$(\"#GovernmentSgst\").val();\r\n");
      out.write("	var govtIgst=$(\"#GovernmentIgst\").val();\r\n");
      out.write("	var serviceCgst=$(\"#ServiceChargeCgst\").val();\r\n");
      out.write("	var serviceSgst=$(\"#ServiceChargeSgst\").val();\r\n");
      out.write("	var serviceIgst=$(\"#ServiceChargeIgst\").val();\r\n");
      out.write("	var OtherCgst=$(\"#OtherCgst\").val();\r\n");
      out.write("	var OtherSgst=$(\"#OtherSgst\").val();\r\n");
      out.write("	var OtherIgst=$(\"#OtherIgst\").val();\r\n");
      out.write("	var pymtamount=$(\"#TotalPaymentId1\").val();\r\n");
      out.write("	var estKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("	var product=products+\"\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GenerateEstimate111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			product:product,\r\n");
      out.write("			profFee:profFee,\r\n");
      out.write("			serviceCharge:serviceCharge,\r\n");
      out.write("			govFee:govFee,\r\n");
      out.write("			otherFee:otherFee,\r\n");
      out.write("			otherRemark:otherRemark,\r\n");
      out.write("			gstApply:gstApply,\r\n");
      out.write("			pffCgst:pffCgst,\r\n");
      out.write("			pffSgst:pffSgst,\r\n");
      out.write("			pffIgst:pffIgst,\r\n");
      out.write("			govtCgst:govtCgst,\r\n");
      out.write("			govtSgst:govtSgst,\r\n");
      out.write("			govtIgst:govtIgst,\r\n");
      out.write("			serviceCgst:serviceCgst,\r\n");
      out.write("			serviceSgst:serviceSgst,\r\n");
      out.write("			serviceIgst:serviceIgst,\r\n");
      out.write("			OtherCgst:OtherCgst,\r\n");
      out.write("			OtherSgst:OtherSgst,\r\n");
      out.write("			OtherIgst:OtherIgst,\r\n");
      out.write("			pymtamount:pymtamount,\r\n");
      out.write("			estKey:estKey,\r\n");
      out.write("			estimateNotes : estimateNotes\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("	        	   $(\"#GenerateReceiptForm\").trigger('reset');\r\n");
      out.write("	        	    \r\n");
      out.write("	               document.getElementById('errorMsg1').innerHTML =\"Successfully estimate generated.\";\r\n");
      out.write("	               \r\n");
      out.write("	               $(\"#Professional_Fee_GST1\").html($(\"#ProfessionalFeeTax\").val()+\"%\");\r\n");
      out.write("	               $(\"#Government_Fee_GST1\").html($(\"#GovernmentFeeTax\").val()+\"%\");\r\n");
      out.write("	               $(\"#Other_Fee_GST1\").html($(\"#OtherFeeTax\").val()+\"%\");\r\n");
      out.write("	               $(\"#GSTApplied1\").val(\"1\");	               \r\n");
      out.write("	               $('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("	               \r\n");
      out.write("// 	       		fillAllSalesPayment(salesno);	       		   \r\n");
      out.write("     	   }else{\r\n");
      out.write("     		   document.getElementById('errorMsg').innerHTML =\"Something Went Wrong, Try-Again later.\";\r\n");
      out.write("	       		   $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("     	   }\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function validatePayment(event){\r\n");
      out.write("	var salesno=document.getElementById(\"WhichPaymentFor\").value.trim();\r\n");
      out.write("	var company=document.getElementById(\"CompanyPaymentFor\").value.trim();\r\n");
      out.write("	var clientrefid=document.getElementById(\"ClientPaymentFor\").value.trim();\r\n");
      out.write("	var contactrefid=document.getElementById(\"ContactPaymentFor\").value.trim();\r\n");
      out.write("	var pymtmode=document.getElementById(\"PaymentMode\").value.trim();\r\n");
      out.write("	var pymtdate=document.getElementById(\"PaymentDate\").value.trim();\r\n");
      out.write("	var pymttransid=document.getElementById(\"TransactionId\").value.trim();\r\n");
      out.write("	let serviceQty=$(\"#serviceQty\").val();\r\n");
      out.write("	var remarks=$(\"#remarks\").val().trim();\r\n");
      out.write("	\r\n");
      out.write("// 	Other_Fee_remark_Div,TotalPaymentId,GSTApplyId\r\n");
      out.write("	var service_Name=$(\"#Service_Name\").val();	\r\n");
      out.write("	var professional_Fee=$(\"#Professional_Fee\").val();\r\n");
      out.write("	var government_Fee=$(\"#Government_Fee\").val();\r\n");
      out.write("	var service_Charges=$(\"#service_Charges\").val();\r\n");
      out.write("	var other_Fee=$(\"#Other_Fee\").val();\r\n");
      out.write("	var other_Fee_remark=$(\"#Other_Fee_remark\").val();\r\n");
      out.write("	\r\n");
      out.write("	if(professional_Fee==null||professional_Fee==\"\")professional_Fee=0;\r\n");
      out.write("	if(government_Fee==null||government_Fee==\"\")government_Fee=0;\r\n");
      out.write("	if(service_Charges==null||service_Charges==\"\")service_Charges=0;\r\n");
      out.write("	if(other_Fee==null||other_Fee==\"\")other_Fee=0;	\r\n");
      out.write("	\r\n");
      out.write("	var txnAmount=Number(professional_Fee)+Number(government_Fee)+Number(service_Charges)+Number(other_Fee);\r\n");
      out.write("	\r\n");
      out.write("	if(pymtmode==null||pymtmode==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Select Payment Mode !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(pymtdate==null||pymtdate==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Select Payment Date !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(pymtmode==\"Online\"){\r\n");
      out.write("		if(pymttransid==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Enter Transaction Id !!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("	}else if(pymtmode==\"PO\"){\r\n");
      out.write("		if(pymttransid==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Enter PO Number !!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#TransactionId\").val(\"NA\");\r\n");
      out.write("	}\r\n");
      out.write("	if(service_Name==null||service_Name==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter Service Name !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Number(txnAmount)<=0&&pymtmode!=\"PO\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter Service Amount (Professional or government or service or other fee) !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}	\r\n");
      out.write("	if(Number(other_Fee)>0&&(other_Fee_remark==null||other_Fee_remark==\"\")){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter Other Fee Remarks !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(pymtmode==\"PO\"&&($(\"#ChooseFile\").val()==null||$(\"#ChooseFile\").val()==\"\")){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Upload Purchase Order Receipt !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if(remarks==null||remarks==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter remarks !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if(serviceQty==null||serviceQty==\"\"||serviceQty==\"0\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Enter service quantity !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var pymtamount=$(\"#TotalPaymentId\").val();\r\n");
      out.write("	\r\n");
      out.write("       //stop submit the form, we will post it manually.\r\n");
      out.write("       event.preventDefault();   \r\n");
      out.write("    var orderAmount=$(\"#TotalOrderAmountId\").html();\r\n");
      out.write("    showLoader();\r\n");
      out.write("    $.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"IsThisPaymentValid111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			pymtamount : pymtamount,\r\n");
      out.write("			orderAmount : orderAmount,\r\n");
      out.write("			salesno : salesno,\r\n");
      out.write("			pymtmode : pymtmode\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){			\r\n");
      out.write("		if(response==\"pass\"){       \r\n");
      out.write("		       // Get form\r\n");
      out.write("		       var form = $('#UploadFormdata')[0];\r\n");
      out.write("			// Create an FormData object\r\n");
      out.write("		       var data = new FormData(form);	\r\n");
      out.write("			   data.append(\"services\",service_Name);\r\n");
      out.write("			   data.append(\"serviceQty\",serviceQty);\r\n");
      out.write("			// disabled the submit button\r\n");
      out.write("		       $(\"#btnSubmit\").prop(\"disabled\", true);\r\n");
      out.write("			\r\n");
      out.write("		       $.ajax({\r\n");
      out.write("		           type: \"POST\",\r\n");
      out.write("		           enctype: 'multipart/form-data',\r\n");
      out.write("		           url: \"RegisterPayment111\",\r\n");
      out.write("		           data: data,\r\n");
      out.write("		           processData: false,\r\n");
      out.write("		           contentType: false,\r\n");
      out.write("		           cache: false,\r\n");
      out.write("		           timeout: 600000,\r\n");
      out.write("		           success: function (data) {\r\n");
      out.write("		        	   $(\"#btnSubmit\").prop(\"disabled\", false);\r\n");
      out.write("		        	   \r\n");
      out.write("		        	   if(data==\"pass\"){\r\n");
      out.write("			        	   $(\"#UploadFormdata\").trigger('reset'); \r\n");
      out.write("			               document.getElementById('errorMsg1').innerHTML =\"Successfully payment added.\";\r\n");
      out.write("			               \r\n");
      out.write("			               $(\"#Professional_Fee_GST\").html($(\"#ProfessionalFeeTax\").val()+\"%\");\r\n");
      out.write("			               $(\"#Government_Fee_GST\").html($(\"#GovernmentFeeTax\").val()+\"%\");\r\n");
      out.write("			               $(\"#Other_Fee_GST\").html($(\"#OtherFeeTax\").val()+\"%\");\r\n");
      out.write("			               $(\"#GSTApplied\").val(\"1\");\r\n");
      out.write("			               \r\n");
      out.write("			               $('#WhichPaymentFor').val(salesno);	 \r\n");
      out.write("			               $('#CompanyPaymentFor').val(company);	 \r\n");
      out.write("			               $('#ClientPaymentFor').val(clientrefid);	 \r\n");
      out.write("			               $('#ContactPaymentFor').val(contactrefid);	 \r\n");
      out.write("			       		   $('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("			               $(\".EstimatePaymentInnerId\").remove();	\r\n");
      out.write("			       		fillAllSalesPayment(salesno);	       		   \r\n");
      out.write("		        	   }else{\r\n");
      out.write("		        		   document.getElementById('errorMsg').innerHTML =\"Something Went Wrong, Try-Again later.\";\r\n");
      out.write("			       		   $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		        	   }\r\n");
      out.write("		\r\n");
      out.write("		           },\r\n");
      out.write("		           error: function (e) {\r\n");
      out.write("		               $(\"#btnSubmit\").prop(\"disabled\", false);\r\n");
      out.write("		           }\r\n");
      out.write("		       });\r\n");
      out.write("		}else if(response==\"poExist\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"You already uploaded purchase order.\";\r\n");
      out.write("    		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		}else{\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"You don't have permission to add more than sales amount.\";\r\n");
      out.write("    		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});    \r\n");
      out.write("     \r\n");
      out.write("       \r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addMainNewProduct(esrefid,prodtype,prodrefid,prodname,p,central,state,global,jurisdiction){		\r\n");
      out.write("	var prodnam=prodname+\"#\"+prodrefid;\r\n");
      out.write("	var a=document.getElementById(\"NewProductIdUid\").value.trim();\r\n");
      out.write("	var i=Number(a)+1;	\r\n");
      out.write("	var crossbtn=\"CloseBtn\"+i;\r\n");
      out.write("	var producttype=\"Product_Type\"+i;\r\n");
      out.write("	var productprice=\"productPrice\"+i;\r\n");
      out.write("	var productname=\"Product_Name\"+i;\r\n");
      out.write("	var multiprod=\"MultiProd\"+i;\r\n");
      out.write("	var onetimeterm=\"onetime\"+i;\r\n");
      out.write("	var rentimeterm=\"renewal\"+i;\r\n");
      out.write("	var service=\"timetype\"+i;\r\n");
      out.write("	var period=\"ProductPeriod\"+i;\r\n");
      out.write("	var periodtime=\"ProductPeriodTime\"+i;\r\n");
      out.write("	var gstprice=\"GstPrice\"+i;\r\n");
      out.write("	var totalprice=\"TotalPrice\"+i;\r\n");
      out.write("	var newproductid=\"NewProductBtn\"+i;\r\n");
      out.write("	var removeicon=\"RemoveIcon\"+i;\r\n");
      out.write("	var PriceDropBox=\"PriceDropBox\"+i;\r\n");
      out.write("	var PriceGroupId=\"PriceGroupId\"+i;\r\n");
      out.write("	var ProductPriceDiv=\"ProductPriceDiv\"+i;\r\n");
      out.write("	var TotalPriceProduct=\"TotalPriceProduct\"+i;\r\n");
      out.write("	var PriceProduct=\"PriceProduct\"+i;\r\n");
      out.write("	var ProductPlan=\"ProductPlan\"+i;\r\n");
      out.write("	var TimelineBox=\"TimelineBox\"+i;\r\n");
      out.write("	var SaleProdQty=\"SaleProdQty\"+i;\r\n");
      out.write("	var ProdGroupRefid=\"ProdGroupRefid\"+i;\r\n");
      out.write("	var CurrentProdrefid=\"CurrentProdrefid\"+i;\r\n");
      out.write("	var PriceDropBoxSubAmount=\"PriceDropBoxSubAmount\"+i;\r\n");
      out.write("	var jurisdictionId=\"jurisdiction\"+i;\r\n");
      out.write("	\r\n");
      out.write("	document.getElementById(\"NewProductIdUid\").value=i;\r\n");
      out.write("	\r\n");
      out.write("	$(''+\r\n");
      out.write("	'<div class=\"row EstimateList1\" id=\"'+multiprod+'\">'+							\r\n");
      out.write("	'<div class=\"col-md-12 col-sm-12 col-xs-12\">'+\r\n");
      out.write("       '<div class=\"form-group\">'+\r\n");
      out.write("       '<div class=\"clearfix text-right mb10\" style=\"margin-top: 5px;\" id=\"'+removeicon+'\">'+\r\n");
      out.write("		'<button class=\"addbtn pointers\" type=\"button\" onclick=\"removeCurrentProduct(\\''+multiprod+'\\',\\''+productprice+'\\')\">- Remove</button>'+\r\n");
      out.write("       '</div>'+\r\n");
      out.write("        '<div class=\"input-group\">'+       \r\n");
      out.write("        '<select id=\"'+producttype+'\" name=\"productType\" class=\"form-control\" onchange=\"getProducts(this.value,\\''+productname+'\\');\">'+\r\n");
      out.write("            '<option value=\"\">Product Type</option>'+\r\n");
      out.write("            '");
for(int i=0;i<servicetype.length;i++){ 
      out.write("'+\r\n");
      out.write("            '<option value=\"");
      out.print(servicetype[i][1]);
      out.write('"');
      out.write('>');
      out.print(servicetype[i][1]);
      out.write("</option>'+\r\n");
      out.write("            '");
} 
      out.write("'+                                       \r\n");
      out.write("       '</select>'+\r\n");
      out.write("       '<input type=\"hidden\" name=\"pid\" id=\"pid\">'+\r\n");
      out.write("        '</div>'+\r\n");
      out.write("        '<div id=\"productTypeErrorMSGdiv\" class=\"errormsg\"></div>'+\r\n");
      out.write("       '</div>'+\r\n");
      out.write("      '</div>'+\r\n");
      out.write("      '<div class=\"col-md-12 col-sm-12 col-xs-12\">'+\r\n");
      out.write("       '<div class=\"form-group relative_box\">'+\r\n");
      out.write("       '<div class=\"clearfix text-right\">'+\r\n");
      out.write("		 '<button class=\"addbtn pointers \" type=\"button\" data-related=\"add_contact\" id=\"'+newproductid+'\" onclick=\"addNewProduct()\" style=\"display: none;float:right;margin-bottom: 10px;\">+ New Product</button>'+\r\n");
      out.write("		'</div>'+\r\n");
      out.write("        '<div class=\"input-group\">'+     \r\n");
      out.write("        '<input type=\"hidden\" id=\"'+ProdGroupRefid+'\" value=\"NA\">'+\r\n");
      out.write("        '<select name=\"product_name\" id=\"'+productname+'\" onchange=\"setProductPrice(\\''+productname+'\\',\\''+crossbtn+'\\',\\''+producttype+'\\',\\''+productprice+'\\',\\''+productname+'\\',\\''+newproductid+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\',\\''+PriceGroupId+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+ProdGroupRefid+'\\',\\''+removeicon+'\\',\\''+CurrentProdrefid+'\\',\\'NA\\')\" class=\"form-control\">'+\r\n");
      out.write("        '<option value=\"\">Select Product</option>'+           \r\n");
      out.write("        '<option value=\"'+prodnam+'\" selected>'+prodname+'</option>'+    \r\n");
      out.write("         '</select>'+\r\n");
      out.write("        '</div>'+\r\n");
      out.write("        '<div id=\"product_nameErrorMSGdiv\" class=\"errormsg\"></div>'+																												\r\n");
      out.write("        '<button class=\"addbtn pointers close_icon3 del_icon\" id=\"'+crossbtn+'\" type=\"button\" style=\"display: none;\" onclick=\"activeDisplay(\\''+productname+'\\',\\''+producttype+'\\',\\''+crossbtn+'\\',\\''+productprice+'\\',\\''+ProductPriceDiv+'\\',\\''+newproductid+'\\',\\''+PriceGroupId+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\');showRemove(\\''+removeicon+'\\');\"><i class=\"fas fa-times\" style=\"font-size: 21px;\"></i></button>'+\r\n");
      out.write("       \r\n");
      out.write("       '</div>'+\r\n");
      out.write("      '</div>'+\r\n");
      out.write("	  '</div>'+\r\n");
      out.write("	  '<div class=\"clearfix EstimateList2\" id=\"'+ProductPriceDiv+'\">'+\r\n");
      out.write("	  '<div class=\"clearfix inner_box_bg form-group\" id=\"'+productprice+'\" style=\"display: none;\">'+\r\n");
      out.write("    '<div class=\"mb10 flex_box align_center relative_box\">'+\r\n");
      out.write("    '<span class=\"input_radio bg_wht pad_box2 pad_box3 s_head\">'+ \r\n");
      out.write("	'<select class=\"s_type\" name=\"'+jurisdictionId+'\" id=\"'+jurisdictionId+'\" onchange=\"updatePlan(\\''+CurrentProdrefid+'\\',this.value,\\'esjurisdiction\\');\" required=\"required\">'+\r\n");
      out.write("	'<option value=\"\">Select Jurisdiction</option>'+																	\r\n");
      out.write("	'</select></span>'+    \r\n");
      out.write("	'<span class=\"input_radio bg_wht pad_box2 pad_box3\">'+\r\n");
      out.write("	'<input type=\"radio\" name=\"'+service+'\" id=\"'+onetimeterm+'\" checked=\"checked\" onclick=\"hideTime(\\''+period+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\');updatePlan(\\''+CurrentProdrefid+'\\',\\'OneTime\\',\\'esprodplan\\');\">'+\r\n");
      out.write("	'<span>One time</span>'+\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'<span class=\"mlft10 input_radio bg_wht pad_box2 pad_box3\">'+\r\n");
      out.write("	'<input type=\"radio\" name=\"'+service+'\" id=\"'+rentimeterm+'\" onclick=\"askTime(\\''+period+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\');updatePlan(\\''+CurrentProdrefid+'\\',\\'Renewal\\',\\'esprodplan\\');\">'+\r\n");
      out.write("	'<span>Renewal</span>'+																																																						\r\n");
      out.write("	'</span>'+	\r\n");
      out.write("	\r\n");
      out.write("	'<span class=\"mlft10 RenBox1\" id=\"'+period+'\" style=\"width: 100px;\">'+\r\n");
      out.write("	'<input type=\"text\" name=\"'+ProductPlan+'\" autocomplete=\"off\"  onclick=\"showTimelineBox(\\''+TimelineBox+'\\')\" onchange=\"updatePlan(\\''+CurrentProdrefid+'\\',this.value,\\'esplantime\\');\" id=\"'+ProductPlan+'\" class=\"form-control bdrnone text-right\" placeholder=\"Timeline\" style=\"width: 55%;\">'+\r\n");
      out.write("    '<input type=\"text\" name=\"'+periodtime+'\" autocomplete=\"off\" id=\"'+periodtime+'\" class=\"form-control bdrnone pointers\" readonly=\"readonly\" style=\"width: 11%;position: absolute;margin-left: 50px;margin-top: -37px;\">'+\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'<div class=\"timelineproduct_box\" id=\"'+TimelineBox+'\">'+\r\n");
      out.write("	'<div class=\"timelineproduct_inner\">'+\r\n");
      out.write("	'<span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Day\\',\\'esplanperiod\\')\">Day</span> <span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Week\\',\\'esplanperiod\\')\">Week</span ><span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Month\\',\\'esplanperiod\\')\">Month</span><span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Year\\',\\'esplanperiod\\')\">Year</span></div>'+\r\n");
      out.write("	'</div>'+		\r\n");
      out.write("	'<input type=\"hidden\" id=\"'+CurrentProdrefid+'\"/>'+\r\n");
      out.write("	'<span class=\"bg_wht pad_box3 qtyBtn\">'+																																																																																																																																						\r\n");
      out.write("	'<span class=\"fa fa-minus pointers\" onclick=\"updateMainProductQty(\\''+SaleProdQty+'\\',\\'minus\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\' )\"></span>'+\r\n");
      out.write("	'<input type=\"text\" id=\"'+SaleProdQty+'\" value=\"1\" onchange=\"updateMainProdQty(\\''+SaleProdQty+'\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\')\" onkeypress=\"return isNumber(event)\">'+\r\n");
      out.write("	'<span class=\"fa fa-plus pointers\" onclick=\"updateMainProductQty(\\''+SaleProdQty+'\\',\\'plus\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\')\"></span>'+									\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'</div>'+\r\n");
      out.write("     '<div class=\"row mb10\">'+\r\n");
      out.write("       '<div class=\"col-md-12 col-sm-12 col-xs-12\">'+\r\n");
      out.write("       \r\n");
      out.write("       '<div class=\"clearfix\" id=\"'+PriceDropBox+'\"></div>'+\r\n");
      out.write("       '<input type=\"hidden\" name=\"'+PriceGroupId+'\" id=\"'+PriceGroupId+'\"/>'+\r\n");
      out.write("       '<div class=\"clearfix\" id=\"'+PriceDropBoxSubAmount+'\"></div>'+    \r\n");
      out.write("       \r\n");
      out.write("      '</div>'+\r\n");
      out.write("      '</div>'+	  \r\n");
      out.write("    '</div>'+\r\n");
      out.write("    '</div>'+\r\n");
      out.write(" '</div>'+\r\n");
      out.write(" '</div>'+\r\n");
      out.write(" '</div>').insertBefore('.MultipleProduct');	\r\n");
      out.write("	$(\"#\"+producttype).val(prodtype);\r\n");
      out.write("	appendJurisdiction(global,central,state,jurisdictionId,jurisdiction);\r\n");
      out.write("	setTimeout(function(){\r\n");
      out.write("	setMainProductPrice(esrefid,SaleProdQty,rentimeterm,onetimeterm,ProductPlan,periodtime,period,CurrentProdrefid,productprice,PriceDropBox,PriceGroupId,PriceDropBoxSubAmount,removeicon,productname,crossbtn,producttype,newproductid,p,ProdGroupRefid,PriceProduct,TotalPriceProduct);\r\n");
      out.write("	},50*p);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setMainProductPrice(pricerefid,SaleProdQtyId,renewalId,onetimeId,MainTimelineValueId,MainTimelineUnitId,ProductPeriodId,CurrentProdrefid,productprice,PriceDropBox,PriceGroupId,PriceDropBoxSubAmount,removeiconid,productname,crossbtn,producttype,newproductbtnid,p,ProdGroupRefid,PriceProduct,TotalPriceProduct){\r\n");
      out.write("	fillTimePlan(pricerefid,SaleProdQtyId,renewalId,onetimeId,MainTimelineValueId,MainTimelineUnitId,ProductPeriodId);\r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"SetProductPriceList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){				\r\n");
      out.write("			$(\"#\"+CurrentProdrefid).val(pricerefid);\r\n");
      out.write("			response = JSON.parse(response);\r\n");
      out.write("			 var len = response.length;	\r\n");
      out.write("			 if(removeiconid!=\"NA\"){\r\n");
      out.write("				 hideRemove(removeiconid);}								 	\r\n");
      out.write("				 $(\"#\"+crossbtn).show();\r\n");
      out.write("				 $('#'+producttype).hide();	 \r\n");
      out.write("				 $(\"#\"+newproductbtnid).show();\r\n");
      out.write("				 $(\"#\"+productprice).show();\r\n");
      out.write("				 $('#'+productname).attr('disabled','disabled');\r\n");
      out.write("				 $('#'+productname).css('appearance','none');				 \r\n");
      out.write("			 var subamount=0;	\r\n");
      out.write("			 var key=\"NA\";\r\n");
      out.write("			for(var i=0;i<len;i++){\r\n");
      out.write("				var refid = response[i]['refid'];\r\n");
      out.write("				var pricetype = response[i]['pricetype'];\r\n");
      out.write("				var price = response[i]['price'];\r\n");
      out.write("				var minprice = response[i]['minprice'];\r\n");
      out.write("				var hsncode = response[i]['hsncode'];\r\n");
      out.write("				var cgstpercent = response[i]['cgstpercent'];\r\n");
      out.write("				var sgstpercent = response[i]['sgstpercent'];\r\n");
      out.write("				var igstpercent = response[i]['igstpercent'];\r\n");
      out.write("				var taxprice = response[i]['tax'];\r\n");
      out.write("				var totalprice = response[i]['totalprice'];\r\n");
      out.write("				var gstpercent=Number(cgstpercent)+Number(sgstpercent)+Number(igstpercent);\r\n");
      out.write("				var sn=$(\"#SalesProductIdQty\").val();\r\n");
      out.write("				sn=Number(sn)+Number(1);\r\n");
      out.write("				var TaxId=\"TaxPId\"+sn;\r\n");
      out.write("				var PriceId=\"PricePId\"+sn;\r\n");
      out.write("				var TotalPrice=\"TotalPricePId\"+sn;\r\n");
      out.write("				var gstPriceId=\"GstPricePId\"+sn;\r\n");
      out.write("				$(\"#SalesProductIdQty\").val(sn);\r\n");
      out.write("				if(key==\"NA\")key=refid;\r\n");
      out.write("				subamount=Number(subamount)+Number(totalprice);\r\n");
      out.write("				$(''+\r\n");
      out.write("				'<div class=\"clearfix bg_wht link-style12 Estpricelist2 '+PriceProduct+'\">'+\r\n");
      out.write("             '<div class=\"box-width25 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\">'+(i+1)+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width19 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\" title='+pricetype+'>'+pricetype+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" style=\"height: 38px;margin-left: 2px;\" value=\"'+price+'\" id=\"'+PriceId+'\" onchange=\"updatePrice(\\''+refid+'\\',\\''+TotalPrice+'\\',\\''+PriceId+'\\',\\''+minprice+'\\',\\''+cgstpercent+'\\',\\''+sgstpercent+'\\',\\''+igstpercent+'\\',\\''+pricerefid+'\\',\\''+gstPriceId+'\\',\\''+SaleProdQtyId+'\\',\\''+key+'\\')\" onkeypress=\"return isNumberKey(event)\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+    \r\n");
      out.write("              '<div class=\"box-width3 col-xs-1 box-intro-background\">'+\r\n");
      out.write("              '<input type=\"text\" name=\"'+TaxId+'\" id=\"'+TaxId+'\" value=\"'+gstpercent+' %'+'\" class=\"form-control bdrnone\" autocomplete=\"off\" placeholder=\"Tax %\" readonly=\"readonly\">'+\r\n");
      out.write("				      '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><input type=\"text\" class=\"form-control BrdNone\" id=\"'+gstPriceId+'\" style=\"height: 38px;margin-left: 2px;\" value=\"'+taxprice+'\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+TotalPrice+'\" value=\"'+totalprice+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+ \r\n");
      out.write("           '</div>').insertBefore('#'+PriceDropBox);				\r\n");
      out.write("			}\r\n");
      out.write("			$(''+\r\n");
      out.write("			'<div class=\"clearfix Estpricelist3 '+TotalPriceProduct+'\">'+\r\n");
      out.write("         '<div class=\"box-width59 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix mt-10\"><a href=\"javascript:void(0)\" onclick=\"addNewPriceType(\\''+ProdGroupRefid+'\\')\"><u>+ Add Price</u></a></div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("			 '<div class=\"box-width26 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border justify_end\">Total:</p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("         '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+key+'\" value=\"'+subamount.toFixed(2)+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+ \r\n");
      out.write("      '</div>').insertBefore('#'+PriceDropBoxSubAmount);		\r\n");
      out.write("			$(\"#\"+ProdGroupRefid).val(pricerefid);	\r\n");
      out.write("			$(\"#\"+PriceGroupId).val(pricerefid);	\r\n");
      out.write("			 }else{\r\n");
      out.write("				 document.getElementById('errorMsg').innerHTML ='Price not Listed , Please set price.';					\r\n");
      out.write("		 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			 }\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addNewProduct(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var a=document.getElementById(\"NewProductIdUid\").value.trim();\r\n");
      out.write("	var i=Number(a)+1;\r\n");
      out.write("	var crossbtn=\"CloseBtn\"+i;\r\n");
      out.write("	var producttype=\"Product_Type\"+i;\r\n");
      out.write("	var productprice=\"productPrice\"+i;\r\n");
      out.write("	var productname=\"Product_Name\"+i;\r\n");
      out.write("	var multiprod=\"MultiProd\"+i;\r\n");
      out.write("	var onetimeterm=\"onetime\"+i;\r\n");
      out.write("	var rentimeterm=\"renewal\"+i;\r\n");
      out.write("	var service=\"timetype\"+i;\r\n");
      out.write("	var period=\"ProductPeriod\"+i;\r\n");
      out.write("	var periodtime=\"ProductPeriodTime\"+i;\r\n");
      out.write("	var gstprice=\"GstPrice\"+i;\r\n");
      out.write("	var totalprice=\"TotalPrice\"+i;\r\n");
      out.write("	var newproductid=\"NewProductBtn\"+i;\r\n");
      out.write("	var removeicon=\"RemoveIcon\"+i;\r\n");
      out.write("	var PriceDropBox=\"PriceDropBox\"+i;\r\n");
      out.write("	var PriceGroupId=\"PriceGroupId\"+i;\r\n");
      out.write("	var ProductPriceDiv=\"ProductPriceDiv\"+i;\r\n");
      out.write("	var TotalPriceProduct=\"TotalPriceProduct\"+i;\r\n");
      out.write("	var PriceProduct=\"PriceProduct\"+i;\r\n");
      out.write("	var ProductPlan=\"ProductPlan\"+i;\r\n");
      out.write("	var TimelineBox=\"TimelineBox\"+i;\r\n");
      out.write("	var SaleProdQty=\"SaleProdQty\"+i;\r\n");
      out.write("	var ProdGroupRefid=\"ProdGroupRefid\"+i;\r\n");
      out.write("	var CurrentProdrefid=\"CurrentProdrefid\"+i;\r\n");
      out.write("	var PriceDropBoxSubAmount=\"PriceDropBoxSubAmount\"+i;\r\n");
      out.write("	var jurisdictionId=\"jurisdiction\"+i;\r\n");
      out.write("	document.getElementById(\"NewProductIdUid\").value=i;\r\n");
      out.write("	\r\n");
      out.write("	$(''+\r\n");
      out.write("	'<div class=\"row EstimateList1\" id=\"'+multiprod+'\">'+							\r\n");
      out.write("	'<div class=\"col-md-12 col-sm-12 col-xs-12\">'+\r\n");
      out.write("       '<div class=\"form-group\">'+\r\n");
      out.write("       '<div class=\"clearfix text-right mb10\" style=\"margin-top: 5px;\" id=\"'+removeicon+'\">'+\r\n");
      out.write("		'<button class=\"addbtn pointers\" type=\"button\" onclick=\"removeCurrentProduct(\\''+multiprod+'\\',\\''+productprice+'\\')\">- Remove</button>'+\r\n");
      out.write("       '</div>'+\r\n");
      out.write("        '<div class=\"input-group\">'+       \r\n");
      out.write("        '<select id=\"'+producttype+'\" name=\"productType\" class=\"form-control\" onchange=\"getProducts(this.value,\\''+productname+'\\');\">'+\r\n");
      out.write("            '<option value=\"\">Product Type</option>'+\r\n");
      out.write("            '");
for(int i=0;i<servicetype.length;i++){ 
      out.write("'+\r\n");
      out.write("            '<option value=\"");
      out.print(servicetype[i][1]);
      out.write('"');
      out.write('>');
      out.print(servicetype[i][1]);
      out.write("</option>'+\r\n");
      out.write("            '");
} 
      out.write("'+                                       \r\n");
      out.write("       '</select>'+\r\n");
      out.write("       '<input type=\"hidden\" name=\"pid\" id=\"pid\">'+\r\n");
      out.write("        '</div>'+\r\n");
      out.write("        '<div id=\"productTypeErrorMSGdiv\" class=\"errormsg\"></div>'+\r\n");
      out.write("       '</div>'+\r\n");
      out.write("      '</div>'+\r\n");
      out.write("      '<div class=\"col-md-12 col-sm-12 col-xs-12\">'+\r\n");
      out.write("       '<div class=\"form-group relative_box\">'+\r\n");
      out.write("       '<div class=\"clearfix text-right\">'+\r\n");
      out.write("		 '<button class=\"addbtn pointers \" type=\"button\" data-related=\"add_contact\" id=\"'+newproductid+'\" onclick=\"addNewProduct()\" style=\"display: none;float:right;margin-bottom: 10px;\">+ New Product</button>'+\r\n");
      out.write("		'</div>'+\r\n");
      out.write("        '<div class=\"input-group\">'+     \r\n");
      out.write("        '<input type=\"hidden\" id=\"'+ProdGroupRefid+'\" value=\"NA\">'+\r\n");
      out.write("        '<select name=\"product_name\" id=\"'+productname+'\" onchange=\"setProductPrice(\\''+productname+'\\',\\''+crossbtn+'\\',\\''+producttype+'\\',\\''+productprice+'\\',\\''+productname+'\\',\\''+newproductid+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\',\\''+PriceGroupId+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+ProdGroupRefid+'\\',\\''+removeicon+'\\',\\''+CurrentProdrefid+'\\',\\''+SaleProdQty+'\\',\\''+jurisdictionId+'\\')\" class=\"form-control\">'+\r\n");
      out.write("          '<option value=\"\">Product Name</option>'+                                  \r\n");
      out.write("         '</select>'+\r\n");
      out.write("        '</div>'+\r\n");
      out.write("        '<div id=\"product_nameErrorMSGdiv\" class=\"errormsg\"></div>'+																	                  \r\n");
      out.write("        '<button class=\"addbtn pointers close_icon3 del_icon\" id=\"'+crossbtn+'\" type=\"button\" style=\"display: none;\" onclick=\"activeDisplay(\\''+productname+'\\',\\''+producttype+'\\',\\''+crossbtn+'\\',\\''+productprice+'\\',\\''+ProductPriceDiv+'\\',\\''+newproductid+'\\',\\''+PriceGroupId+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\');showRemove(\\''+removeicon+'\\');\"><i class=\"fas fa-times\" style=\"font-size: 21px;\"></i></button>'+\r\n");
      out.write("       \r\n");
      out.write("       '</div>'+\r\n");
      out.write("      '</div>'+\r\n");
      out.write("	  '</div>'+\r\n");
      out.write("	  '<div class=\"clearfix EstimateList2\" id=\"'+ProductPriceDiv+'\">'+\r\n");
      out.write("	  '<div class=\"clearfix inner_box_bg form-group\" id=\"'+productprice+'\" style=\"display: none;\">'+\r\n");
      out.write("    '<div class=\"mb10 flex_box align_center relative_box\">'+\r\n");
      out.write("    '<span class=\"input_radio bg_wht pad_box2 pad_box3 s_head\">'+ \r\n");
      out.write("	'<select class=\"s_type\" name=\"'+jurisdictionId+'\" id=\"'+jurisdictionId+'\" onchange=\"updatePlan(\\''+CurrentProdrefid+'\\',this.value,\\'esjurisdiction\\');\" required=\"required\">'+\r\n");
      out.write("	'<option value=\"\">Select Jurisdiction</option>'+																	\r\n");
      out.write("	'</select></span>'+\r\n");
      out.write("	'<span class=\"input_radio bg_wht pad_box2 pad_box3\">'+\r\n");
      out.write("	'<input type=\"radio\" name=\"'+service+'\" id=\"'+onetimeterm+'\" checked=\"checked\" onclick=\"hideTime(\\''+period+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\');updatePlan(\\''+CurrentProdrefid+'\\',\\'OneTime\\',\\'esprodplan\\');\">'+\r\n");
      out.write("	'<span>One time</span>'+\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'<span class=\"mlft10 input_radio bg_wht pad_box2 pad_box3\">'+\r\n");
      out.write("	'<input type=\"radio\" name=\"'+service+'\" id=\"'+rentimeterm+'\" onclick=\"askTime(\\''+period+'\\',\\''+PriceGroupId+'\\',\\''+periodtime+'\\');updatePlan(\\''+CurrentProdrefid+'\\',\\'Renewal\\',\\'esprodplan\\');\">'+\r\n");
      out.write("	'<span>Renewal</span>'+\r\n");
      out.write("	'</span>'+	\r\n");
      out.write("	'<span class=\"mlft10 RenBox1\" id=\"'+period+'\" style=\"width: 100px;\">'+\r\n");
      out.write("	'<input type=\"text\" name=\"'+ProductPlan+'\" autocomplete=\"off\"  onclick=\"showTimelineBox(\\''+TimelineBox+'\\')\" onchange=\"updatePlan(\\''+CurrentProdrefid+'\\',this.value,\\'esplantime\\');\" id=\"'+ProductPlan+'\" class=\"form-control bdrnone text-right\" placeholder=\"Timeline\" style=\"width: 55%;\">'+\r\n");
      out.write("    '<input type=\"text\" name=\"'+periodtime+'\" autocomplete=\"off\" id=\"'+periodtime+'\" class=\"form-control bdrnone pointers\" readonly=\"readonly\" style=\"width: 11%;position: absolute;margin-left: 50px;margin-top: -37px;\">'+\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'<div class=\"timelineproduct_box\" id=\"'+TimelineBox+'\">'+\r\n");
      out.write("	'<div class=\"timelineproduct_inner\">'+\r\n");
      out.write("	'<span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Day\\',\\'esplanperiod\\')\">Day</span> <span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Week\\',\\'esplanperiod\\')\">Week</span ><span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Month\\',\\'esplanperiod\\')\">Month</span><span onclick=\"addInput(\\''+periodtime+'\\',\\''+TimelineBox+'\\',\\''+ProductPlan+'\\',\\''+CurrentProdrefid+'\\',\\'Year\\',\\'esplanperiod\\')\">Year</span></div>'+\r\n");
      out.write("	'</div>'+		\r\n");
      out.write("	'<input type=\"hidden\" id=\"'+CurrentProdrefid+'\"/>'+\r\n");
      out.write("	'<span class=\"bg_wht pad_box3 qtyBtn\">'+\r\n");
      out.write("	'<span class=\"fa fa-minus pointers\" onclick=\"updateMainProductQty(\\''+SaleProdQty+'\\',\\'minus\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\')\"></span>'+\r\n");
      out.write("	'<input type=\"text\" id=\"'+SaleProdQty+'\" value=\"1\" onchange=\"updateMainProdQty(\\''+SaleProdQty+'\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\')\" onkeypress=\"return isNumber(event)\">'+\r\n");
      out.write("	'<span class=\"fa fa-plus pointers\" onclick=\"updateMainProductQty(\\''+SaleProdQty+'\\',\\'plus\\',\\''+CurrentProdrefid+'\\',\\''+rentimeterm+'\\',\\''+onetimeterm+'\\',\\''+ProductPlan+'\\',\\''+periodtime+'\\',\\''+productprice+'\\',\\''+PriceProduct+'\\',\\''+TotalPriceProduct+'\\',\\''+PriceDropBox+'\\',\\''+PriceDropBoxSubAmount+'\\')\"></span>'+									\r\n");
      out.write("	'</span>'+\r\n");
      out.write("	'</div>'+\r\n");
      out.write("     '<div class=\"row mb10\">'+\r\n");
      out.write("       '<div class=\"col-md-12 col-sm-12 col-xs-12\">'+       \r\n");
      out.write("       '<div class=\"clearfix\" id=\"'+PriceDropBox+'\"></div>'+\r\n");
      out.write("       '<input type=\"hidden\" name=\"'+PriceGroupId+'\" id=\"'+PriceGroupId+'\"/>'+\r\n");
      out.write("       '<div class=\"clearfix\" id=\"'+PriceDropBoxSubAmount+'\"></div>'+    \r\n");
      out.write("       \r\n");
      out.write("      '</div>'+\r\n");
      out.write("      '</div>'+	  \r\n");
      out.write("    '</div>'+\r\n");
      out.write("    '</div>'+\r\n");
      out.write(" '</div>'+\r\n");
      out.write(" '</div>'+\r\n");
      out.write(" '</div>').insertBefore('.MultipleProduct');	\r\n");
      out.write("	$('#edit_estimate').animate({scrollTop: $(\"#\"+multiprod).offset().top},'slow');\r\n");
      out.write("	hideLoader();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setProductPrice(prodid,crossbtn,producttype,productprice,productname,\r\n");
      out.write("		newproductbtn,pricedropbox,pricedropboxsubamount,pricedivid,PriceProduct,\r\n");
      out.write("		TotalPriceProduct,ProdGroupRefid,removeiconid,CurrentProdrefid,\r\n");
      out.write("		SaleProdQtyId,jurisdictionId){\r\n");
      out.write("	 var prod=$(\"#\"+prodid).val();\r\n");
      out.write("	 var x=prod.split(\"#\");\r\n");
      out.write("	 var prodrefid=x[1];\r\n");
      out.write("	 var salesno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	 showLoader();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"IsProductInOrder111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				prodrefid : prodrefid,	\r\n");
      out.write("				salesno : salesno\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){	\r\n");
      out.write("				if(data==\"fail\"){					\r\n");
      out.write("					var company=$(\"#ConvertInvoiceCompany\").val();\r\n");
      out.write("					var contactrefid=$(\"#ConvertInvoiceContactrefid\").val();\r\n");
      out.write("					var clientrefid=$(\"#ConvertInvoiceClientrefid\").val();\r\n");
      out.write("					var servicetype=$(\"#\"+producttype).val();\r\n");
      out.write("					var prodname=x[0];\r\n");
      out.write("					var esrefid=makeid(40);	\r\n");
      out.write("					showLoader();\r\n");
      out.write("						 $.ajax({\r\n");
      out.write("								type : \"POST\",\r\n");
      out.write("								url : \"SetProductInOrder111\",\r\n");
      out.write("								dataType : \"HTML\",\r\n");
      out.write("								data : {				\r\n");
      out.write("									prodrefid : prodrefid,\r\n");
      out.write("									salesno : salesno,\r\n");
      out.write("									company : company,\r\n");
      out.write("									contactrefid : contactrefid,\r\n");
      out.write("									clientrefid : clientrefid,\r\n");
      out.write("									servicetype : servicetype,\r\n");
      out.write("									prodname : prodname,\r\n");
      out.write("									esrefid : esrefid\r\n");
      out.write("								},\r\n");
      out.write("								success : function(response){\r\n");
      out.write("								if(Object.keys(response).length!=0){\r\n");
      out.write("								response = JSON.parse(response);\r\n");
      out.write("								 var len = response.length;	\r\n");
      out.write("								 if(removeiconid!=\"NA\"){\r\n");
      out.write("									 hideRemove(removeiconid);}								 	\r\n");
      out.write("									 $(\"#\"+crossbtn).css('display','block');\r\n");
      out.write("									 $('#'+producttype).css('display','none');	 \r\n");
      out.write("									 $(\"#\"+newproductbtn).css('display','block');\r\n");
      out.write("									 $(\"#\"+productprice).css('display','block');\r\n");
      out.write("									 $('#'+productname).attr('disabled','disabled');\r\n");
      out.write("									 $('#'+productname).css('appearance','none');		\r\n");
      out.write("									 $('#'+CurrentProdrefid).val(esrefid);\r\n");
      out.write("								 var subamount=0;\r\n");
      out.write("								 var key=\"NA\";\r\n");
      out.write("								for(var i=0;i<len;i++){									\r\n");
      out.write("									var groupkey = response[i]['salekey'];\r\n");
      out.write("									var pricetype = response[i]['pricetype'];\r\n");
      out.write("									var price = response[i]['price'];\r\n");
      out.write("									var minprice=Number(price);\r\n");
      out.write("									var hsn = response[i]['hsn'];\r\n");
      out.write("									var cgstpercent = response[i]['cgstpercent'];\r\n");
      out.write("									var sgstpercent = response[i]['sgstpercent'];\r\n");
      out.write("									var igstpercent = response[i]['igstpercent'];\r\n");
      out.write("									var totalprice = response[i]['totalprice'];\r\n");
      out.write("									var pricerefid = response[i]['pricerefid'];\r\n");
      out.write("									var taxprice = response[i]['taxprice'];\r\n");
      out.write("									var gstpercent=Number(cgstpercent)+Number(sgstpercent)+Number(igstpercent);									\r\n");
      out.write("									var sn=$(\"#SalesProductIdQty\").val();\r\n");
      out.write("									sn=Number(sn)+Number(1);\r\n");
      out.write("									var TaxId=\"TaxId\"+sn;\r\n");
      out.write("									var PriceId=\"PriceId\"+sn;\r\n");
      out.write("									var TotalPrice=\"TotalPrice\"+sn;									\r\n");
      out.write("									var gstPriceId=\"gstPriceId\"+sn;\r\n");
      out.write("									$(\"#SalesProductIdQty\").val(sn);\r\n");
      out.write("									key=groupkey;\r\n");
      out.write("									subamount=Number(subamount)+Number(totalprice);\r\n");
      out.write("									$(''+\r\n");
      out.write("											'<div class=\"clearfix bg_wht link-style12 '+PriceProduct+'\">'+\r\n");
      out.write("							             '<div class=\"box-width25 col-xs-1 box-intro-background\">'+\r\n");
      out.write("							                  '<div class=\"clearfix\">'+\r\n");
      out.write("							                  '<p class=\"news-border\">'+(i+1)+'</p>'+\r\n");
      out.write("							                  '</div>'+\r\n");
      out.write("							              '</div>'+\r\n");
      out.write("							              '<div class=\"box-width19 col-xs-1 box-intro-background\">'+\r\n");
      out.write("							                  '<div class=\"clearfix\">'+\r\n");
      out.write("							                  '<p class=\"news-border\" title='+pricetype+'>'+pricetype+'</p>'+\r\n");
      out.write("							                  '</div>'+\r\n");
      out.write("							              '</div>'+\r\n");
      out.write("							              '<div class=\"box-width14 col-xs-1 box-intro-background\">'+\r\n");
      out.write("							                  '<div class=\"clearfix\">'+																																																																																																					                                                                                            \r\n");
      out.write("							                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" style=\"height: 38px;margin-left: 2px;\" value=\"'+price+'\" id=\"'+PriceId+'\" onchange=\"updatePrice(\\''+pricerefid+'\\',\\''+TotalPrice+'\\',\\''+PriceId+'\\',\\''+minprice+'\\',\\''+cgstpercent+'\\',\\''+sgstpercent+'\\',\\''+igstpercent+'\\',\\''+esrefid+'\\',\\''+gstPriceId+'\\',\\''+SaleProdQtyId+'\\',\\''+key+'\\')\" onkeypress=\"return isNumberKey(event)\"/></p>'+\r\n");
      out.write("							                  '</div>'+\r\n");
      out.write("							              '</div>'+    \r\n");
      out.write("							              '<div class=\"box-width3 col-xs-1 box-intro-background\">'+\r\n");
      out.write("							              '<input type=\"text\" name=\"'+TaxId+'\" id=\"'+TaxId+'\" value=\"'+gstpercent+' %'+'\" class=\"form-control bdrnone\" autocomplete=\"off\" placeholder=\"Tax %\" readonly=\"readonly\">'+\r\n");
      out.write("											      '</div>'+\r\n");
      out.write("							              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("							                  '<div class=\"clearfix\">'+\r\n");
      out.write("							                  '<p class=\"news-border\"><input type=\"text\" class=\"form-control BrdNone\" id=\"'+gstPriceId+'\" style=\"height: 38px;margin-left: 2px;\" value=\"'+taxprice+'\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("							                  '</div>'+\r\n");
      out.write("							              '</div>'+\r\n");
      out.write("							              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("							                  '<div class=\"clearfix\">'+\r\n");
      out.write("							                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+TotalPrice+'\" value=\"'+totalprice+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("							                  '</div>'+\r\n");
      out.write("							              '</div>'+ \r\n");
      out.write("							           '</div>').insertBefore('#'+pricedropbox);\r\n");
      out.write("								}\r\n");
      out.write("								$(''+\r\n");
      out.write("										'<div class=\"clearfix '+TotalPriceProduct+'\">'+\r\n");
      out.write("							         '<div class=\"box-width59 col-xs-6 box-intro-background\">'+\r\n");
      out.write("							             '<div class=\"clearfix\"><a href=\"javascript:void(0)\" onclick=\"addNewPriceType(\\''+ProdGroupRefid+'\\')\"><u>+ Add Price</u></a></div>'+\r\n");
      out.write("							         '</div>'+\r\n");
      out.write("										 '<div class=\"box-width26 col-xs-6 box-intro-background\">'+\r\n");
      out.write("							             '<div class=\"clearfix\">'+\r\n");
      out.write("							             '<p class=\"news-border justify_end\">Total:</p>'+\r\n");
      out.write("							             '</div>'+\r\n");
      out.write("							         '</div>'+\r\n");
      out.write("							         '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("							             '<div class=\"clearfix\">'+\r\n");
      out.write("							             '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+key+'\" value=\"'+Number(subamount).toFixed(2)+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("							             '</div>'+\r\n");
      out.write("							         '</div>'+ \r\n");
      out.write("							      '</div>').insertBefore('#'+pricedropboxsubamount);\r\n");
      out.write("								\r\n");
      out.write("								 $(\"#\"+ProdGroupRefid).val(key);\r\n");
      out.write("								$(\"#\"+productprice).css('display','block');\r\n");
      out.write("								document.getElementById(pricedivid).value=key;			\r\n");
      out.write("								 }else{\r\n");
      out.write("									 document.getElementById('errorMsg').innerHTML ='Price not Listed , Please set price.';	\r\n");
      out.write("									 $(\"#\"+prodid).val('');\r\n");
      out.write("							 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("								 }\r\n");
      out.write("								},\r\n");
      out.write("								complete : function(data){\r\n");
      out.write("									hideLoader();\r\n");
      out.write("								}\r\n");
      out.write("							});	\r\n");
      out.write("			if(jurisdictionId!=\"NA\")\r\n");
      out.write("			appendNewProductJurisdiction(prodrefid,jurisdictionId);\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML ='Product already in your cart. Increase quantity !!';	\r\n");
      out.write("				$(\"#\"+prodid).val('');\r\n");
      out.write("				 $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});	 \r\n");
      out.write("}\r\n");
      out.write("function makeid(length) {\r\n");
      out.write("	   var result           = '';\r\n");
      out.write("	   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n");
      out.write("	   var charactersLength = characters.length;\r\n");
      out.write("	   for ( var i = 0; i < length; i++ ) {\r\n");
      out.write("	      result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n");
      out.write("	   }\r\n");
      out.write("	   return result;\r\n");
      out.write("	}\r\n");
      out.write("function activeDisplay(prodname,prodtype,crossbtn,productprice,parendpricediv,newproductid,pricedivrefid,PriceProduct,TotalPriceProduct){\r\n");
      out.write("	 $('#'+prodname).removeAttr('style');\r\n");
      out.write("	 $('#'+prodname).removeAttr('disabled');	 \r\n");
      out.write("	 $('#'+prodtype).show();\r\n");
      out.write("	 $('#'+newproductid).hide();\r\n");
      out.write("	 $('#'+prodname).val('');\r\n");
      out.write("	 $('#'+crossbtn).hide();	 \r\n");
      out.write("	 removeProductPrice(pricedivrefid,productprice,parendpricediv,PriceProduct,TotalPriceProduct);\r\n");
      out.write("} \r\n");
      out.write("function removeProductPrice(pricedivid,productprice,parendpricediv,PriceProduct,TotalPriceProduct){\r\n");
      out.write("	 var salesrefidrefid=document.getElementById(pricedivid).value.trim();\r\n");
      out.write("	 showLoader();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"RemoveSalesProductPrices111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesrefidrefid : salesrefidrefid,				\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){				\r\n");
      out.write("					$('#'+productprice).css('display','none');\r\n");
      out.write("					$(\".\"+PriceProduct).remove();\r\n");
      out.write("					$(\".\"+TotalPriceProduct).remove();			\r\n");
      out.write("				\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});	 \r\n");
      out.write("}\r\n");
      out.write("function hideRemove(removeid){\r\n");
      out.write("	 $('#'+removeid).css('display','none');\r\n");
      out.write("}\r\n");
      out.write("function showRemove(removeid){\r\n");
      out.write("	 $('#'+removeid).css('display','block');\r\n");
      out.write("}\r\n");
      out.write("function getProducts(servicetype,productDiv){\r\n");
      out.write("	if(servicetype!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetServiceType111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			\"servicetype\":servicetype,\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;\r\n");
      out.write("			 \r\n");
      out.write("			$(\"#\"+productDiv).empty();\r\n");
      out.write("		    $(\"#\"+productDiv).append(\"<option value=''>\"+\"Product Name\"+\"</option>\");		    \r\n");
      out.write("			for(var i=0;i<len;i++){\r\n");
      out.write("				var prodrefid = response[i]['prodrefid'];\r\n");
      out.write("				var pname = response[i]['pname'];\r\n");
      out.write("				$(\"#\"+productDiv).append(\"<option value='\"+pname+\"#\"+prodrefid+\"'>\"+pname+\"</option>\");\r\n");
      out.write("			}\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});}else{\r\n");
      out.write("		$(\"#\"+productDiv).empty();\r\n");
      out.write("	    $(\"#\"+productDiv).append(\"<option value=''>\"+\"Product Name\"+\"</option>\");	   \r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function removeCurrentProduct(ProdBoxId,ProdPriceBox){\r\n");
      out.write("	$('#'+ProdBoxId).remove();\r\n");
      out.write("	$('#'+ProdPriceBox).remove();\r\n");
      out.write("}\r\n");
      out.write("function updateProdQty(InputBoxId,ProdGroupRefId){\r\n");
      out.write("	var prodrefid=$(\"#\"+ProdGroupRefId).val();\r\n");
      out.write("	var prodqty=$(\"#\"+InputBoxId).val();		\r\n");
      out.write("	if(prodrefid!=\"NA\"&&prodrefid!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSalesProductsQtyDirect111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			prodrefid : prodrefid,\r\n");
      out.write("			prodqty : prodqty\r\n");
      out.write("			},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			var x=data.split(\"#\");\r\n");
      out.write("			if(x[0]==\"pass\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg1\").innerHTML=\"Updated Successfully.\";				\r\n");
      out.write("				$(\"#\"+InputBoxId).val(prodqty);		\r\n");
      out.write("				$(\"#ConvertedPriceListId\").remove();\r\n");
      out.write("				var b=$('#Convert_Product_Name').val();\r\n");
      out.write("				var c=b.split(\"#\");\r\n");
      out.write("				setProduct(c[1],prodrefid);\r\n");
      out.write("			$('.alert-show1').show().delay(2000).fadeOut();\r\n");
      out.write("			}else if(x[0]==\"Not\"){	\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Invalid Input.\";		\r\n");
      out.write("				$(\"#\"+InputBoxId).val(x[1]);	\r\n");
      out.write("			$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";		\r\n");
      out.write("				$(\"#\"+InputBoxId).val(x[1]);	\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	}else{\r\n");
      out.write("		document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	}\r\n");
      out.write("}																															\r\n");
      out.write("function updateMainProductQty(InputBoxId,action,ProdGroupRefid,rentimeterm,onetimeterm,ProductPlan,periodtime,periodproductprice,PriceProduct,TotalPriceProduct,PriceDropBox,PriceDropBoxSubAmount){\r\n");
      out.write("	var prodrefid=$(\"#\"+ProdGroupRefid).val();\r\n");
      out.write("	\r\n");
      out.write("	var prodqty=$(\"#\"+InputBoxId).val();	\r\n");
      out.write("	if(prodrefid!=\"NA\"&&prodrefid!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSalesProductsQty111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			prodrefid : prodrefid,\r\n");
      out.write("			prodqty : prodqty,\r\n");
      out.write("			action : action\r\n");
      out.write("			},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg1\").innerHTML=\"Updated.\";\r\n");
      out.write("				if(action==\"plus\"){prodqty=Number(prodqty)+Number(1);}\r\n");
      out.write("				else if(action==\"minus\"){prodqty=Number(prodqty)-Number(1);}\r\n");
      out.write("				$(\"#\"+InputBoxId).val(prodqty);\r\n");
      out.write("				\r\n");
      out.write("				setMainProduct(prodrefid,InputBoxId,rentimeterm,onetimeterm,ProductPlan,periodtime,periodproductprice,ProdGroupRefid,PriceProduct,TotalPriceProduct,PriceDropBox,PriceDropBoxSubAmount);\r\n");
      out.write("				\r\n");
      out.write("			$('.alert-show1').show().delay(2000).fadeOut();\r\n");
      out.write("			}else if(data==\"Not\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Invalid Input.\";				\r\n");
      out.write("			$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	}else{\r\n");
      out.write("		document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	}\r\n");
      out.write("}				\r\n");
      out.write("function updateMainProdQty(InputBoxId,ProdGroupRefId,rentimeterm,onetimeterm,ProductPlan,periodtime,periodproductprice,PriceProduct,TotalPriceProduct,PriceDropBox,PriceDropBoxSubAmount){\r\n");
      out.write("	\r\n");
      out.write("	var prodrefid=$(\"#\"+ProdGroupRefId).val();\r\n");
      out.write("	var prodqty=$(\"#\"+InputBoxId).val();		\r\n");
      out.write("	\r\n");
      out.write("	if(prodrefid!=\"NA\"&&prodrefid!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSalesProductsQtyDirect111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			prodrefid : prodrefid,\r\n");
      out.write("			prodqty : prodqty\r\n");
      out.write("			},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			var x=data.split(\"#\");\r\n");
      out.write("			if(x[0]==\"pass\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg1\").innerHTML=\"Updated.\";				\r\n");
      out.write("				$(\"#\"+InputBoxId).val(prodqty);	\r\n");
      out.write("				setMainProduct(prodrefid,InputBoxId,rentimeterm,onetimeterm,ProductPlan,periodtime,periodproductprice,ProdGroupRefId,PriceProduct,TotalPriceProduct,PriceDropBox,PriceDropBoxSubAmount);\r\n");
      out.write("				\r\n");
      out.write("			$('.alert-show1').show().delay(2000).fadeOut();\r\n");
      out.write("			}else if(x[0]==\"Not\"){	\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Invalid Input.\";		\r\n");
      out.write("				$(\"#\"+InputBoxId).val(x[1]);	\r\n");
      out.write("			$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";		\r\n");
      out.write("				$(\"#\"+InputBoxId).val(x[1]);	\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	}else{\r\n");
      out.write("		document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	}\r\n");
      out.write("}											\r\n");
      out.write("function setMainProduct(pricerefid,SaleProdQty,renewal,onetime,MainTimelineValue,MainTimelineUnit,ProductPeriod,CurrentProdrefid,PriceProduct,TotalPriceProduct,PriceDropBox,PriceDropBoxSubAmount){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	fillTimePlan(pricerefid,SaleProdQty,renewal,onetime,MainTimelineValue,MainTimelineUnit,ProductPeriod);	\r\n");
      out.write("	\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"SetProductPriceList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){				\r\n");
      out.write("			$(\"#\"+CurrentProdrefid).val(pricerefid);\r\n");
      out.write("			response = JSON.parse(response);\r\n");
      out.write("			 var len = response.length;						\r\n");
      out.write("				 $(\".\"+PriceProduct).remove();\r\n");
      out.write("				 $(\".\"+TotalPriceProduct).remove();\r\n");
      out.write("			 var subamount=0;			 \r\n");
      out.write("			for(var i=0;i<len;i++){\r\n");
      out.write("				var refid = response[i]['refid'];\r\n");
      out.write("				var pricetype = response[i]['pricetype'];\r\n");
      out.write("				var price = response[i]['price'];\r\n");
      out.write("				var minprice = response[i]['minprice'];\r\n");
      out.write("				var hsncode = response[i]['hsncode'];\r\n");
      out.write("				var cgstpercent = response[i]['cgstpercent'];\r\n");
      out.write("				var sgstpercent = response[i]['sgstpercent'];\r\n");
      out.write("				var igstpercent = response[i]['igstpercent'];\r\n");
      out.write("				var taxprice = response[i]['tax'];\r\n");
      out.write("				var totalprice = response[i]['totalprice'];\r\n");
      out.write("				var gstpercent=Number(cgstpercent)+Number(sgstpercent)+Number(igstpercent);\r\n");
      out.write("				var sn=$(\"#SalesProductIdQty\").val();\r\n");
      out.write("				sn=Number(sn)+Number(1);\r\n");
      out.write("				var TaxId=\"TaxUId\"+sn;\r\n");
      out.write("				var PriceId=\"PriceUId\"+sn;\r\n");
      out.write("				var TotalPrice=\"TotalPriceUId\"+sn;\r\n");
      out.write("				var gstPriceId=\"GstPriceUId\"+sn;\r\n");
      out.write("				$(\"#SalesProductIdQty\").val(sn);\r\n");
      out.write("				subamount=Number(subamount)+Number(totalprice);\r\n");
      out.write("				$(''+\r\n");
      out.write("				'<div class=\"clearfix bg_wht link-style12 Estpricelist2 '+PriceProduct+'\">'+\r\n");
      out.write("             '<div class=\"box-width25 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\">'+(i+1)+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width19 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\" title='+pricetype+'>'+pricetype+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+																																																																																																			\r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" style=\"height: 38px;margin-left: 2px;\" value=\"'+price+'\" id=\"'+PriceId+'\" onchange=\"updatePrice(\\''+refid+'\\',\\''+TotalPrice+'\\',\\''+PriceId+'\\',\\''+minprice+'\\',\\''+cgstpercent+'\\',\\''+sgstpercent+'\\',\\''+igstpercent+'\\',\\''+pricerefid+'\\',\\''+gstPriceId+'\\',\\''+SaleProdQty+'\\',\\''+pricerefid+'\\')\" onkeypress=\"return isNumberKey(event)\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+    \r\n");
      out.write("              '<div class=\"box-width3 col-xs-1 box-intro-background\">'+\r\n");
      out.write("              '<input type=\"text\" name=\"'+TaxId+'\" id=\"'+TaxId+'\" value=\"'+gstpercent+' %'+'\" class=\"form-control bdrnone\" autocomplete=\"off\" placeholder=\"Tax %\" readonly=\"readonly\">'+\r\n");
      out.write("				      '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><input type=\"text\" class=\"form-control BrdNone\" id=\"'+gstPriceId+'\" style=\"height: 38px;margin-left: 2px;\" value=\"'+taxprice+'\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+TotalPrice+'\" value=\"'+totalprice+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+ \r\n");
      out.write("           '</div>').insertBefore('#'+PriceDropBox);				\r\n");
      out.write("			}\r\n");
      out.write("			$(''+\r\n");
      out.write("			'<div class=\"clearfix Estpricelist3 '+TotalPriceProduct+'\">'+\r\n");
      out.write("         '<div class=\"box-width59 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\"><a href=\"javascript:void(0)\" onclick=\"addNewPriceType(\\''+CurrentProdrefid+'\\')\"><u>+ Add Price</u></a></div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("			 '<div class=\"box-width26 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border justify_end\">Total:</p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("         '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+pricerefid+'\" value=\"'+subamount.toFixed(2)+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+ \r\n");
      out.write("      '</div>').insertBefore('#'+PriceDropBoxSubAmount);			 	\r\n");
      out.write("			 }else{\r\n");
      out.write("				 document.getElementById('errorMsg').innerHTML ='Price not Listed , Please set price.';					\r\n");
      out.write("		 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			 }\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateProductQty(InputBoxId,action,ProdGroupRefid){\r\n");
      out.write("	var prodrefid=$(\"#\"+ProdGroupRefid).val();\r\n");
      out.write("	var prodqty=$(\"#\"+InputBoxId).val();	\r\n");
      out.write("	if(prodrefid!=\"NA\"&&prodrefid!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSalesProductsQty111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			prodrefid : prodrefid,\r\n");
      out.write("			prodqty : prodqty,\r\n");
      out.write("			action : action\r\n");
      out.write("			},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg1\").innerHTML=\"Updated Successfully.\";\r\n");
      out.write("				if(action==\"plus\"){prodqty=Number(prodqty)+Number(1);}\r\n");
      out.write("				else if(action==\"minus\"){prodqty=Number(prodqty)-Number(1);}\r\n");
      out.write("				$(\"#\"+InputBoxId).val(prodqty);		\r\n");
      out.write("				$(\"#ConvertedPriceListId\").remove();\r\n");
      out.write("				var a=$('#Convert_Product_Name').val();\r\n");
      out.write("				var b=a.split(\"#\");\r\n");
      out.write("				setProduct(b[1],prodrefid);\r\n");
      out.write("			$('.alert-show1').show().delay(2000).fadeOut();\r\n");
      out.write("			}else if(data==\"Not\"){				\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Invalid Input.\";				\r\n");
      out.write("			$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	}else{\r\n");
      out.write("		document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("	function updatePlan(prodid,value,colname){\r\n");
      out.write("		var prodrefid=$(\"#\"+prodid).val();\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateSalesProductPlan111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {	\r\n");
      out.write("				prodrefid : prodrefid,\r\n");
      out.write("				value : value,\r\n");
      out.write("				colname : colname\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML =\"Updated\";\r\n");
      out.write("					$('.alert-show1').show().delay(500).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	function hideTime(ProductPeriod,Timelinebox,MainTimelineValueId){\r\n");
      out.write("		$(\"#\"+MainTimelineValueId).prop('readonly',true);\r\n");
      out.write("		$(\"#\"+ProductPeriod).hide();\r\n");
      out.write("		$(\"#\"+Timelinebox).hide();\r\n");
      out.write("	}\r\n");
      out.write("	function askTime(ProductPeriod,TimelineValueId,TimeLineUnitId){\r\n");
      out.write("		$(\"#\"+TimelineValueId).val('');\r\n");
      out.write("		$(\"#\"+TimeLineUnitId).val('');\r\n");
      out.write("		$(\"#\"+ProductPeriod).css('display','block');\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("	function showTimelineBox(TimelineBoxId){\r\n");
      out.write("		if($('#'+TimelineBoxId).css('display') == 'none')\r\n");
      out.write("		{\r\n");
      out.write("			$(\"#\"+TimelineBoxId).css('display','block');\r\n");
      out.write("		}	\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	function validateUpdateCompany(){	       \r\n");
      out.write("		if($(\"#UpdateCompanyName\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Company Name is mandatory.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if($(\"#UpdateIndustry_Type\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Industry type is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#Update_Super_User\").val()==null||$(\"#Update_Super_User\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Select Super User\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#UpdatePanNumber\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Pan Number is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if($(\"#UpdateGSTNumber\").val().trim()==\"\"){\r\n");
      out.write("			$(\"#UpdateGSTNumber\").val(\"NA\");\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#Edit_Company_age\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Company age is mandatory !!\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($(\"#UpdateCity\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"City is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if($(\"#UpdateState\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"State is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if($(\"#UpdateCountry\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Country is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if($(\"#UpdateAddress\").val().trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Address is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		var industrytype=$(\"#UpdateIndustry_Type\").val();\r\n");
      out.write("		let superUser=$(\"#Update_Super_User\").val();\r\n");
      out.write("		var pan=$(\"#UpdatePanNumber\").val();\r\n");
      out.write("		var gstin=$(\"#UpdateGSTNumber\").val();\r\n");
      out.write("		var city=$(\"#UpdateCity\").val();\r\n");
      out.write("		var state=$(\"#UpdateState\").val();\r\n");
      out.write("		var stateCode=\"\";\r\n");
      out.write("		var x=state.split(\"#\");\r\n");
      out.write("		state=x[2];\r\n");
      out.write("		stateCode=x[1];\r\n");
      out.write("		var country=$(\"#UpdateCountry\").val();\r\n");
      out.write("		if(country.includes(\"#\")){\r\n");
      out.write("			var x=country.split(\"#\");\r\n");
      out.write("			country=x[1];\r\n");
      out.write("		}\r\n");
      out.write("		var address=$(\"#UpdateAddress\").val();\r\n");
      out.write("		var companyAge=$(\"#Edit_Company_age\").val();\r\n");
      out.write("		var companykey=$(\"#UpdateCompanyKey\").val();\r\n");
      out.write("		var companyName=$(\"#UpdateCompanyName\").val();\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateNewCompany777\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				industrytype : industrytype,\r\n");
      out.write("				pan : pan,\r\n");
      out.write("				gstin : gstin,\r\n");
      out.write("				city : city,\r\n");
      out.write("				state : state,\r\n");
      out.write("				country : country,\r\n");
      out.write("				address : address,\r\n");
      out.write("				companykey : companykey,\r\n");
      out.write("				companyAge : companyAge,\r\n");
      out.write("				stateCode : stateCode,\r\n");
      out.write("				companyName: companyName,\r\n");
      out.write("				superUser : superUser\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML = 'Successfully Updated !!';\r\n");
      out.write("					$('#UpdateRegCompany').trigger(\"reset\");\r\n");
      out.write("					\r\n");
      out.write("					$('.fixed_right_box').removeClass('active');\r\n");
      out.write("					$('.addnew').show();\r\n");
      out.write("									\r\n");
      out.write("					$('.alert-show1').show().delay(4000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	function addSuperUser(selectId){\r\n");
      out.write("		$(\"#add_super_user_id\").val(selectId);\r\n");
      out.write("		$(\"#add_super_user\").modal(\"show\");	\r\n");
      out.write("	}\r\n");
      out.write("	function validateSuperUser(){\r\n");
      out.write("		let super_name=$(\"#super_name\").val();\r\n");
      out.write("		let super_email=$(\"#super_email\").val();\r\n");
      out.write("		let super_mobile=$(\"#super_mobile\").val();\r\n");
      out.write("		if(super_name==null||super_name==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please enter name !!\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(super_email==null||super_email==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please enter email !!\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(super_mobile==null||super_mobile==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please enter mobile !!\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"SaveClientSuperUser111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				super_name : super_name,\r\n");
      out.write("				super_email : super_email,\r\n");
      out.write("				super_mobile : super_mobile\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("// 				console.log(data);\r\n");
      out.write("				if(data==\"exist\"){\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Either mobile or email already exist !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}else if(data==\"pass\"){\r\n");
      out.write("					let selectId=$(\"#add_super_user_id\").val();\r\n");
      out.write("					setClientSuperUser(selectId); \r\n");
      out.write("					$(\"#super_user_form\")[0].reset();\r\n");
      out.write("					$(\"#add_super_user\").modal(\"hide\");\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML = 'Super User Registered Successfully !!';\r\n");
      out.write("					$('.alert-show1').show().delay(4000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(msg) {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("	function setClientSuperUser(selectId){\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetClientSuperUser111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {},\r\n");
      out.write("			success : function(response){	\r\n");
      out.write("				/* console.log(response); */\r\n");
      out.write("				$(\"#\"+selectId).empty();\r\n");
      out.write("				$(\"#\"+selectId).append(response).trigger('change');\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	function validateUpdateContact(){\r\n");
      out.write("		if(document.getElementById(\"UpdateContactFirstName\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"First name is mandatory.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactLastName\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Last name is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactEmail_Id\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Email is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactEmailId2\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContactEmailId2\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContPan\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContPan\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactWorkPhone\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Work phone is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactMobilePhone\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContactMobilePhone\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($('#UpdateContactperAddress').prop('checked')){\r\n");
      out.write("			if(document.getElementById(\"UpdateContCountry\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Country is mandatory\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}			\r\n");
      out.write("			if(document.getElementById(\"UpdateContState\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"State is mandatory\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("			if(document.getElementById(\"UpdateContCity\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"City is mandatory\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("			if(document.getElementById(\"UpdateContAddress\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Address is mandatory\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("		}\r\n");
      out.write("		var firstname=document.getElementById(\"UpdateContactFirstName\").value.trim();\r\n");
      out.write("		var lastname=document.getElementById(\"UpdateContactLastName\").value.trim();\r\n");
      out.write("		var email=document.getElementById(\"UpdateContactEmail_Id\").value.trim();\r\n");
      out.write("		var email2=document.getElementById(\"UpdateContactEmailId2\").value.trim();\r\n");
      out.write("		var workphone=document.getElementById(\"UpdateContactWorkPhone\").value.trim();\r\n");
      out.write("		var mobile=document.getElementById(\"UpdateContactMobilePhone\").value.trim();\r\n");
      out.write("		var pan=$(\"#UpdateContPan\").val();\r\n");
      out.write("		var country=\"NA\";\r\n");
      out.write("		var city=\"NA\";\r\n");
      out.write("	    var state=\"NA\";\r\n");
      out.write("	    var stateCode=\"NA\";\r\n");
      out.write("	    var address=\"NA\";\r\n");
      out.write("	    var companyaddress=\"NA\";\r\n");
      out.write("	    var addresstype=\"Personal\";\r\n");
      out.write("	    if($('#UpdateContactperAddress').prop('checked')){\r\n");
      out.write("	    	country=$(\"#UpdateContCountry\").val();\r\n");
      out.write("	    	var x=country.split(\"#\");\r\n");
      out.write("	    	country=x[1];\r\n");
      out.write("	    	state=document.getElementById(\"UpdateContState\").value.trim();\r\n");
      out.write("	    	x=state.split(\"#\");\r\n");
      out.write("	    	stateCode=x[1];\r\n");
      out.write("	    	state=x[2];\r\n");
      out.write("	    	city=document.getElementById(\"UpdateContCity\").value.trim();	    	\r\n");
      out.write("	    	address=document.getElementById(\"UpdateContAddress\").value.trim();\r\n");
      out.write("	    }\r\n");
      out.write("	    if($('#UpdateContactcomAddress').prop('checked')){\r\n");
      out.write("			companyaddress=document.getElementById(\"UpdateEnqCompAddress\").value.trim();\r\n");
      out.write("			addresstype=\"Company\";\r\n");
      out.write("	    }\r\n");
      out.write("	   \r\n");
      out.write("	   var contkey=document.getElementById(\"UpdateContactKey\").value.trim(); \r\n");
      out.write("	   var stbid=document.getElementById(\"UpdateContactSalesKey\").value.trim(); \r\n");
      out.write("	   \r\n");
      out.write("	   showLoader(); \r\n");
      out.write("	   $(\"#ValidateUpdateContact\").attr(\"disabled\",\"disabled\");   \r\n");
      out.write("		 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateContactDetails111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				firstname : firstname,\r\n");
      out.write("				lastname : lastname,\r\n");
      out.write("				email : email,\r\n");
      out.write("				email2 : email2,\r\n");
      out.write("				workphone : workphone,\r\n");
      out.write("				mobile : mobile,\r\n");
      out.write("				city : city,\r\n");
      out.write("				state : state,\r\n");
      out.write("				country : country,\r\n");
      out.write("				address : address,\r\n");
      out.write("				companyaddress : companyaddress,\r\n");
      out.write("				addresstype : addresstype,\r\n");
      out.write("				contkey : contkey,\r\n");
      out.write("				pan : pan,\r\n");
      out.write("				stateCode : stateCode\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				$(\"#ValidateUpdateContact\").removeAttr(\"disabled\");\r\n");
      out.write("				if(data==\"pass\"){					\r\n");
      out.write("					 $('#FormUpdateContactBox').trigger(\"reset\");\r\n");
      out.write("					$('.fixed_right_box').removeClass('active');\r\n");
      out.write("					$('.addnew').show();\r\n");
      out.write("					\r\n");
      out.write("					updateSalesContact(stbid,firstname,lastname,email,email2,workphone,mobile);									\r\n");
      out.write("				}else if(data==\"invalid\"){\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Please enter a valid email-address !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(msg) {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		}); \r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	function updateSalesContact(stbid,firstname,lastname,email,email2,workphone,mobile){\r\n");
      out.write("	    showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateSalesContactDetails111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {	\r\n");
      out.write("				stbid : stbid,\r\n");
      out.write("				firstname : firstname,\r\n");
      out.write("				lastname : lastname,\r\n");
      out.write("				email : email,\r\n");
      out.write("				email2 : email2,\r\n");
      out.write("				workphone : workphone,\r\n");
      out.write("				mobile : mobile,\r\n");
      out.write("				salesKey : \"NA\"\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					\r\n");
      out.write("					var rowdivid=document.getElementById(\"ManageEstimateUpdateContactId\").value;\r\n");
      out.write("					$(\"#\"+rowdivid).html(firstname+\" \"+lastname);\r\n");
      out.write("					\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML = 'Successfully Updated !!';				  \r\n");
      out.write("					$('.alert-show1').show().delay(4000).fadeOut();	\r\n");
      out.write("					\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	function isExistEditPan(valueid){\r\n");
      out.write("		var val=document.getElementById(valueid).value.trim();\r\n");
      out.write("		var key=$(\"#UpdateContactKey\").val();\r\n");
      out.write("		if(val!=\"\"&&val!=\"NA\"&&key!=\"\"&&key!=\"NA\")\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"ExistEditValue111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\"val\":val,\"field\":\"isEditPanContact\",\"id\":key},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("				document.getElementById(\"errorMsg\").innerHTML=val +\" is already existed.\";\r\n");
      out.write("				document.getElementById(valueid).value=\"\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("				\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("\r\n");
      out.write("	\r\n");
      out.write("	function fillCompanyDetails(clientkey){		\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetCompanyByRefid111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				clientkey : clientkey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				if(Object.keys(response).length!=0){	\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;		 \r\n");
      out.write("			 if(len>0){ \r\n");
      out.write("			 	var clientkey=response[0][\"clientkey\"];\r\n");
      out.write("				var name=response[0][\"name\"];\r\n");
      out.write("				var industry=response[0][\"industry\"];\r\n");
      out.write("				var pan=response[0][\"pan\"];\r\n");
      out.write("				var gst=response[0][\"gst\"];\r\n");
      out.write("				var city=response[0][\"city\"];\r\n");
      out.write("				var state=response[0][\"state\"];\r\n");
      out.write("				var country=response[0][\"country\"];\r\n");
      out.write("				var address=response[0][\"address\"];\r\n");
      out.write("				var compAge=response[0][\"compAge\"];\r\n");
      out.write("				var stateCode=response[0][\"stateCode\"];\r\n");
      out.write("				var superUserUaid=response[0][\"superUserUaid\"];		\r\n");
      out.write("				\r\n");
      out.write("				$(\"#UpdateCompanyKey\").val(clientkey);\r\n");
      out.write("				$(\"#UpdateCompanyName\").val(name);\r\n");
      out.write("				$(\"#UpdateIndustry_Type\").val(industry);\r\n");
      out.write("				$(\"#UpdatePanNumber\").val(pan);\r\n");
      out.write("				$(\"#Edit_Company_age\").val(compAge);\r\n");
      out.write("				$(\"#Update_Super_User\").val(superUserUaid).trigger('change');\r\n");
      out.write("				if(gst!=\"NA\"&&gst!=\"\"){\r\n");
      out.write("					$(\"#UpdateGSTNumber\").val(gst);\r\n");
      out.write("					document.getElementById(\"CompanyGstDivId\").style.display=\"block\";\r\n");
      out.write("				}			\r\n");
      out.write("				$(\"#UpdateCity\").empty();\r\n");
      out.write("				$(\"#UpdateCity\").append(\"<option value='\"+city+\"' selected='selected'>\"+city+\"</option>\");\r\n");
      out.write("				$(\"#UpdateState\").empty();\r\n");
      out.write("				$(\"#UpdateState\").append(\"<option value='0#\"+stateCode+\"#\"+state+\"' selected='selected'>\"+state+\"</option>\");\r\n");
      out.write("				$(\"#UpdateCountry\").val(country);\r\n");
      out.write("				$(\"#UpdateAddress\").val(address);\r\n");
      out.write("				\r\n");
      out.write("			 }\r\n");
      out.write("			}},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	function openCompanyBox(comprefid){\r\n");
      out.write("		$(\"#UpdateRegCompany\").trigger('reset');\r\n");
      out.write("		if(comprefid!=\"NA\"){\r\n");
      out.write("		fillCompanyDetails(comprefid);	\r\n");
      out.write("		var id = $(\".companybox\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });	\r\n");
      out.write("		}else{\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Client Doesn't exist, After converted sale it will register !!!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		}\r\n");
      out.write("		setClientSuperUser(\"Update_Super_User\"); \r\n");
      out.write("	}\r\n");
      out.write("	$('.add_new').on( \"click\", function(e) {\r\n");
      out.write("		$(this).parent().next().show();	\r\n");
      out.write("		});	\r\n");
      out.write("	$('.del_icon').on( \"click\", function(e) {\r\n");
      out.write("		$('.new_field').hide();	\r\n");
      out.write("		});\r\n");
      out.write("	$('#UpdateContactcomAddress').on( \"click\", function(e) {\r\n");
      out.write("		$('.UpdateAddress_box').hide();\r\n");
      out.write("		$('.UpdateCompany_box').show();	\r\n");
      out.write("		});\r\n");
      out.write("		$('#UpdateContactperAddress').on( \"click\", function(e) {\r\n");
      out.write("		$('.UpdateAddress_box').show();\r\n");
      out.write("		$('.UpdateCompany_box').hide();	\r\n");
      out.write("		});\r\n");
      out.write("	function openContactBox(contctref,cboxid,boxid,compaddId){\r\n");
      out.write("		var address=$(\"#\"+compaddId).val();\r\n");
      out.write("		$(\"#ManageSalesCompAddress\").val(address);\r\n");
      out.write("		$('#FormUpdateContactBox').trigger(\"reset\");\r\n");
      out.write("		fillContactUpdateForm(contctref,cboxid);\r\n");
      out.write("		$(\"#ManageEstimateUpdateContactId\").val(boxid);\r\n");
      out.write("		var id = $(\".contactbox\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });	\r\n");
      out.write("	}\r\n");
      out.write("	function fillContactUpdateForm(key,cboxid){\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetContactByRefid111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				key : key\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;		 \r\n");
      out.write("			 if(len>0){\r\n");
      out.write("			 	var contkey=response[0][\"key\"];\r\n");
      out.write("				var firstname=response[0][\"firstname\"];\r\n");
      out.write("				var lastname=response[0][\"lastname\"];\r\n");
      out.write("				var email1=response[0][\"email1\"];\r\n");
      out.write("				var email2=response[0][\"email2\"];\r\n");
      out.write("				var workphone=response[0][\"workphone\"];\r\n");
      out.write("				var mobilephone=response[0][\"mobilephone\"];\r\n");
      out.write("				var addresstype=response[0][\"addresstype\"];\r\n");
      out.write("				var city=response[0][\"city\"];\r\n");
      out.write("				var state=response[0][\"state\"];\r\n");
      out.write("				var country=response[0][\"country\"];\r\n");
      out.write("				var address=response[0][\"address\"];\r\n");
      out.write("				var pan=response[0][\"pan\"];\r\n");
      out.write("				var stateCode=response[0][\"stateCode\"];\r\n");
      out.write("								\r\n");
      out.write("				$(\"#UpdateContactKey\").val(contkey);$(\"#UpdateContactSalesKey\").val(cboxid);$(\"#UpdateContactFirstName\").val(firstname);$(\"#UpdateContactLastName\").val(lastname);$(\"#UpdateContactEmail_Id\").val(email1);\r\n");
      out.write("				if(email2!==\"NA\"){\r\n");
      out.write("					$(\"#UpdateContactEmailId2\").val(email2);\r\n");
      out.write("					document.getElementById(\"UpdateContactDivId\").style.display=\"block\";\r\n");
      out.write("				}			\r\n");
      out.write("				$(\"#UpdateContactWorkPhone\").val(workphone);$(\"#UpdateContactMobilePhone\").val(mobilephone);\r\n");
      out.write("				if(addresstype==\"Personal\"){\r\n");
      out.write("					$(\"#UpdateContCity\").empty();\r\n");
      out.write("					$(\"#UpdateContCity\").append(\"<option value='\"+city+\"' selected='selected'>\"+city+\"</option>\");\r\n");
      out.write("					$(\"#UpdateContState\").empty();\r\n");
      out.write("					$(\"#UpdateContState\").append(\"<option value='0#\"+stateCode+\"#\"+state+\"' selected='selected'>\"+state+\"</option>\");\r\n");
      out.write("					\r\n");
      out.write("					$(\"#UpdateContCountry\").val(country);\r\n");
      out.write("					$(\"#UpdateContPan\").val(pan);\r\n");
      out.write("					$(\"#UpdateContAddress\").val(address);	\r\n");
      out.write("					$(\"#UpdateContactperAddress\").attr('checked',true);\r\n");
      out.write("					$(\"#UpdateContactcomAddress\").attr('checked',false);\r\n");
      out.write("					$(\".UpdateAddress_box\").show();\r\n");
      out.write("					$(\".UpdateCompany_box\").hide();\r\n");
      out.write("				}else{\r\n");
      out.write("					$(\"#UpdateContactcomAddress\").attr('checked',true);\r\n");
      out.write("					$(\"#UpdateContactperAddress\").attr('checked',false);\r\n");
      out.write("					$(\"#UpdateEnqCompAddress\").val(address);\r\n");
      out.write("					$(\".UpdateAddress_box\").hide();\r\n");
      out.write("					$(\".UpdateCompany_box\").show();\r\n");
      out.write("				}			\r\n");
      out.write("				\r\n");
      out.write("			 }\r\n");
      out.write("			}},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("	function getUpdateCompanyAddress(){\r\n");
      out.write("		var compaddress=document.getElementById(\"ManageSalesCompAddress\").value.trim();\r\n");
      out.write("		document.getElementById(\"UpdateEnqCompAddress\").value=compaddress;\r\n");
      out.write("	}\r\n");
      out.write("	function showAllContact(event,id1,id2){\r\n");
      out.write("		event.stopPropagation();\r\n");
      out.write("		 	$('.name_action_box').removeClass(\"active\");\r\n");
      out.write("		 	$('.dropdown_list').removeClass(\"show\");\r\n");
      out.write("		 	$('#'+id1).addClass(\"active\");\r\n");
      out.write("		 	$('#'+id2).addClass(\"show\");\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("	function minusAllContact(event){\r\n");
      out.write("		event.stopPropagation();\r\n");
      out.write("		$('.name_action_box').removeClass(\"active\");\r\n");
      out.write("		$('.dropdown_list').removeClass(\"show\");\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("function showPayments(PymtSubDiv,PymtIconRight,PymtIconDown){\r\n");
      out.write("	if($('#'+PymtIconDown).css('display') == 'none'){\r\n");
      out.write("		$('#'+PymtIconRight).css('display','none');\r\n");
      out.write("		$('#'+PymtIconDown).css('display','block');\r\n");
      out.write("		$('#'+PymtSubDiv).css('display','block');\r\n");
      out.write("	}else{\r\n");
      out.write("		$('#'+PymtIconRight).css('display','block');\r\n");
      out.write("		$('#'+PymtIconDown).css('display','none');\r\n");
      out.write("		$('#'+PymtSubDiv).css('display','none');\r\n");
      out.write("	}\r\n");
      out.write("}	\r\n");
      out.write("function backEstimate(){\r\n");
      out.write("	var saleno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	 fillEstimateInvoiceDetails(saleno);\r\n");
      out.write("	  var id = $(\".estimatebox\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });	\r\n");
      out.write("	hideLoader();\r\n");
      out.write("}\r\n");
      out.write("   function openEstimateBox(saleno,companyname,contactrefid,clientrefid,estrefKey,\r\n");
      out.write("		   discount,clientEmail,clientName,totalAmount,date,salesType,status){\r\n");
      out.write("	   showLoader();\r\n");
      out.write("	   $(\"#taskNotesProduct\").html('Notes : '+saleno);\r\n");
      out.write("	   $(\"#ConvertInvoiceSaleNo\").val(saleno);\r\n");
      out.write("	   $(\"#ConvertInvoiceCompany\").val(companyname);\r\n");
      out.write("		$(\"#ConvertInvoiceContactrefid\").val(contactrefid);\r\n");
      out.write("		$(\"#ConvertInvoiceClientrefid\").val(clientrefid);\r\n");
      out.write("		$(\"#ConvertEstimateRefKey\").val(estrefKey);\r\n");
      out.write("		$(\"#ConvertEstimateSalesType\").val(salesType);\r\n");
      out.write("		$(\"#SendEmailClientEmail\").val(clientEmail);\r\n");
      out.write("		$(\"#SendEmailClientName\").val(clientName);\r\n");
      out.write("		$(\"#ConvertEstimateDiscount\").val(discount);\r\n");
      out.write("	   $('#EstimateBillNo').html(\"#\"+saleno);\r\n");
      out.write("	   $(\"#CopyLinkUrl\").removeClass('textCopied');\r\n");
      out.write("	   $(\"#ConvertEstimateStatus\").val(status);\r\n");
      out.write("	   \r\n");
      out.write("	   fillEstimateInvoiceDetails(saleno);\r\n");
      out.write("	   isInvoiceEditable(saleno);\r\n");
      out.write("	   openInvoiceSummary(saleno,0);\r\n");
      out.write("	  \r\n");
      out.write("	   var id = $(\".estimatebox\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });	\r\n");
      out.write("		$(\"#EmailSendedId\").attr(\"onclick\",\"openSendEmailBox(\\\"\"+date+\"\\\",\\\"\"+totalAmount+\"\\\")\");\r\n");
      out.write("		 hideLoader();\r\n");
      out.write("   }  \r\n");
      out.write("   function uploadDocument(){\r\n");
      out.write("	   var estkey=$(\"#estimateDocList\").val();\r\n");
      out.write("		$(\"#ConvertEstimateDocRefKey\").val(estkey);\r\n");
      out.write("	    setClientDocuments();\r\n");
      out.write("		 var id = $(\".upload_documents\").attr('data-related'); \r\n");
      out.write("			$('.fixed_right_box').addClass('active');\r\n");
      out.write("			    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("			        $(this).hide();\r\n");
      out.write("			        if($(this).attr('id') == id) {\r\n");
      out.write("			            $(this).show();\r\n");
      out.write("			        }\r\n");
      out.write("			    });	\r\n");
      out.write("	 }\r\n");
      out.write("   function generateEstimate(){\r\n");
      out.write("	   var saleno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	   getOrderAndDueAmount1(saleno);\r\n");
      out.write("	   setTotalSalesProduct(saleno);\r\n");
      out.write("	   setGeneratedEstimate();\r\n");
      out.write("		 var id = $(\".generate_estimate\").attr('data-related'); \r\n");
      out.write("			$('.fixed_right_box').addClass('active');\r\n");
      out.write("			    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("			        $(this).hide();\r\n");
      out.write("			        if($(this).attr('id') == id) {\r\n");
      out.write("			            $(this).show();\r\n");
      out.write("			        }\r\n");
      out.write("			    });	\r\n");
      out.write("	 }\r\n");
      out.write("function setTotalSalesProduct(saleno){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetEstimateSalesProducts111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			saleno : saleno,						\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("		if(Object.keys(data).length!=0){\r\n");
      out.write("			data = JSON.parse(data);			\r\n");
      out.write("		 var len = data.length;\r\n");
      out.write("		 if(Number(len)>0){	\r\n");
      out.write("			$(\"#selectProduct\").empty(); \r\n");
      out.write("			var options=\"\";			 \r\n");
      out.write("		 for(var j=0;j<len;j++){ 			\r\n");
      out.write("		 	var name=data[j][\"name\"];\r\n");
      out.write("		 	options+=\"<option value='\"+name+\"'>\"+name+\"</option>\";	 \r\n");
      out.write("		 }\r\n");
      out.write("		 $(\"#selectProduct\").append(options);\r\n");
      out.write("		 }}\r\n");
      out.write("	},\r\n");
      out.write("	complete : function(data){\r\n");
      out.write("		hideLoader();\r\n");
      out.write("	}});\r\n");
      out.write("}\r\n");
      out.write("   function  getOrderAndDueAmount1(estimateno){\r\n");
      out.write("	   showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetOrderAndDueAmount111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				estimateno : estimateno\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){		\r\n");
      out.write("			var x=response.split(\"#\"); \r\n");
      out.write("			var pffcgst=Number(x[2]);\r\n");
      out.write("			var pffsgst=Number(x[3]);\r\n");
      out.write("			var pffigst=Number(x[4]);\r\n");
      out.write("			var pfftax=pffcgst+pffsgst+pffigst;		\r\n");
      out.write("			\r\n");
      out.write("			$(\"#ProfessionalCgst\").val(pffcgst);\r\n");
      out.write("			$(\"#ProfessionalSgst\").val(pffsgst);\r\n");
      out.write("			$(\"#ProfessionalIgst\").val(pffigst);\r\n");
      out.write("			\r\n");
      out.write("			var govcgst=Number(x[5]);\r\n");
      out.write("			var govsgst=Number(x[6]);\r\n");
      out.write("			var govigst=Number(x[7]);\r\n");
      out.write("			var govtax=govcgst+govsgst+govigst;\r\n");
      out.write("			\r\n");
      out.write("			$(\"#GovernmentCgst\").val(govcgst);\r\n");
      out.write("			$(\"#GovernmentSgst\").val(govsgst);\r\n");
      out.write("			$(\"#GovernmentIgst\").val(govigst);\r\n");
      out.write("			\r\n");
      out.write("			var othercgst=Number(x[8]);\r\n");
      out.write("			var othersgst=Number(x[9]);\r\n");
      out.write("			var otherigst=Number(x[10]);\r\n");
      out.write("			var otrtax=othercgst+othersgst+otherigst;\r\n");
      out.write("			\r\n");
      out.write("			$(\"#OtherCgst\").val(othercgst);\r\n");
      out.write("			$(\"#OtherSgst\").val(othersgst);\r\n");
      out.write("			$(\"#OtherIgst\").val(otherigst);\r\n");
      out.write("			\r\n");
      out.write("			var servicecgst=Number(x[11]);\r\n");
      out.write("			var servicesgst=Number(x[12]);\r\n");
      out.write("			var serviceigst=Number(x[13]);\r\n");
      out.write("			var servicetax=servicecgst+servicesgst+serviceigst;\r\n");
      out.write("			\r\n");
      out.write("			$(\"#ServiceChargeCgst\").val(servicecgst);\r\n");
      out.write("			$(\"#ServiceChargeSgst\").val(servicesgst);\r\n");
      out.write("			$(\"#ServiceChargeIgst\").val(serviceigst);\r\n");
      out.write("			\r\n");
      out.write("			$(\"#ProfessionalFeeTax\").val(pfftax);\r\n");
      out.write("			$(\"#GovernmentFeeTax\").val(govtax);\r\n");
      out.write("			$(\"#ServiceChargeTax\").val(servicetax);\r\n");
      out.write("			$(\"#OtherFeeTax\").val(otrtax);\r\n");
      out.write("			\r\n");
      out.write("			$(\"#Professional_Fee_GST1\").html(pfftax+\"%\");\r\n");
      out.write("			$(\"#Government_Fee_GST1\").html(govtax+\"%\");\r\n");
      out.write("			$(\"#service_Charges_GST1\").html(servicetax+\"%\");\r\n");
      out.write("			$(\"#Other_Fee_GST1\").html(otrtax+\"%\");\r\n");
      out.write("			\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write(" function fillEstimateInvoiceDetails(saleno){\r\n");
      out.write("	 $(\".ItemDetailList\").remove();	\r\n");
      out.write("	 $(\"#TotalPriceWithoutGst\").html('');\r\n");
      out.write("	 $(\"#TotalGstAmount\").html('');\r\n");
      out.write("	 $(\"#TotalAmountWithGST\").html('');\r\n");
      out.write("	 var discount=$(\"#ConvertEstimateDiscount\").val();\r\n");
      out.write("	 $(\"#estimateDocList\").empty();\r\n");
      out.write("	 $(\"#notesestimate\").empty();\r\n");
      out.write("	 $(\"#notesestimate\").append(\"<option value=''>Select Service</option>\");\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetEstimatePriceList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				saleno : saleno\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;\r\n");
      out.write("			 if(Number(len)>0){	\r\n");
      out.write("				 var k=1;		\r\n");
      out.write("				 var qtyborder=\"\";\r\n");
      out.write("				 var totalProdQty=0; \r\n");
      out.write("			 for(var i=0;i<len;i++){ 			\r\n");
      out.write("			 	var refid=response[i][\"refid\"];\r\n");
      out.write("				var name=response[i][\"name\"];		\r\n");
      out.write("				var date=response[i][\"date\"];\r\n");
      out.write("				var qty=response[i][\"qty\"];				\r\n");
      out.write("				\r\n");
      out.write("				var subitemdetails=\"subitemdetails\"+i;\r\n");
      out.write("				totalProdQty=Number(totalProdQty)+Number(qty);\r\n");
      out.write("				\r\n");
      out.write("				if(k==1){\r\n");
      out.write("					var cregname=response[i][\"cregname\"];\r\n");
      out.write("					var cregaddress=response[i][\"cregaddress\"];\r\n");
      out.write("					var cregstate=response[i][\"cregstate\"];\r\n");
      out.write("					var cregstatecode=response[i][\"cregstatecode\"];\r\n");
      out.write("					var cregistin=response[i][\"cregistin\"];\r\n");
      out.write("					var subtotalprice=response[i][\"subtotalprice\"];\r\n");
      out.write("					var orderNo=response[i][\"orderNo\"];\r\n");
      out.write("					var purchaseDate=response[i][\"purchaseDate\"];\r\n");
      out.write("					\r\n");
      out.write("					if(orderNo!=null&&orderNo!=\"NA\"&&orderNo!=\"\"){$(\"#orderNo\").html(\"#\"+orderNo);$(\"#orderNoMain\").show();\r\n");
      out.write("					}else $(\"#orderNoMain\").hide();\r\n");
      out.write("					\r\n");
      out.write("					if(purchaseDate!=null&&purchaseDate!=\"NA\"&&purchaseDate!=\"\"){$(\"#PurchaseDate\").html(purchaseDate);$(\"#purchaseDateMain\").show();\r\n");
      out.write("					}else $(\"#purchaseDateMain\").hide();\r\n");
      out.write("					\r\n");
      out.write("					if(cregname!=null&&cregname!=\"NA\"&&cregname!=\"\"){$(\"#BillToId\").html(cregname);} \r\n");
      out.write("					if(cregistin!=null&&cregistin!=\"NA\"&&cregistin!=\"\"){\r\n");
      out.write("						$(\"#BillToGSTINId\").html(\"GSTIN \"+cregistin);$(\"#BillToGSTINId\").show();\r\n");
      out.write("					}else{\r\n");
      out.write("						$(\"#BillToGSTINId\").hide();\r\n");
      out.write("						}\r\n");
      out.write("					\r\n");
      out.write("					if(cregname!=null&&cregname!=\"NA\"&&cregname!=\"\"){ $(\"#ShipToId\").html(cregname);}\r\n");
      out.write("					if(cregname!=null&&cregname!=\"NA\"&&cregname!=\"\"){ $(\"#ShipToAddressId\").html(cregaddress);}\r\n");
      out.write("					if(cregname!=null&&cregname!=\"NA\"&&cregname!=\"\"){ $(\"#ShipToStateCode\").html(cregstate+'('+cregstatecode+')');}\r\n");
      out.write("					$(\"#EstimateDate\").html(date); k++;\r\n");
      out.write("// 					$(\"#EstimateSubTotal\").val(Number(subtotalprice).toFixed(2));\r\n");
      out.write("					numberToWords(\"EstimateRupeesInWord\",Math.round((Number(subtotalprice)-Number(discount))));					\r\n");
      out.write("				\r\n");
      out.write("					var invoiceNotes=response[i][\"invoiceNotes\"];\r\n");
      out.write("					if(invoiceNotes!=null&&invoiceNotes!=\"NA\"){\r\n");
      out.write("						$(\"#invoiceNotes\").html(invoiceNotes);\r\n");
      out.write("					}\r\n");
      out.write("					\r\n");
      out.write("				}else{\r\n");
      out.write("						qtyborder=\"border-top: 1px solid #ccc;\";\r\n");
      out.write("					}\r\n");
      out.write("				\r\n");
      out.write("				$(\"#notesestimate\").append(\"<option value='\"+refid+\"'>\"+name+\"</option>\");\r\n");
      out.write("				\r\n");
      out.write("				$(''+\r\n");
      out.write("						'<div class=\"clearfix ItemDetailList\" style=\"width:100%;\">'+\r\n");
      out.write("						'<div class=\"clearfix\" style=\"font-weight: 600;width:100%;display: flex;'+qtyborder+'padding: 4px 0px 4px 0px;\">'+\r\n");
      out.write("						'<div style=\"width:4%;\">'+\r\n");
      out.write("						'<p style=\"margin: 0; font-size: 11px;\">'+(i+1)+'</p>'+\r\n");
      out.write("						'</div>'+\r\n");
      out.write("						'<div style=\"width:96%;\">'+\r\n");
      out.write("						'<p style=\"margin: 0; font-size: 11px;\">'+name+' ('+qty+')</p>'+\r\n");
      out.write("						'</div>'+\r\n");
      out.write("						'</div>'+				\r\n");
      out.write("						'<div class=\"clearfix\" id=\"'+subitemdetails+'\"></div>'+				\r\n");
      out.write("						\r\n");
      out.write("						'<div class=\"clear\">'+\r\n");
      out.write("						'</div>'+\r\n");
      out.write("						'</div>').insertBefore('#ItemListDetailsId');\r\n");
      out.write("				\r\n");
      out.write("				$(\"#estimateDocList\").append(\"<option value='\"+refid+\"'>\"+name+\"</option>\");\r\n");
      out.write("				appendPriceList(refid,subitemdetails,i,discount);\r\n");
      out.write("				\r\n");
      out.write("			 }	 \r\n");
      out.write("			 \r\n");
      out.write("			 $(\"#TotalProductQuty\").html(totalProdQty);\r\n");
      out.write("			 showAllTaxData(saleno);\r\n");
      out.write("			 setTimeout(function(){\r\n");
      out.write("			 	getDueAmount(saleno);\r\n");
      out.write("// 			 	var totalRate=Number($(\"#TotalPriceWithoutGst\").html());\r\n");
      out.write("// 				 var totalGST=Number($(\"#TotalGstAmount\").html());\r\n");
      out.write("// 				 var totalAmount=Number($(\"#TotalAmountWithGST\").html());\r\n");
      out.write("				 var discount=Number($(\"#TotalAmountDiscount\").html());\r\n");
      out.write("				 \r\n");
      out.write("// 				 $(\"#TotalPriceWithoutGst\").html(numberWithCommas(totalRate));\r\n");
      out.write("// 				 $(\"#TotalGstAmount\").html(numberWithCommas(totalGST));\r\n");
      out.write("// 				 $(\"#TotalAmountWithGST\").html(numberWithCommas(totalAmount));\r\n");
      out.write("// 				 if(discount>0){\r\n");
      out.write("// 					 $(\"#TotalAmountDiscount\").html(numberWithCommas(discount));\r\n");
      out.write("// 					 $(\".totalDiscount\").show();\r\n");
      out.write("// 				 }else{\r\n");
      out.write("// 					 $(\".totalDiscount\").hide();\r\n");
      out.write("// 				 }\r\n");
      out.write("				 \r\n");
      out.write("			 },1000);\r\n");
      out.write("			 \r\n");
      out.write("				}}\r\n");
      out.write("			}});	\r\n");
      out.write(" } \r\n");
      out.write("function getDueAmount(saleno){\r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetEstimateDueAmount111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				saleno : saleno,						\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				var x=data.split(\"#\");\r\n");
      out.write("				 $(\"#TotalPriceWithoutGst\").html(x[1]);\r\n");
      out.write("				 $(\"#TotalGstAmount\").html(x[2]);\r\n");
      out.write("				 $(\"#TotalAmountWithGST\").html(x[3]);\r\n");
      out.write("				 var discount=x[4];\r\n");
      out.write("				 if(Number(discount)>0){\r\n");
      out.write("					 $(\"#TotalAmountDiscount\").html(numberWithCommas(discount));\r\n");
      out.write("					 $(\".totalDiscount\").show();\r\n");
      out.write("				 }else{\r\n");
      out.write("					 $(\".totalDiscount\").hide();\r\n");
      out.write("				 }\r\n");
      out.write("				if(x[0]!=\"fail\"&&x[0]!=x[3]){					\r\n");
      out.write("					if(Number(x[0])<=0){						\r\n");
      out.write("						$(\"#PaymentPaidOrPartial\").html(\"Paid\");\r\n");
      out.write("						$( \"#PaymentPaidOrPartial\" ).css('margin-left','-43px');\r\n");
      out.write("						$(\"#BalanceDueAmount\").hide();\r\n");
      out.write("					}else{\r\n");
      out.write("						$(\"#PaymentPaidOrPartial\").html(\"Partial\");\r\n");
      out.write("						$(\"#PaymentPaidOrPartial\" ).css('margin-left','-48px');\r\n");
      out.write("						$(\"#BalanceDueAmount\").show();\r\n");
      out.write("						$(\"#InvoivePaymentDue\").html(numberWithCommas(x[0]));\r\n");
      out.write("					} 					\r\n");
      out.write("				}else{\r\n");
      out.write("					$(\"#PaymentPaidOrPartial\").html(\"Due\");\r\n");
      out.write("					$( \"#PaymentPaidOrPartial\" ).css('margin-left','-43px');\r\n");
      out.write("					var totalAmount=$(\"#TotalAmountWithGST\").html();\r\n");
      out.write("					$(\"#InvoivePaymentDue\").html(totalAmount);\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("		}); \r\n");
      out.write(" }\r\n");
      out.write(" \r\n");
      out.write("function showAllTaxData(salesNo){\r\n");
      out.write("	$(\".taxRemoveBox\").remove();	\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetEstimateTaxList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesNo : salesNo,						\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){	\r\n");
      out.write("			if(Object.keys(data).length!=0){\r\n");
      out.write("				data = JSON.parse(data);			\r\n");
      out.write("			 var plen = data.length;\r\n");
      out.write("			 if(Number(plen)>0){				 \r\n");
      out.write("			 for(var j=0;j<plen;j++){ 			\r\n");
      out.write("			 	var hsn=data[j][\"hsn\"];\r\n");
      out.write("				var cgst=data[j][\"cgst\"];\r\n");
      out.write("				var sgst=data[j][\"sgst\"];\r\n");
      out.write("				var igst=data[j][\"igst\"];\r\n");
      out.write("				\r\n");
      out.write("				var taxBorder=\"border-top: 1px dotted #ccc;\";\r\n");
      out.write("				if(j==0){taxBorder=\"\";}\r\n");
      out.write("				$(''+\r\n");
      out.write("			    '<div class=\"clearfix taxRemoveBox\" style=\"width: 100%;text-align: center;padding: 5px 0 5px 0px;font-size: 10px;display: flex;'+taxBorder+'\">'+\r\n");
      out.write("			    	'<div style=\"width: 25%\">'+hsn+'</div>'+\r\n");
      out.write("			    	'<div style=\"width: 25%\">'+sgst+'</div>'+\r\n");
      out.write("			    	'<div style=\"width: 25%\">'+cgst+'</div>'+\r\n");
      out.write("			    	'<div style=\"width: 25%\">'+igst+'</div>'+\r\n");
      out.write("			    '</div>').insertBefore(\"#GSTTaxAppendBoxId\");\r\n");
      out.write("							 \r\n");
      out.write("			 }}\r\n");
      out.write("			 $(\"#DisplayTaxData\").show(); \r\n");
      out.write("			}else{\r\n");
      out.write("				 $(\"#DisplayTaxData\").hide();\r\n");
      out.write("			 }\r\n");
      out.write("	}});\r\n");
      out.write("}\r\n");
      out.write("function appendPriceList(refid,subitemdetails,i,discount){\r\n");
      out.write("	setTimeout(function(){\r\n");
      out.write("		if(i==0)i=1;\r\n");
      out.write("	  $.ajax({\r\n");
      out.write("					type : \"POST\",\r\n");
      out.write("					url : \"GetEstimateSubPriceList111\",\r\n");
      out.write("					dataType : \"HTML\",\r\n");
      out.write("					data : {				\r\n");
      out.write("						refid : refid,						\r\n");
      out.write("					},\r\n");
      out.write("					success : function(data){\r\n");
      out.write("					if(Object.keys(data).length!=0){\r\n");
      out.write("						data = JSON.parse(data);			\r\n");
      out.write("					 var plen = data.length;\r\n");
      out.write("					 if(Number(plen)>0){	\r\n");
      out.write("// 						 var totalRate=Number($(\"#TotalPriceWithoutGst\").html());\r\n");
      out.write("// 						 var totalGST=Number($(\"#TotalGstAmount\").html());\r\n");
      out.write("// 						 var totalAmount=Number($(\"#TotalAmountWithGST\").html());\r\n");
      out.write("						 \r\n");
      out.write("					 for(var j=0;j<plen;j++){ 			\r\n");
      out.write("					 	var prefid=data[j][\"prefid\"];\r\n");
      out.write("						var pricetype=data[j][\"pricetype\"];\r\n");
      out.write("						var price=Math.round(Number(data[j][\"price\"]));\r\n");
      out.write("						var hsncode=data[j][\"hsncode\"];						\r\n");
      out.write("						var cgstpercent=data[j][\"cgstpercent\"];				\r\n");
      out.write("						var sgstpercent=data[j][\"sgstpercent\"];				\r\n");
      out.write("						var igstpercent=data[j][\"igstpercent\"];				\r\n");
      out.write("						var cgstprice=data[j][\"cgstprice\"];	\r\n");
      out.write("						cgstprice=Number(cgstprice).toFixed(2);\r\n");
      out.write("						var sgstprice=data[j][\"sgstprice\"];	\r\n");
      out.write("						sgstprice=Number(sgstprice).toFixed(2);\r\n");
      out.write("						var igstprice=data[j][\"igstprice\"];		\r\n");
      out.write("						igstprice=Number(igstprice).toFixed(2);\r\n");
      out.write("						var totalprice=data[j][\"totalprice\"];	\r\n");
      out.write("						\r\n");
      out.write("						totalprice=Math.round(Number(totalprice));\r\n");
      out.write("						var tax=Number(cgstpercent)+Number(sgstpercent)+Number(igstpercent);\r\n");
      out.write("						var taxamt=Math.round(Number(cgstprice)+Number(sgstprice)+Number(igstprice));\r\n");
      out.write("						\r\n");
      out.write("												\r\n");
      out.write("// 						totalRate=Number(totalRate)+Number(price);\r\n");
      out.write("// 						totalGST=Number(totalGST)+Number(taxamt);\r\n");
      out.write("// 						totalAmount=Number(totalAmount)+Number(totalprice);				 \r\n");
      out.write("						$(''+\r\n");
      out.write("								'<div class=\"clearfix\" style=\"border-top: 1px solid #ccc;padding: 4px 0px 4px 0px;width:100%;display: flex;font-size: 10px;\">'+\r\n");
      out.write("							    '<div style=\"margin-bottom: 0;padding-left: 16px; width: 34%;\">'+\r\n");
      out.write("							    '<i class=\"\" style=\"padding-right: 10px;color: #999;\"></i>'+pricetype+'</div>'+							    \r\n");
      out.write("							    '<div style=\"width:13%;\">'+\r\n");
      out.write("								'<p style=\"margin:0;text-align: right;\">'+hsncode+'</p>'+\r\n");
      out.write("								'</div>'+\r\n");
      out.write("								'<div style=\"width:15%;\">'+\r\n");
      out.write("								'<p style=\"margin:0;text-align: right;\">'+numberWithCommas(price)+'</p>'+\r\n");
      out.write("								'</div>'+								\r\n");
      out.write("								'<div style=\"width:8%;\">'+\r\n");
      out.write("								'<p style=\"margin:0;text-align: right;\">'+tax+' %</p>'+\r\n");
      out.write("								'</div>'+\r\n");
      out.write("								'<div style=\"width:12%;\">'+\r\n");
      out.write("								'<p style=\"margin:0;text-align: right;\">'+numberWithCommas(taxamt)+'</p>'+\r\n");
      out.write("								'</div>'+\r\n");
      out.write("								'<div style=\"width:18%;\">'+\r\n");
      out.write("								'<p style=\"margin:0;text-align: right;\">'+numberWithCommas(totalprice)+'</p>'+\r\n");
      out.write("								'</div>'+\r\n");
      out.write("								'</div>').insertBefore(\"#\"+subitemdetails);\r\n");
      out.write("					 }\r\n");
      out.write("					 \r\n");
      out.write("// 					 $(\"#TotalPriceWithoutGst\").html(totalRate.toFixed(2));\r\n");
      out.write("// 					 $(\"#TotalGstAmount\").html(totalGST.toFixed(2));\r\n");
      out.write("// 					 $(\"#TotalAmountDiscount\").html(\"- \"+Number(discount).toFixed(2));\r\n");
      out.write("// 					 $(\"#TotalAmountWithGST\").html((totalAmount-Number(discount)).toFixed(2));\r\n");
      out.write("					 }}\r\n");
      out.write("			}\r\n");
      out.write("			});		  \r\n");
      out.write("	},200*i);	\r\n");
      out.write(" }\r\n");
      out.write(" function editEstimateBox(){\r\n");
      out.write("	 showLoader();\r\n");
      out.write("	 $(\".EstimateList1\").remove();\r\n");
      out.write("	 $(\".EstimateList2\").remove();\r\n");
      out.write("	   fillAllEstimateProduct();\r\n");
      out.write("	   var id = $(\".editinvconvt\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });	\r\n");
      out.write("	hideLoader();\r\n");
      out.write(" }\r\n");
      out.write(" \r\n");
      out.write("   function convertInvoiceBox(){\r\n");
      out.write("	   $(\".EstimatePaymentInnerId\").remove();	\r\n");
      out.write("	   var estimateno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	   var companyname=$(\"#ConvertInvoiceCompany\").val();\r\n");
      out.write("       var clientrefid=$(\"#ConvertInvoiceClientrefid\").val();\r\n");
      out.write("       var contactrefid=$(\"#ConvertInvoiceContactrefid\").val();\r\n");
      out.write("       var estimateRefKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("       let salesType=$(\"#ConvertEstimateSalesType\").val();\r\n");
      out.write("       let status=$(\"#ConvertEstimateStatus\").val();\r\n");
      out.write("       $(\"#UploadFormdata\")[0].reset();\r\n");
      out.write("       if(status==\"Invoiced\"){\r\n");
      out.write("    	   let option=\"<option value=\\\"\\\">Payment Mode</option>\"+\r\n");
      out.write("    		   \"<option value=\\\"Online\\\" selected=\\\"selected\\\">Online</option>\"+\r\n");
      out.write("    		   \"<option value=\\\"Cash\\\">Cash</option>\";\r\n");
      out.write("    	   $('#PaymentMode').empty();\r\n");
      out.write("    	   $('#PaymentMode').append(option);\r\n");
      out.write("       }else{\r\n");
      out.write("    	   let option=\"<option value=\\\"\\\">Payment Mode</option>\"+\r\n");
      out.write("		   \"<option value=\\\"Online\\\" selected=\\\"selected\\\">Online</option>\"+\r\n");
      out.write("		   \"<option value=\\\"Cash\\\">Cash</option>\"+\r\n");
      out.write("		   \"<option value=\\\"PO\\\">Purchase Order</option>\";\r\n");
      out.write("	   $('#PaymentMode').empty();\r\n");
      out.write("	   $('#PaymentMode').append(option);\r\n");
      out.write("       }\r\n");
      out.write("       \r\n");
      out.write("       \r\n");
      out.write("	   $(\".btnpay\").show();\r\n");
      out.write("	   $(\"#AddPaymentModeuleId\").show();\r\n");
      out.write("	   $(\".hpayment\").hide();\r\n");
      out.write("	   $(\".btnclose\").hide();\r\n");
      out.write("		  \r\n");
      out.write("	   $(\"#WhichPaymentFor\").val(estimateno); \r\n");
      out.write("	   $(\"#CompanyPaymentFor\").val(companyname);\r\n");
      out.write("	   $(\"#ClientPaymentFor\").val(clientrefid);\r\n");
      out.write("	   $(\"#ContactPaymentFor\").val(contactrefid);\r\n");
      out.write("	   \r\n");
      out.write("	   getOrderAndDueAmount(estimateno);\r\n");
      out.write("	   fillAllSalesPayment(estimateno);	   \r\n");
      out.write("	   getPayType(estimateRefKey,estimateno);	   \r\n");
      out.write("	   setTotalSalesService(estimateno);\r\n");
      out.write("	   var id = $(\".invconvt\").attr('data-related'); \r\n");
      out.write("		$('.fixed_right_box').addClass('active');\r\n");
      out.write("		    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("		        $(this).hide();\r\n");
      out.write("		        if($(this).attr('id') == id) {\r\n");
      out.write("		            $(this).show();\r\n");
      out.write("		        }\r\n");
      out.write("		    });\r\n");
      out.write("	   $(\"#TransactionId\").focus();		    \r\n");
      out.write("   }	\r\n");
      out.write("\r\n");
      out.write("   function updatePrice(refid,TotalPriceId,PriceId,minprice,cgstpercent,sgstpercent,igstpercent,pricerefid,gstPriceId,\r\n");
      out.write("		   SaleProdQtyId,SubTotalPriceId){\r\n");
      out.write("		var price=$(\"#\"+PriceId).val();\r\n");
      out.write("		var qty=$(\"#\"+SaleProdQtyId).val();\r\n");
      out.write("		minprice=Number(minprice)*Number(qty);\r\n");
      out.write("		if(Number(price)>=Number(minprice)){\r\n");
      out.write("			var cgstprice=(Number(price)*Number(cgstpercent))/100;	\r\n");
      out.write("			cgstprice=Math.round(Number(cgstprice));\r\n");
      out.write("			var sgstprice=(Number(price)*Number(sgstpercent))/100;	\r\n");
      out.write("			sgstprice=Math.round(Number(sgstprice));\r\n");
      out.write("			var igstprice=(Number(price)*Number(igstpercent))/100;	\r\n");
      out.write("			igstprice=Math.round(Number(igstprice));\r\n");
      out.write("			price=Math.round(Number(price));\r\n");
      out.write("			showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdatePriceOfSalesProduct111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				price : price,\r\n");
      out.write("				refid : refid,\r\n");
      out.write("				cgstprice : cgstprice,\r\n");
      out.write("				sgstprice : sgstprice,\r\n");
      out.write("				igstprice : igstprice,\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("				},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				var x=data.split(\"#\");\r\n");
      out.write("				if(x[0]==\"pass\"){\r\n");
      out.write("					document.getElementById(\"errorMsg1\").innerHTML=\"Updated.\";\r\n");
      out.write("					var taxamount=Math.round(Number(cgstprice)+Number(sgstprice)+Number(igstprice));\r\n");
      out.write("					$(\"#\"+gstPriceId).val(taxamount);\r\n");
      out.write("					$(\"#\"+TotalPriceId).val(Math.round(Number(price)+(Number(taxamount))));				\r\n");
      out.write("					$(\"#\"+SubTotalPriceId).val(x[1]);	\r\n");
      out.write("				    $('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("				\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("		}else{\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Not Permission to reduce price, You may only increase price !!\";		\r\n");
      out.write("			$(\"#\"+PriceId).val(minprice);	\r\n");
      out.write("			$('.alert-show').show().delay(3000).fadeOut();		\r\n");
      out.write("			setTimeout(function(){\r\n");
      out.write("			updatePriceRollback(refid,TotalPriceId,minprice,cgstpercent,sgstpercent,igstpercent,pricerefid,gstPriceId,SubTotalPriceId);\r\n");
      out.write("			},3000);	\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write(" \r\n");
      out.write("   function updatePriceRollback(refid,TotalPriceId,price,cgstpercent,sgstpercent,igstpercent,pricerefid,gstPriceId,SubTotalPriceId){\r\n");
      out.write("		\r\n");
      out.write("			var cgstprice=(Number(price)*Number(cgstpercent))/100;	\r\n");
      out.write("			cgstprice=Number(cgstprice).toFixed(2);\r\n");
      out.write("			var sgstprice=(Number(price)*Number(sgstpercent))/100;	\r\n");
      out.write("			sgstprice=Number(sgstprice).toFixed(2);\r\n");
      out.write("			var igstprice=(Number(price)*Number(igstpercent))/100;	\r\n");
      out.write("			igstprice=Number(igstprice).toFixed(2);\r\n");
      out.write("		showLoader();	\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdatePriceOfSalesProduct111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				price : price,\r\n");
      out.write("				refid : refid,\r\n");
      out.write("				cgstprice : cgstprice,\r\n");
      out.write("				sgstprice : sgstprice,\r\n");
      out.write("				igstprice : igstprice,\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("				},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				var x=data.split(\"#\");\r\n");
      out.write("				if(x[0]==\"pass\"){					\r\n");
      out.write("					document.getElementById(\"errorMsg1\").innerHTML=\"Payment Rollback successfully.\";\r\n");
      out.write("					var taxamount=Number(cgstprice)+Number(sgstprice)+Number(igstprice);\r\n");
      out.write("					$(\"#\"+gstPriceId).val(taxamount);\r\n");
      out.write("					$(\"#\"+TotalPriceId).val(Number(price)+(Number(taxamount)));				\r\n");
      out.write("					$(\"#\"+SubTotalPriceId).val(x[1]);	\r\n");
      out.write("				$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById(\"errorMsg\").innerHTML=\"Something Went Wrong, Try After Sometime later.\";				\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}				\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("   \r\n");
      out.write("  function fillAllEstimateProduct(){	 \r\n");
      out.write("	  var estimateno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	  $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetEstimateProductList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				estimateno : estimateno,\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;			 \r\n");
      out.write("			 if(Number(len)>0){	\r\n");
      out.write("				 $(\"#Convert_Product_Name\").empty();	 \r\n");
      out.write("			 for(var i=0;i<len;i++){ 	\r\n");
      out.write("				var esrefid=response[i][\"esrefid\"];\r\n");
      out.write("				var prodname=response[i][\"prodname\"];	\r\n");
      out.write("				var prodrefid=response[i][\"prodrefid\"];	\r\n");
      out.write("				var prodtype=response[i][\"prodtype\"];\r\n");
      out.write("				var jurisdiction=response[i][\"jurisdiction\"];\r\n");
      out.write("				var central=response[i][\"central\"];\r\n");
      out.write("				var state=response[i][\"state\"];\r\n");
      out.write("				var global=response[i][\"global\"];\r\n");
      out.write("// 				console.log(\"prodname=\"+prodname);\r\n");
      out.write("				if(i==0){\r\n");
      out.write("					if(prodname==\"Consultation Service\"){\r\n");
      out.write("						$(\"#NewProductBtn\").hide();\r\n");
      out.write("						$(\"#consultingTypeSales\").hide();						\r\n");
      out.write("					}else{\r\n");
      out.write("						$(\"#NewProductBtn\").show();\r\n");
      out.write("						$(\"#consultingTypeSales\").show();\r\n");
      out.write("					}\r\n");
      out.write("					if(prodrefid!=null&&prodrefid!=\"NA\")	\r\n");
      out.write("					appendJurisdiction(global,central,state,\"Jurisdiction\",jurisdiction);\r\n");
      out.write("					\r\n");
      out.write("					$(\"#Convert_Product_Name\").append(\"<option value='\"+prodname+\"#\"+esrefid+\"'>\"+prodname+\"</option>\");\r\n");
      out.write("					\r\n");
      out.write("					setProduct(esrefid,prodrefid);						\r\n");
      out.write("				}else{\r\n");
      out.write("					addMainNewProduct(esrefid,prodtype,prodrefid,prodname,i,central,state,global,jurisdiction);\r\n");
      out.write("				}\r\n");
      out.write("			 }\r\n");
      out.write("			 \r\n");
      out.write("			}}}\r\n");
      out.write("		});\r\n");
      out.write("  } \r\n");
      out.write("\r\n");
      out.write(" function openBackEditPage(){\r\n");
      out.write("	 var estimateno=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	 isInvoiceEditable(estimateno);	\r\n");
      out.write(" }\r\n");
      out.write(" function isInvoiceEditable(estimateno){\r\n");
      out.write("	 $(\".EditEstimateButtonRemoveClass\").remove();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"ShowAllRegPayment111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				estimateno : estimateno\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){		\r\n");
      out.write("			if(Object.keys(response).length!=0){	\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;	\r\n");
      out.write("			 if(Number(len)>0){			   \r\n");
      out.write("				 $(\".EditEstimateButtonRemoveClass\").remove();\r\n");
      out.write("				 $(\"#Full_PayId\").prop(\"disabled\",true);\r\n");
      out.write("				 $(\"#Partial_PayId\").prop(\"disabled\",true);\r\n");
      out.write("				 $(\"#Milestone_PayId\").prop(\"disabled\",true);\r\n");
      out.write("				 $(\"#ManageEstimatePayTypeId\").val(\"No\");\r\n");
      out.write("				 $(\"#btnSubmit\").attr(\"onclick\",\"validatePayment(event)\");\r\n");
      out.write("			 }}else{\r\n");
      out.write("				 $(''+\r\n");
      out.write("				 '<button type=\"button\" class=\"editinvconvt EditEstimateButtonRemoveClass\" data-related=\"edit_estimate\" onclick=\"editEstimateBox()\" style=\"margin-right: 1rem;\">Edit Estimate</button>'\r\n");
      out.write("				 ).insertBefore('#EditEstimateButtonId');\r\n");
      out.write("				 $(\"#Full_PayId\").prop(\"disabled\",false);\r\n");
      out.write("				 $(\"#Partial_PayId\").prop(\"disabled\",false);\r\n");
      out.write("				 $(\"#Milestone_PayId\").prop(\"disabled\",false);\r\n");
      out.write("				 $(\"#ManageEstimatePayTypeId\").val(\"Yes\");						\r\n");
      out.write("				 $(\"#btnSubmit\").attr(\"onclick\",\"validatePayType()\");\r\n");
      out.write("			 }	}			\r\n");
      out.write("		});\r\n");
      out.write(" }\r\n");
      out.write(" function confirmCheck(){\r\n");
      out.write("	$(\"#payTypeWarning\").modal(\"hide\"); \r\n");
      out.write("	 $(\"#btnSubmit\").attr(\"onclick\",\"validatePayment(event)\");\r\n");
      out.write("	 setTimeout(() => {\r\n");
      out.write("		 $(\"#btnSubmit\").click(); \r\n");
      out.write("	}, 100);\r\n");
      out.write("	 \r\n");
      out.write(" }\r\n");
      out.write("function  getOrderAndDueAmount(estimateno){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetOrderAndDueAmount111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("		var x=response.split(\"#\"); \r\n");
      out.write("		$(\"#TotalOrderAmountId\").html(Number(x[0]).toFixed(2));\r\n");
      out.write("		$(\"#TotalDueAmountId\").html(Number(x[1]).toFixed(2));	\r\n");
      out.write("// 		var pff=Number(x[2]).toFixed(2);\r\n");
      out.write("// 		var pffgst=Number(x[3]).toFixed(2);\r\n");
      out.write("// 		var gov=Number(x[4]).toFixed(2);\r\n");
      out.write("// 		var govgst=Number(x[5]).toFixed(2);\r\n");
      out.write("// 		var otr=Number(x[6]).toFixed(2);\r\n");
      out.write("// 		var otrgst=Number(x[7]).toFixed(2);\r\n");
      out.write("		\r\n");
      out.write("		var pffcgst=Number(x[2]);\r\n");
      out.write("		var pffsgst=Number(x[3]);\r\n");
      out.write("		var pffigst=Number(x[4]);\r\n");
      out.write("		var pfftax=pffcgst+pffsgst+pffigst;		\r\n");
      out.write("		\r\n");
      out.write("		$(\"#ProfessionalCgst\").val(pffcgst);\r\n");
      out.write("		$(\"#ProfessionalSgst\").val(pffsgst);\r\n");
      out.write("		$(\"#ProfessionalIgst\").val(pffigst);\r\n");
      out.write("		\r\n");
      out.write("		var govcgst=Number(x[5]);\r\n");
      out.write("		var govsgst=Number(x[6]);\r\n");
      out.write("		var govigst=Number(x[7]);\r\n");
      out.write("		var govtax=govcgst+govsgst+govigst;\r\n");
      out.write("		\r\n");
      out.write("		$(\"#GovernmentCgst\").val(govcgst);\r\n");
      out.write("		$(\"#GovernmentSgst\").val(govsgst);\r\n");
      out.write("		$(\"#GovernmentIgst\").val(govigst);\r\n");
      out.write("		\r\n");
      out.write("		var othercgst=Number(x[8]);\r\n");
      out.write("		var othersgst=Number(x[9]);\r\n");
      out.write("		var otherigst=Number(x[10]);\r\n");
      out.write("		var otrtax=othercgst+othersgst+otherigst;\r\n");
      out.write("		\r\n");
      out.write("		$(\"#OtherCgst\").val(othercgst);\r\n");
      out.write("		$(\"#OtherSgst\").val(othersgst);\r\n");
      out.write("		$(\"#OtherIgst\").val(otherigst);\r\n");
      out.write("		\r\n");
      out.write("		var servicecgst=Number(x[11]);\r\n");
      out.write("		var servicesgst=Number(x[12]);\r\n");
      out.write("		var serviceigst=Number(x[13]);\r\n");
      out.write("		var servicetax=servicecgst+servicesgst+serviceigst;\r\n");
      out.write("		\r\n");
      out.write("		$(\"#ServiceChargeCgst\").val(servicecgst);\r\n");
      out.write("		$(\"#ServiceChargeSgst\").val(servicesgst);\r\n");
      out.write("		$(\"#ServiceChargeIgst\").val(serviceigst);\r\n");
      out.write("		\r\n");
      out.write("		$(\"#ProfessionalFeeTax\").val(pfftax);\r\n");
      out.write("		$(\"#GovernmentFeeTax\").val(govtax);\r\n");
      out.write("		$(\"#ServiceChargeTax\").val(servicetax);\r\n");
      out.write("		$(\"#OtherFeeTax\").val(otrtax);\r\n");
      out.write("		\r\n");
      out.write("		$(\"#Professional_Fee_GST\").html(pfftax+\"%\");\r\n");
      out.write("		$(\"#Government_Fee_GST\").html(govtax+\"%\");\r\n");
      out.write("		$(\"#service_Charges_GST\").html(servicetax+\"%\");\r\n");
      out.write("		$(\"#Other_Fee_GST\").html(otrtax+\"%\");\r\n");
      out.write("		\r\n");
      out.write("		if(Number(x[1])<=0){\r\n");
      out.write("			//hide add payment option\r\n");
      out.write("			$(\"#AddPaymentModeuleId,.btnpay\").hide();\r\n");
      out.write("			$(\".hpayment\").show();\r\n");
      out.write("		}else{\r\n");
      out.write("			$(\"#AddPaymentModeuleId\").show();\r\n");
      out.write("		}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function getAllSalesProduct(estimateno,estRefKey){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetAllSalesProduct111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("		if(Object.keys(response).length!=0){	\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;			 \r\n");
      out.write("		 if(Number(len)>0){		\r\n");
      out.write("			 $(\"#EstimateProductName\").empty();\r\n");
      out.write("		for(var i=0;i<len;i++){		   \r\n");
      out.write("			var refKey = response[i]['refKey'];\r\n");
      out.write("			var name = response[i]['name'];		\r\n");
      out.write("			if(refKey==estRefKey){\r\n");
      out.write("				$(\"#EstimateProductName\").append(\"<option value='\"+refKey+\"' selected='selected'>\"+name+\"</option>\");\r\n");
      out.write("			}else{$(\"#EstimateProductName\").append(\"<option value='\"+refKey+\"'>\"+name+\"</option>\");}			\r\n");
      out.write("		}}}},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function emiStatus(types){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("		  method: \"GET\",\r\n");
      out.write("		  url: \"/admin/emi-status\",\r\n");
      out.write("		  data: {types:types}\r\n");
      out.write("		}).done(function( data ) {	\r\n");
      out.write("			hideLoader();\r\n");
      out.write("			$(\"#homeTable  tbody\").empty();	\r\n");
      out.write("		    $(\"#homeTable  tbody\").append(data);\r\n");
      out.write("	  }).fail(function(data){\r\n");
      out.write("		  hideLoader();\r\n");
      out.write("	  });\r\n");
      out.write("	}\r\n");
      out.write("function getPayType(estRefKey,estimateno){\r\n");
      out.write("// 	$(\".payTypeRemove\").remove();\r\n");
      out.write("// 	getAllSalesProduct(estimateno,estRefKey);\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetPayType111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			$(\"#paymentTable  tbody\").empty();	\r\n");
      out.write("		    $(\"#paymentTable  tbody\").append(response);		\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("		\r\n");
      out.write("function setClientDocuments(){\r\n");
      out.write("	var estKey=$(\"#ConvertEstimateDocRefKey\").val();\r\n");
      out.write("	$(\".documentInnerId\").remove();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var path=\"");
      out.print(azurePath);
      out.write("\";\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetEstimateDocument111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estKey : estKey,						\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("		if(Object.keys(data).length!=0){\r\n");
      out.write("			data = JSON.parse(data);			\r\n");
      out.write("		 var len = data.length;\r\n");
      out.write("		 if(Number(len)>0){		 \r\n");
      out.write("		 for(var j=0;j<len;j++){ 			\r\n");
      out.write("		 	var date=data[j][\"date\"];\r\n");
      out.write("		 	var uploaddocname=data[j][\"uploaddocname\"];\r\n");
      out.write("		 	var docname=data[j][\"docname\"];\r\n");
      out.write("		 	var key=data[j][\"key\"];\r\n");
      out.write("		 	var fileInput=\"fileInputDoc\"+(j+1);\r\n");
      out.write("		 	var download=\"\";\r\n");
      out.write("		 	if(docname!=\"NA\"&&docname!=\"\")\r\n");
      out.write("		 		download='<a href=\"'+path+''+docname+'\" download><i class=\"fas fa-download pointers\" title=\"Download\"></i></a>';\r\n");
      out.write("			\r\n");
      out.write("		 	$(''+\r\n");
      out.write("					  '<tr class=\"documentInnerId\">'+\r\n");
      out.write("						 '<td>'+date+'</td>'+\r\n");
      out.write("						 '<td>'+uploaddocname+'</td>'+\r\n");
      out.write("						'<td>'+download+'<input id=\"'+fileInput+'\" name=\"'+fileInput+'\" type=\"file\" onchange=\"uploadFile(\\''+key+'\\',\\''+fileInput+'\\')\" style=\"display:none;\" />'+\r\n");
      out.write("					       '<button onclick=\"openFileInput(\\''+fileInput+'\\');\" style=\"border: none;background: #ffff;font-size: 14px;\"><i class=\"fas fa-upload\" title=\"Upload\"></i></button>'+\r\n");
      out.write("					     '</td>'+\r\n");
      out.write("					  '</tr>'			 \r\n");
      out.write("					 ).insertBefore(\"#DocumentListAppendId\");\r\n");
      out.write("	 		 \r\n");
      out.write("		 }\r\n");
      out.write("		 }}\r\n");
      out.write("	},\r\n");
      out.write("	complete : function(data){\r\n");
      out.write("		fillDocumentUploadHistory(estKey);\r\n");
      out.write("		hideLoader();\r\n");
      out.write("	}});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setGeneratedEstimate(){\r\n");
      out.write("	var estKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("	var path=\"");
      out.print(request.getContextPath());
      out.write("\";\r\n");
      out.write("	$(\".EstimatePaymentInnerId\").remove();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetGeneratedEstimate111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estKey : estKey,						\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("		if(Object.keys(data).length!=0){\r\n");
      out.write("			data = JSON.parse(data);			\r\n");
      out.write("		 var len = data.length;\r\n");
      out.write("		 if(Number(len)>0){		 \r\n");
      out.write("		 for(var j=0;j<len;j++){ 			\r\n");
      out.write("		 	var date=data[j][\"date\"];\r\n");
      out.write("		 	var uuid=data[j][\"uuid\"];\r\n");
      out.write("		 	var amount=data[j][\"amount\"];\r\n");
      out.write("		 	var invoice=data[j][\"invoice\"];\r\n");
      out.write("			\r\n");
      out.write("		 	$(''+\r\n");
      out.write("					  '<tr class=\"EstimatePaymentInnerId\">'+\r\n");
      out.write("						 '<td>'+date+'</td>'+\r\n");
      out.write("						 '<td>'+invoice+'</td>'+\r\n");
      out.write("						 '<td>'+amount+'</td>'+\r\n");
      out.write("						'<td><a href=\"'+path+'/estimatereceipt-'+uuid+'.html\" target=\"_blank\"><i class=\"fa fa-file-text-o pointers\" title=\"Invoice\"></i></a></td>'+\r\n");
      out.write("					  '</tr>'			 \r\n");
      out.write("					 ).insertBefore(\"#GeneratedEstimate\");\r\n");
      out.write("	 		 \r\n");
      out.write("		 }\r\n");
      out.write("		 }}\r\n");
      out.write("	},\r\n");
      out.write("	complete : function(data){\r\n");
      out.write("		hideLoader();\r\n");
      out.write("	}});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fillAllSalesPayment(estimateno){\r\n");
      out.write("	//getting all sales payment details\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ShowAllRegPayment111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estimateno : estimateno\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("		if(Object.keys(response).length!=0){	\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;	\r\n");
      out.write("		 if(Number(len)>0){\r\n");
      out.write("		var path=\"");
      out.print(domain);
      out.write("\";		\r\n");
      out.write("		for(var i=0;i<len;i++){		\r\n");
      out.write("			var srefid = response[i]['srefid'];\r\n");
      out.write("			var date = response[i]['date'];\r\n");
      out.write("			var saleno = response[i]['saleno'];\r\n");
      out.write("			var mode = response[i]['mode'];\r\n");
      out.write("			var transactionid = response[i]['transactionid'];\r\n");
      out.write("			var amount = response[i]['amount'];\r\n");
      out.write("			var status = response[i]['status'];\r\n");
      out.write("			var docname = response[i]['docname'];		\r\n");
      out.write("			var comment = response[i]['comment'];	\r\n");
      out.write("			var holdcomment = response[i]['holdcomment'];		\r\n");
      out.write("			var pymtstatusicon=\"fa fa-circle-o-notch\";\r\n");
      out.write("			var pymttitle=\"Processing..\";\r\n");
      out.write("			var pymtcolor=\"#42b0da;\";\r\n");
      out.write("			if(status==\"1\"){\r\n");
      out.write("				comment=\"\";\r\n");
      out.write("				pymtstatusicon=\"fa fa-check-circle-o\";\r\n");
      out.write("				pymttitle=\"Approved\";\r\n");
      out.write("				pymtcolor=\"#29ba29;\";\r\n");
      out.write("			}else if(status==\"3\"){\r\n");
      out.write("				pymtstatusicon=\"fa fa-times-circle-o\";\r\n");
      out.write("				pymttitle=\"Declined Reason : \"+comment;\r\n");
      out.write("				pymtcolor=\"#d91f16;\";\r\n");
      out.write("			}else if(status==\"4\"){\r\n");
      out.write("				pymtstatusicon=\"fa fa-stop-circle\";\r\n");
      out.write("				pymttitle=\"Hold Reason : \"+holdcomment;\r\n");
      out.write("				pymtcolor=\"#808080;\";\r\n");
      out.write("			}\r\n");
      out.write("			var color=\"text-primary\";\r\n");
      out.write("			if(docname==null||docname==\"NA\")color=\"text-danger\";			\r\n");
      out.write("		 $(''+\r\n");
      out.write("				  '<tr class=\"EstimatePaymentInnerId\">'+\r\n");
      out.write("					 '<td><i class=\"'+pymtstatusicon+'\" style=\"color:'+pymtcolor+'\" title=\"'+pymttitle+'\"></i></td>'+\r\n");
      out.write("					 '<td>'+date+'</td>'+\r\n");
      out.write("					 '<td>'+saleno+'</td>'+\r\n");
      out.write("					 '<td>'+mode+'</td>'+\r\n");
      out.write("					 '<td>'+transactionid+'</td>'+\r\n");
      out.write("					 '<td>'+amount+'</td>'+\r\n");
      out.write("					 '<td><i class=\"far fa-file-alt '+color+' pointers\" onclick=\"openReceipt(\\''+path+'\\',\\''+docname+'\\')\"></i></td>'+\r\n");
      out.write("					 '<td><i class=\"fa fa-envelope-o pointers\" title=\"Send Invoice\" onclick=\"sendSlip(\\''+path+'\\',\\''+srefid+'\\',\\''+saleno+'\\',\\''+amount+'\\',\\''+date+'\\')\"></i></td>'+\r\n");
      out.write("				  '</tr>'			 \r\n");
      out.write("				 ).insertBefore(\"#EstimatePaymentListId\");\r\n");
      out.write("		}}}else{\r\n");
      out.write("			$(''+\r\n");
      out.write("					'<tr class=\"EstimatePaymentInnerId\"><td class=\"text-center noDataFound text-danger\">No Data Found</td></tr>'\r\n");
      out.write("		    ).insertBefore('#EstimatePaymentListId');\r\n");
      out.write("			}\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function showTimelineBox(TimelineBoxId){\r\n");
      out.write("	if($('#'+TimelineBoxId).css('display') == 'none')\r\n");
      out.write("	{\r\n");
      out.write("		$(\"#\"+TimelineBoxId).css('display','block');\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function addInput(MainTimelineUnitId,TimelineBoxId,MainTimelineValueId,CurrentProdrefid,val,colname){\r\n");
      out.write("	$('#'+MainTimelineUnitId).val(val);\r\n");
      out.write("	$(\"#\"+TimelineBoxId).hide();\r\n");
      out.write("	$(\"#\"+MainTimelineValueId).prop('readonly',false);	\r\n");
      out.write("	$(\"#\"+MainTimelineValueId).focus();\r\n");
      out.write("	updatePlan(CurrentProdrefid,val,colname);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function openReceipt(mainfolder,docname){\r\n");
      out.write("	if(docname.toLowerCase()==\"na\"){\r\n");
      out.write("		$(\"#warningDocument\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		window.open(\"");
      out.print(azurePath);
      out.write("\"+docname);\r\n");
      out.write("		}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function sendSlip(path,key,salesno,amount,date){\r\n");
      out.write("	showLoader(); \r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"IsSalesInvoiced111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesno : salesno\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				if(response==\"pass\"){\r\n");
      out.write("					var url=path+\"slip-\"+key+\".html\";\r\n");
      out.write("					openSendEmailBoxSlip(url,amount,date);\r\n");
      out.write("				}else{\r\n");
      out.write("					$(\"#warningPayment\").modal(\"show\");\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("	 });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setProduct(pricerefid,prodrefid){\r\n");
      out.write("	fillTimePlan(pricerefid,\"SaleProdQty\",\"renewal\",\"onetime\",\"MainTimelineValue\",\"MainTimelineUnit\",\"ProductPeriod\");		\r\n");
      out.write("	\r\n");
      out.write("	let priceStyle=\"\";\r\n");
      out.write("	if(typeof prodrefid === \"undefined\"){\r\n");
      out.write("		priceStyle=\"style='display:none'\"\r\n");
      out.write("	}\r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"SetProductPriceList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("			if(Object.keys(response).length!=0){				\r\n");
      out.write("			$(\"#CurrentProdrefid\").val(pricerefid);\r\n");
      out.write("			response = JSON.parse(response);\r\n");
      out.write("			 var len = response.length;		\r\n");
      out.write("				 $(\"#EstimateProductPrice\").show();\r\n");
      out.write("				 $(\".Estpricelist\").remove();\r\n");
      out.write("				 $(\".Estpricelist1\").remove();\r\n");
      out.write("			 var subamount=0;			 \r\n");
      out.write("			for(var i=0;i<len;i++){\r\n");
      out.write("				var refid = response[i]['refid'];\r\n");
      out.write("				var pricetype = response[i]['pricetype'];\r\n");
      out.write("				var price = response[i]['price'];\r\n");
      out.write("				var minprice = response[i]['minprice'];\r\n");
      out.write("				var hsncode = response[i]['hsncode'];\r\n");
      out.write("				var cgstpercent = response[i]['cgstpercent'];\r\n");
      out.write("				var sgstpercent = response[i]['sgstpercent'];\r\n");
      out.write("				var igstpercent = response[i]['igstpercent'];\r\n");
      out.write("				var taxprice = response[i]['tax'];\r\n");
      out.write("				var totalprice = response[i]['totalprice'];\r\n");
      out.write("				var gstpercent=Number(cgstpercent)+Number(sgstpercent)+Number(igstpercent);\r\n");
      out.write("				var sn=$(\"#SalesProductIdQty\").val();\r\n");
      out.write("				sn=Number(sn)+Number(1);\r\n");
      out.write("				var TaxId=\"TaxUId\"+sn;\r\n");
      out.write("				var PriceId=\"PriceUId\"+sn;\r\n");
      out.write("				var TotalPrice=\"TotalPriceUId\"+sn;\r\n");
      out.write("				var gstPriceId=\"GstPriceUId\"+sn;\r\n");
      out.write("				$(\"#SalesProductIdQty\").val(sn);\r\n");
      out.write("				subamount=Number(subamount)+Number(totalprice);\r\n");
      out.write("				$(''+\r\n");
      out.write("				'<div class=\"clearfix bg_wht link-style12 Estpricelist\" id=\"ConvertedPriceListId\">'+\r\n");
      out.write("             '<div class=\"box-width25 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\">'+(i+1)+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width19 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\" title='+pricetype+'>'+pricetype+'</p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-1 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+																																																																																																	                                          \r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" style=\"height: 38px;margin-left: 2px;\" value=\"'+price+'\" id=\"'+PriceId+'\" onchange=\"updatePrice(\\''+refid+'\\',\\''+TotalPrice+'\\',\\''+PriceId+'\\',\\''+minprice+'\\',\\''+cgstpercent+'\\',\\''+sgstpercent+'\\',\\''+igstpercent+'\\',\\''+pricerefid+'\\',\\''+gstPriceId+'\\',\\'SaleProdQty\\',\\'SubTotalPriceId\\')\" onkeypress=\"return isNumberKey(event)\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+    \r\n");
      out.write("              '<div class=\"box-width3 col-xs-1 box-intro-background\">'+\r\n");
      out.write("              '<input type=\"text\" name=\"'+TaxId+'\" id=\"'+TaxId+'\" value=\"'+gstpercent+' %'+'\" class=\"form-control bdrnone\" autocomplete=\"off\" placeholder=\"Tax %\" readonly=\"readonly\">'+\r\n");
      out.write("				      '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><input type=\"text\" class=\"form-control BrdNone\" id=\"'+gstPriceId+'\" style=\"height: 38px;margin-left: 2px;\" value=\"'+taxprice+'\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+\r\n");
      out.write("              '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("                  '<div class=\"clearfix\">'+\r\n");
      out.write("                  '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"'+TotalPrice+'\" value=\"'+totalprice+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("                  '</div>'+\r\n");
      out.write("              '</div>'+ \r\n");
      out.write("           '</div>').insertBefore('#PriceDropBox');				\r\n");
      out.write("			}\r\n");
      out.write("			$(''+\r\n");
      out.write("			'<div class=\"clearfix Estpricelist1\">'+\r\n");
      out.write("         '<div class=\"box-width59 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\" '+priceStyle+'><a href=\"javascript:void(0)\" onclick=\"addNewPriceType(\\'CurrentProdrefid\\')\"><u>+ Add Price</u></a></div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("			 '<div class=\"box-width26 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border justify_end\">Total:</p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+\r\n");
      out.write("         '<div class=\"box-width14 col-xs-6 box-intro-background\">'+\r\n");
      out.write("             '<div class=\"clearfix\">'+\r\n");
      out.write("             '<p class=\"news-border\"><i class=\"fa fa-inr\" style=\"position: absolute;margin-left: 5px;margin-top: 5px;\"></i><input type=\"text\" class=\"form-control BrdNone\" id=\"SubTotalPriceId\" value=\"'+subamount.toFixed(2)+'\" style=\"height: 38px;margin-left: 2px;\" readonly=\"readonly\"/></p>'+\r\n");
      out.write("             '</div>'+\r\n");
      out.write("         '</div>'+ \r\n");
      out.write("      '</div>').insertBefore('#PriceDropBoxSubAmount');			 	\r\n");
      out.write("			 }else{\r\n");
      out.write("				 document.getElementById('errorMsg').innerHTML ='Price not Listed , Please set price.';					\r\n");
      out.write("		 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			 }\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function fillTimePlan(pricerefid,SaleProdQtyId,renewalid,onetimeid,MainTimelineValueId,MainTimelineUnitId,ProductPeriodId){	 \r\n");
      out.write("	$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"SetProductTimePlan111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				pricerefid : pricerefid\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;			 \r\n");
      out.write("			 if(Number(len)>0){	\r\n");
      out.write("			 for(var i=0;i<len;i++){ 	\r\n");
      out.write("				var qty=response[i][\"qty\"];\r\n");
      out.write("				var plan=response[i][\"plan\"];\r\n");
      out.write("				var period=response[i][\"period\"];\r\n");
      out.write("				var time=response[i][\"time\"];\r\n");
      out.write("				if(period.toLowerCase()==\"na\")period=\"\";\r\n");
      out.write("				if(time.toLowerCase()==\"na\")time=\"\";\r\n");
      out.write("				$(\"#\"+SaleProdQtyId).val(qty);\r\n");
      out.write("				if(plan==\"OneTime\"){$(\"#\"+renewalid).prop('checked',false);$(\"#\"+onetimeid).prop('checked',true);\r\n");
      out.write("				$(\"#\"+MainTimelineValueId).val(\"\");$(\"#\"+MainTimelineUnitId).val(\"\");\r\n");
      out.write("				}else if(plan==\"Renewal\"){\r\n");
      out.write("					$(\"#\"+onetimeid).prop('checked',false);$(\"#\"+renewalid).prop('checked',true);\r\n");
      out.write("					$(\"#\"+MainTimelineValueId).val(time);$(\"#\"+MainTimelineUnitId).val(period);$(\"#\"+ProductPeriodId).show();\r\n");
      out.write("				}			\r\n");
      out.write("			 }\r\n");
      out.write("			}}}\r\n");
      out.write("		});\r\n");
      out.write("} \r\n");
      out.write("\r\n");
      out.write("/* $('.view_more').click(function(){\r\n");
      out.write("	$(this).addClass(\"active\");\r\n");
      out.write("    $(\"#View_More_History1\").slideToggle();\r\n");
      out.write("});*/\r\n");
      out.write("\r\n");
      out.write("function openInvoiceSummary(salesNo,pageNo){\r\n");
      out.write("	$(\".removeMainSummary\").remove();\r\n");
      out.write("	  $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetEstimateSummary111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesNo : salesNo,\r\n");
      out.write("				pageNo : pageNo\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;	\r\n");
      out.write("			 \r\n");
      out.write("			 if(Number(len)>0){					 \r\n");
      out.write("			 for(var i=0;i<len;i++){ 	\r\n");
      out.write("				var date=response[i][\"date\"];\r\n");
      out.write("				var remarks=response[i][\"remarks\"];\r\n");
      out.write("				var margin=\"style='margin-bottom: 10px;'\";\r\n");
      out.write("				if(len==1){margin=\"\";}\r\n");
      out.write("				$(''+\r\n");
      out.write("					'<div class=\"clearfix removeMainSummary\" '+margin+'>'+\r\n");
      out.write("					'<span style=\"color: #aaa;\">'+date+'</span><span style=\"margin-left: 65px;color: #aaa;\">'+remarks+'</span>'+\r\n");
      out.write("					'</div>').insertBefore(\"#AppendMainEstimateSumary\");\r\n");
      out.write("								\r\n");
      out.write("			 }\r\n");
      out.write("			}if(len!=3){\r\n");
      out.write("				$(\"#MoreViewButton\").hide();\r\n");
      out.write("			}\r\n");
      out.write("			 \r\n");
      out.write("			}}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showEstimateSummary(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var salesNo=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	\r\n");
      out.write("	var summaryId=$(\"#View_More_History\").val();\r\n");
      out.write("	var pageNo=Number(summaryId)*3;\r\n");
      out.write("	\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"GetEstimateSummary111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				salesNo : salesNo,\r\n");
      out.write("				pageNo : pageNo\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){	\r\n");
      out.write("			if(Object.keys(response).length!=0){\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;	\r\n");
      out.write("			 \r\n");
      out.write("			 if(Number(len)>0){	\r\n");
      out.write("				 $('<div class=\"clearfix\" id=\"View_More_History'+summaryId+'\" style=\"display: none;\"><div class=\"clearfix\" id=\"AppendEstimateSumary'+summaryId+'\"></div></div>').insertBefore(\"#AppendEstimateSumaryDynamic\");\r\n");
      out.write("			 for(var i=0;i<len;i++){ 	\r\n");
      out.write("				var date=response[i][\"date\"];\r\n");
      out.write("				var remarks=response[i][\"remarks\"];\r\n");
      out.write("				\r\n");
      out.write("				$(''+\r\n");
      out.write("					'<div class=\"clearfix\" style=\"margin-bottom: 12px;\">'+\r\n");
      out.write("					'<span style=\"color: #aaa;\">'+date+'</span><span style=\"margin-left: 65px;color: #aaa;\">'+remarks+'</span>'+\r\n");
      out.write("					'</div>').insertBefore(\"#AppendEstimateSumary\"+summaryId);\r\n");
      out.write("				\r\n");
      out.write("				\r\n");
      out.write("			 }			 \r\n");
      out.write("			 \r\n");
      out.write("			 $(\"#View_More_History\").val(Number(summaryId)+1);\r\n");
      out.write("				$(\"#View_More_History\"+summaryId).slideDown();\r\n");
      out.write("				if($(\"#MinimizeViewButton\").is(\":hidden\")){\r\n");
      out.write("				$(\"#MinimizeViewButton\").show();}\r\n");
      out.write("							 \r\n");
      out.write("			}if(len!=3){\r\n");
      out.write("				$(\"#MoreViewButton\").hide();\r\n");
      out.write("				$(\"#MinimizeViewButton\").css('margin-left','0px');\r\n");
      out.write("			}\r\n");
      out.write("			}else{\r\n");
      out.write("				$(\"#MoreViewButton\").hide();			\r\n");
      out.write("				$(\"#MinimizeViewButton\").css('margin-left','0px');			\r\n");
      out.write("			}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(msg) {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});	\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function hideEstimateSummary(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var summaryId=$(\"#View_More_History\").val();\r\n");
      out.write("	summaryId=Number(summaryId)-1;\r\n");
      out.write("	$(\"#View_More_History\"+summaryId).slideUp();\r\n");
      out.write("	setTimeout(function() { \r\n");
      out.write("		$(\"#View_More_History\"+summaryId).remove();\r\n");
      out.write("    }, 500); \r\n");
      out.write("	$(\"#View_More_History\").val(Number(summaryId));\r\n");
      out.write("	\r\n");
      out.write("	if(summaryId==1){\r\n");
      out.write("		$(\"#MinimizeViewButton\").hide();\r\n");
      out.write("	}\r\n");
      out.write("	$(\"#MinimizeViewButton\").css('margin-left','64px');\r\n");
      out.write("	$(\"#MoreViewButton\").show();\r\n");
      out.write("	hideLoader();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$('.list_action_box').hover(function(){\r\n");
      out.write("	$(this).children().next().toggleClass(\"show\");\r\n");
      out.write("}); \r\n");
      out.write("\r\n");
      out.write("$('.close_icon_btn').click(function(){\r\n");
      out.write("	$('.notify_box').hide();\r\n");
      out.write("});\r\n");
      out.write("$('.close_box').on( \"click\", function(e) { \r\n");
      out.write("	$('.fixed_right_box').removeClass('active');\r\n");
      out.write("	$('.addnew').show();	\r\n");
      out.write("	});\r\n");
      out.write("\r\n");
      out.write("$('input[name=\"date_range\"]').on('apply.daterangepicker', function(ev, picker) {\r\n");
      out.write("	var data=$(this).val();\r\n");
      out.write("	doAction(data,\"dateRangeDoAction\");\r\n");
      out.write("	location.reload();\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("$('input[name=\"date_range\"]').daterangepicker({\r\n");
      out.write("	  autoUpdateInput: false,\r\n");
      out.write("	  autoApply: true,\r\n");
      out.write("	  showDropdowns: true,\r\n");
      out.write("	}, function(start_date, end_date) {\r\n");
      out.write("	  $('input[name=\"date_range\"]').val(start_date.format('DD-MM-YYYY')+' - '+end_date.format('DD-MM-YYYY'));\r\n");
      out.write("	});\r\n");
      out.write("function doAction(data,name){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("	    type: \"POST\",\r\n");
      out.write("	    url: \"");
      out.print(request.getContextPath());
      out.write("/SetDataToSession111\",\r\n");
      out.write("	    data:  { \r\n");
      out.write("	    	data : data,\r\n");
      out.write("	    	name : name\r\n");
      out.write("	    },\r\n");
      out.write("	    success: function (response) {\r\n");
      out.write("        },\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function clearSession(data){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/ClearSessionData111\",\r\n");
      out.write("		    data:  { 		    	\r\n");
      out.write("		    	data : data\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {       	  \r\n");
      out.write("	        },\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$( document ).ready(function() {\r\n");
      out.write("   var dateRangeDoAction=\"");
      out.print(dateRangeDoAction);
      out.write("\";\r\n");
      out.write("   if(dateRangeDoAction!=\"NA\"){	  \r\n");
      out.write("	   $('input[name=\"date_range\"]').val(dateRangeDoAction);\r\n");
      out.write("   }\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function copyInvoiceLink(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var estimateKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("\r\n");
      out.write("	var url = $(location).attr('href');\r\n");
      out.write("	var name=\"");
      out.print(domain);
      out.write("\";\r\n");
      out.write("	var index=url.indexOf(name);\r\n");
      out.write("	var domain=url.substring(0,Number(index));\r\n");
      out.write("	var urlText=$(\"#InvoiceUrl\").val();\r\n");
      out.write("	var input=domain+name+\"invoice-\"+estimateKey+\".html\";\r\n");
      out.write("	$(\"#InvoiceUrl\").val(input);\r\n");
      out.write("	  var copyText = document.getElementById(\"InvoiceUrl\");\r\n");
      out.write("	  copyText.select();\r\n");
      out.write("	  copyText.setSelectionRange(0, 99999)\r\n");
      out.write("	  document.execCommand(\"copy\");\r\n");
      out.write("	  $(\"#CopyLinkUrl\").addClass('textCopied');\r\n");
      out.write("	  hideLoader();\r\n");
      out.write("}\r\n");
      out.write("function sendEstimateInvoice(){	\r\n");
      out.write("	var date=\"");
      out.print(today);
      out.write("\";\r\n");
      out.write("	var emailTo=$(\"#EmailTo\").val();\r\n");
      out.write("	var emailCC=$(\"#EmailCC\").val();\r\n");
      out.write("	var emailSubject=$(\"#EmailSubject\").val();\r\n");
      out.write("	var emailBody=CKEDITOR.instances.EmailBody.getData();\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	if(emailTo==null||emailTo==\"\"){\r\n");
      out.write("		 document.getElementById('errorMsg').innerHTML ='Send email to is required..';					\r\n");
      out.write("		 $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		 return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(emailSubject==null||emailSubject==\"\"){\r\n");
      out.write("		 document.getElementById('errorMsg').innerHTML ='Email Subject is required..';					\r\n");
      out.write("		 $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		 return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(emailBody==null||emailBody==\"\"){\r\n");
      out.write("		 document.getElementById('errorMsg').innerHTML ='Email Body is required..';					\r\n");
      out.write("		 $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		 return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(emailCC==null||emailCC==\"\"){\r\n");
      out.write("		$(\"#EmailCC\").val(\"NA\");\r\n");
      out.write("	}\r\n");
      out.write("	var salesNo=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	var CC=emailCC;\r\n");
      out.write("	\r\n");
      out.write("	if(CC==null)CC=\"empty\";\r\n");
      out.write("	CC+=\"\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SendEstimateInvoice111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			emailTo : emailTo,\r\n");
      out.write("			CC : CC,\r\n");
      out.write("			emailSubject : emailSubject,\r\n");
      out.write("			emailBody : emailBody,\r\n");
      out.write("			salesNo : salesNo\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("			if(response==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML ='Invoice sent !!';					\r\n");
      out.write("				$('.alert-show1').show().delay(4000).fadeOut();\r\n");
      out.write("				\r\n");
      out.write("				$(\"#SendEmailWarning\").modal(\"hide\");\r\n");
      out.write("				$(\"#EmailSendedId\").addClass('textCopied');\r\n");
      out.write("				$(''+\r\n");
      out.write("					'<div class=\"clearfix removeMainSummary\">'+\r\n");
      out.write("					'<span style=\"color: #aaa;\">'+date+'</span><span style=\"margin-left: 65px;color: #5757ea;\">Invoive sended</span>'+\r\n");
      out.write("					'</div>').insertBefore(\"#AppendMainEstimateSumary\");\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML ='Something went wrong, Please try again later !!';					\r\n");
      out.write("	 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});	\r\n");
      out.write("}\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("	CKEDITOR.replace('EmailBody',{\r\n");
      out.write("	     height: 200\r\n");
      out.write("	});\r\n");
      out.write("	CKEDITOR.replace('ChatTextareaBoxReply',{\r\n");
      out.write("		   height:150\r\n");
      out.write("	   });\r\n");
      out.write("	CKEDITOR.replace('ChatTextareaBoxReply1',{\r\n");
      out.write("		   height:150\r\n");
      out.write("	   });\r\n");
      out.write("	$('#userInChat').select2({\r\n");
      out.write("		  placeholder: 'Select user to send notes..',\r\n");
      out.write("		  allowClear: true\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("	$(\"#notesestimate\").change(function(){\r\n");
      out.write("		$(\"#userInChat\").empty();\r\n");
      out.write("		var estkey=$(this).val();\r\n");
      out.write("		if(estkey!=null&&estkey!=\"\")\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetEstimateWorkingUser111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				estkey : estkey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(response){\r\n");
      out.write("				$(\"#userInChat\").append(response);	\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(msg) {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	            fillSalesTaskKey(estkey);\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	})\r\n");
      out.write("});\r\n");
      out.write("function fillSalesTaskKey(estkey){\r\n");
      out.write("	$(\".contentInnerBox\").remove();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetSalesTaskNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			salesKey : \"NA\",\r\n");
      out.write("			estkey : estkey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("		if(Object.keys(response).length!=0){\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;	\r\n");
      out.write("		 \r\n");
      out.write("		 if(len>0){\r\n");
      out.write("			 for(var i=0;i<Number(len);i++){	\r\n");
      out.write("				 var type=response[i][\"type\"];\r\n");
      out.write("				 var addedby=response[i][\"addedby\"];\r\n");
      out.write("			 	 var time=response[i][\"time\"];\r\n");
      out.write("				 var description=response[i][\"description\"];\r\n");
      out.write("				\r\n");
      out.write("				 var content='<div class=\"contentInnerBox box_shadow1 relative_box mb10 mtop10\">'\r\n");
      out.write("						+'<div class=\"sms_head note_box\">'\r\n");
      out.write("						+'<div class=\"note_box_inner\">'\r\n");
      out.write("						+''+description+''\r\n");
      out.write("						+'</div>'\r\n");
      out.write("						+'<span class=\"icon_box1 text-center\" title=\"'+addedby+'\">'+addedby.substring(0,2)+'</span>'\r\n");
      out.write("						+'</div>'	\r\n");
      out.write("						+'<div class=\"sms_title\">' \r\n");
      out.write("						+'<label class=\"pad-rt10\"><img src=\"/corpseedhrm/staticresources/images/long_arrow_down.png\" alt=\"\">&nbsp; Notes Written</label>'  \r\n");
      out.write("						+'<span class=\"gray_txt bdr_bt pad-rt10\">'+time+'</span>'\r\n");
      out.write("						+'</div>'\r\n");
      out.write("						+'</div>';				 \r\n");
      out.write("				 if(type==\"Team\"){\r\n");
      out.write("				 $(\".communication_history\").append(content);\r\n");
      out.write("				 }else{\r\n");
      out.write("					 $(\".cmhistscrollInternal\").append(content);\r\n");
      out.write("				 }\r\n");
      out.write("			}\r\n");
      out.write("			  $(\".cmhistscroll\").scrollTop($(\".cmhistscroll\")[0].scrollHeight);\r\n");
      out.write("		 }\r\n");
      out.write("		}},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function openSendEmailBoxSlip(url,amount,date){\r\n");
      out.write("	loadMultipleEmail();\r\n");
      out.write("	var clientEmail=$(\"#SendEmailClientEmail\").val();\r\n");
      out.write("	$(\"#EmailTo\").val(clientEmail);\r\n");
      out.write("	$(\"#EmailSubject\").val(\"Payment Invoice\");\r\n");
      out.write("	var clientName=$(\"#SendEmailClientName\").val();\r\n");
      out.write("	var saleNo=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	var estimateKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("	var domainName=\"");
      out.print(domain);
      out.write("\";\r\n");
      out.write("	$(\"#sendEmailInvoiceHtml\").html(\"Send Payment Invoice\");\r\n");
      out.write("	\r\n");
      out.write("// 	var message=\"<p>Dear \"+clientName+\"</p><p>Download invoice of Estimate No.:\"+saleNo+\" by clicking <a href='\"+url+\"' target='_blank'>link</a></p><p>Thanks & Regard</p><p>Sales Team</p>\";\r\n");
      out.write("	\r\n");
      out.write("	var message='<table border=\"0\" style=\"margin:0 auto;min-width:700px;width:700px;font-size:15px;line-height: 20px;border-spacing: 0;font-family: sans-serif;\">'\r\n");
      out.write("	+'<tr><td style=\"text-align: left ;background-color: #fff; padding: 15px 0; width: 50px\">'\r\n");
      out.write("		+'<a href=\"#\" target=\"_blank\"><img src=\"https://www.corpseed.com/assets/img/logo.png\"></a>'\r\n");
      out.write("		+'</td></tr>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"text-align: center;\">'\r\n");
      out.write("		+'<h1>'+saleNo+'</h1>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"padding:70px 0 20px;color: #353637;\">'\r\n");
      out.write("		+'Hi '+clientName+',</td></tr>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"padding: 10px 0;color: #353637;\">' \r\n");
      out.write("		+'<p>Thank you for contacting us. Your Estimate can be Viewed, Printed and Downloaded as PDF from the link below.' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'</td></tr><tr>'\r\n");
      out.write("		+'<td style=\"padding: 15px 50px 30px;border: 15px solid #e5e5e5;text-align: center;\">' \r\n");
      out.write("		+'<h2 style=\"text-align: center;\">Payment Updates</h2>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Rs. '+amount+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Estimate No. : '+saleNo+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Estimate Date : '+date+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"margin-top:20px;\"><a href=\"'+url+'\" target=\"_blank\" style=\"background-color: #2b63f9 ;text-decoration: none;color:#fff;padding: 10px 30px;border: 1px solid #2b63f9;border-radius:50px\">View Invoice</a>'\r\n");
      out.write("		+'</td></tr>'\r\n");
      out.write("		+'<tr ><td style=\"text-align: center;padding:15px;background-color:#fff;border-top: 5px solid #2b63f9;\">'\r\n");
      out.write("		+'<b>Order no #547659906099</b><br>'\r\n");
      out.write("		+'<p>Address : Corpseed, 2nd Floor, A-154A, A Block, Sector 63, Noida, Uttar Pradesh - 201301</p>'\r\n");
      out.write("		+'</td></tr>' \r\n");
      out.write("		+'</table>';\r\n");
      out.write("	\r\n");
      out.write("	CKEDITOR.instances.EmailBody.setData(message);\r\n");
      out.write("	$(\"#SendEmailWarning\").modal(\"show\");\r\n");
      out.write("}\r\n");
      out.write("function openSendEmailBox(date,amount){\r\n");
      out.write("	loadMultipleEmail();\r\n");
      out.write("	var clientEmail=$(\"#SendEmailClientEmail\").val();\r\n");
      out.write("	$(\"#EmailTo\").val(clientEmail);\r\n");
      out.write("	$(\"#EmailSubject\").val(\"Estimate Invoice\");\r\n");
      out.write("	var clientName=$(\"#SendEmailClientName\").val();\r\n");
      out.write("	var saleNo=$(\"#ConvertInvoiceSaleNo\").val();\r\n");
      out.write("	var estimateKey=$(\"#ConvertEstimateRefKey\").val();\r\n");
      out.write("	var domainName=\"");
      out.print(domain);
      out.write("\";\r\n");
      out.write("	var url=domainName+\"invoice-\"+estimateKey+\".html\";\r\n");
      out.write("	$(\"#sendEmailInvoiceHtml\").html(\"Send Estimate Invoice\");\r\n");
      out.write("// 	var message=\"<p>Dear \"+clientName+\"</p><p>Download invoice of Estimate No.:\"+saleNo+\" by clicking <a href='\"+url+\"' target='_blank'>link</a></p><p>Thanks & Regard</p><p>Sales Team</p>\";\r\n");
      out.write("	var message='<table border=\"0\" style=\"margin:0 auto;min-width:700px;width:700px;font-size:15px;line-height: 20px;border-spacing: 0;font-family: sans-serif;\">'\r\n");
      out.write("	+'<tr><td style=\"text-align: left ;background-color: #fff; padding: 15px 0; width: 50px\">'\r\n");
      out.write("		+'<a href=\"#\" target=\"_blank\"><img src=\"https://www.corpseed.com/assets/img/logo.png\"></a>'\r\n");
      out.write("		+'</td></tr>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"text-align: center;\">'\r\n");
      out.write("		+'<h1>'+saleNo+'</h1>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"padding:70px 0 20px;color: #353637;\">'\r\n");
      out.write("		+'Hi '+clientName+',</td></tr>'\r\n");
      out.write("		+'<tr>'\r\n");
      out.write("		+'<td style=\"padding: 10px 0;color: #353637;\">' \r\n");
      out.write("		+'<p>Thank you for contacting us. Your Estimate can be Viewed, Printed and Downloaded as PDF from the link below.' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'</td></tr><tr>'\r\n");
      out.write("		+'<td style=\"padding: 15px 50px 30px;border: 15px solid #e5e5e5;text-align: center;\">' \r\n");
      out.write("		+'<h2 style=\"text-align: center;\">Estimate Amount</h2>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Rs. '+amount+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Estimate No. : '+saleNo+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"text-align:center\">Estimate Date : '+date+'' \r\n");
      out.write("		+'</p>'\r\n");
      out.write("		+'<p style=\"margin-top:20px;\"><a href=\"'+url+'\" target=\"_blank\" style=\"background-color: #2b63f9 ;text-decoration: none;color:#fff;padding: 10px 30px;border: 1px solid #2b63f9;border-radius:50px\">View Invoice</a>'\r\n");
      out.write("		+'</td></tr>'\r\n");
      out.write("		+'<tr ><td style=\"text-align: center;padding:15px;background-color:#fff;border-top: 5px solid #2b63f9;\">'\r\n");
      out.write("		+'<b>Order no #547659906099</b><br>'\r\n");
      out.write("		+'<p>Address : Corpseed, 2nd Floor, A-154A, A Block, Sector 63, Noida, Uttar Pradesh - 201301</p>'\r\n");
      out.write("		+'</td></tr>' \r\n");
      out.write("		+'</table>';\r\n");
      out.write("	CKEDITOR.instances.EmailBody.setData(message);\r\n");
      out.write("	$(\"#SendEmailWarning\").modal(\"show\");\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("// AppendMainEstimateSumary\r\n");
      out.write("</script>	\r\n");
      out.write("<script>\r\n");
      out.write("function loadMultipleEmail(){	\r\n");
      out.write("	var contactKey=$(\"#ConvertInvoiceContactrefid\").val();\r\n");
      out.write("	$(\"#EmailCC\").empty();		\r\n");
      out.write("	\r\n");
      out.write("	var value=[];	\r\n");
      out.write("\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetSalesContactDetails111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			contactKey : contactKey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("		if(Object.keys(response).length!=0){	\r\n");
      out.write("			response = JSON.parse(response);			\r\n");
      out.write("			 var len = response.length;			 \r\n");
      out.write("			 if(Number(len)>0){	\r\n");
      out.write("			for(var i=0;i<len;i++){		   \r\n");
      out.write("				var email = response[i]['email'];	\r\n");
      out.write("				$(\"#EmailCC\").append('<option value=\"'+email+'\">'+email+'</option>');\r\n");
      out.write("				value.push(email);\r\n");
      out.write("			}\r\n");
      out.write("			$('#EmailCC').val(value); \r\n");
      out.write("			$('#EmailCC').trigger('change'); 			\r\n");
      out.write("			 }}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});	\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("  $(document).ready(function($){\r\n");
      out.write("	  $('#EmailCC').select2({\r\n");
      out.write("		  placeholder: 'Enter email and press enter',\r\n");
      out.write("		  tags: true\r\n");
      out.write("// 		  allowClear: true\r\n");
      out.write("		});\r\n");
      out.write("	  $('#Update_Super_User').select2({\r\n");
      out.write("	        placeholder: 'Select Super User',\r\n");
      out.write("	        allowClear: true\r\n");
      out.write("	    });\r\n");
      out.write(" });\r\n");
      out.write(" \r\n");
      out.write("\r\n");
      out.write(" \r\n");
      out.write(" $(\"#Protected\").click(function(){\r\n");
      out.write("	 if ($(\"#Protected\").is(\":checked\")){\r\n");
      out.write("		 $(\"#FilePassword\").val(\"\");\r\n");
      out.write("		 $(\"#FilePassword\").show();		 \r\n");
      out.write("     }else{\r\n");
      out.write("    	 $(\"#FilePassword\").hide();\r\n");
      out.write("    	 $(\"#FilePassword\").val(\"NA\");    	 \r\n");
      out.write("     }\r\n");
      out.write(" });\r\n");
      out.write(" $(function(){$(\".searchdate\").datepicker({changeMonth:true,changeYear:true,dateFormat:'yy-mm-dd'});});\r\n");
      out.write(" $(document).ready(function(){\r\n");
      out.write("	$('#ExportColumn').select2({\r\n");
      out.write("		  placeholder: 'Select columns..',\r\n");
      out.write("		  allowClear: true,\r\n");
      out.write("		  dropdownParent: $(\"#ExportData\")\r\n");
      out.write("		});\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function validateExport(){\r\n");
      out.write("	var from=$(\"#From-Date\").val();\r\n");
      out.write("	var to=$(\"#To-Date\").val();\r\n");
      out.write("	var columns=$(\"#ExportColumn\").val();\r\n");
      out.write("	var formate=$(\"#File-Formate\").val();	\r\n");
      out.write("	var filePassword=$(\"#FilePassword\").val();\r\n");
      out.write("		\r\n");
      out.write("	if(from==null||from==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML ='Select from-date !!';					\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(to==null||to==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML ='Select to-date !!';					\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(columns==null||columns==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML ='Select columns for export !!';					\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(formate==null||formate==\"\"){ \r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Choose formate option !!\";					\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if ($(\"#Protected\").is(\":checked\")){\r\n");
      out.write("		if(filePassword==null||filePassword==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML ='Please enter export file password !!';					\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		$(\"#Protected\").val(\"1\")\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#Protected\").val(\"2\")\r\n");
      out.write("		$(\"#FilePassword\").val(\"NA\");\r\n");
      out.write("	}\r\n");
      out.write("	var baseName=\"");
      out.print(azurePath);
      out.write("\";\r\n");
      out.write("	columns+=\"\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExportData111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			from : from,\r\n");
      out.write("			to : to,\r\n");
      out.write("			columns : columns,\r\n");
      out.write("			formate : formate,\r\n");
      out.write("			filePassword : filePassword,\r\n");
      out.write("			type : \"estimate\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			$(\"#ExportData\").modal(\"hide\");\r\n");
      out.write("			if(response==\"Fail\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML ='No. Data Found !!';					\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}else{ \r\n");
      out.write("				setTimeout(() => {\r\n");
      out.write("					$(\"#DownloadExportedLink\").attr(\"href\", baseName+response);\r\n");
      out.write("					$(\"#DownloadExported\").click();\r\n");
      out.write("				}, 500);\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});	\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function downloadInvoices(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var estimateKey=[];\r\n");
      out.write("	$(\".checked:checked\").each(function(){\r\n");
      out.write("		estimateKey.push($(this).val());\r\n");
      out.write("	});\r\n");
      out.write("	estimateKey+=\"\";\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"");
      out.print(request.getContextPath());
      out.write("/download-estimate-invoices.html\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {estimateKey:estimateKey},\r\n");
      out.write("		success : function(response){\r\n");
      out.write("			if(response==\"pass\"){\r\n");
      out.write("				$(\"#DownloadExportedInvoices\").click();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML ='Something went wrong, Please try-again later !!';					\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("$(\".btnpay\").click(function(){\r\n");
      out.write("	 $(\".btnpay\").hide();\r\n");
      out.write("	  $(\"#AddPaymentModeuleId\").hide();\r\n");
      out.write("	  $(\".hpayment\").show();\r\n");
      out.write("	  $(\".btnclose\").show();\r\n");
      out.write("	});\r\n");
      out.write("$(\".btnclose\").click(function(){\r\n");
      out.write("	 $(\".btnclose\").hide();\r\n");
      out.write("	  $(\".hpayment\").hide();\r\n");
      out.write("	  $(\"#AddPaymentModeuleId\").show();\r\n");
      out.write("	  $(\".btnpay\").show();\r\n");
      out.write("	});\r\n");
      out.write("$(\"#GSTApplyId\").click(function(){\r\n");
      out.write("	if($(this).prop('checked') == true){		\r\n");
      out.write("		$(\"#Professional_Fee_GST\").html($(\"#ProfessionalFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#Government_Fee_GST\").html($(\"#GovernmentFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#Other_Fee_GST\").html($(\"#OtherFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#GSTApplied\").val(\"1\");\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#Professional_Fee_GST\").html(\"0%\");\r\n");
      out.write("		$(\"#Government_Fee_GST\").html(\"0%\");\r\n");
      out.write("		$(\"#Other_Fee_GST\").html(\"0%\");\r\n");
      out.write("		$(\"#GSTApplied\").val(\"0\");\r\n");
      out.write("	}\r\n");
      out.write("	calculateTotalPayment('Professional_Fee','Government_Fee','Other_Fee','GSTApplyId','TotalPaymentId','service_Charges');\r\n");
      out.write("});	\r\n");
      out.write("$(\"#GSTApplyId1\").click(function(){\r\n");
      out.write("	if($(this).prop('checked') == true){		\r\n");
      out.write("		$(\"#Professional_Fee_GST1\").html($(\"#ProfessionalFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#Government_Fee_GST1\").html($(\"#GovernmentFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#Other_Fee_GST1\").html($(\"#OtherFeeTax\").val()+\"%\");\r\n");
      out.write("		$(\"#GSTApplied\").val(\"1\");\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#Professional_Fee_GST1\").html(\"0%\");\r\n");
      out.write("		$(\"#Government_Fee_GST1\").html(\"0%\");\r\n");
      out.write("		$(\"#Other_Fee_GST1\").html(\"0%\");\r\n");
      out.write("		$(\"#GSTApplied\").val(\"0\");\r\n");
      out.write("	}\r\n");
      out.write("	calculateTotalPayment('Professional_Fee1','Government_Fee1','Other_Fee1','GSTApplyId1','TotalPaymentId1','service_Charges1');\r\n");
      out.write("});\r\n");
      out.write("function calculateTotalPayment(Professional_Fee,Government_Fee,Other_Fee,GSTApplyId,TotalPaymentId,serviceChargeId){\r\n");
      out.write("	var pff=$(\"#\"+Professional_Fee).val();\r\n");
      out.write("	var gov=$(\"#\"+Government_Fee).val();\r\n");
      out.write("	var service=$(\"#\"+serviceChargeId).val();\r\n");
      out.write("	var other=$(\"#\"+Other_Fee).val();\r\n");
      out.write("		\r\n");
      out.write("	if($(\"#\"+GSTApplyId).prop('checked') == true){\r\n");
      out.write("		var pfftax=$(\"#ProfessionalFeeTax\").val();\r\n");
      out.write("		var govtax=$(\"#GovernmentFeeTax\").val();\r\n");
      out.write("		var servicetax=$(\"#ServiceChargeTax\").val();\r\n");
      out.write("// 		console.log(\"servicetax=\"+servicetax);\r\n");
      out.write("		var othertax=$(\"#OtherFeeTax\").val();\r\n");
      out.write("		\r\n");
      out.write("		pff=Number(pff)+((Number(pff)*Number(pfftax))/100);\r\n");
      out.write("		gov=Number(gov)+((Number(gov)*Number(govtax))/100);\r\n");
      out.write("		service=Number(service)+((Number(service)*Number(servicetax))/100);\r\n");
      out.write("		other=Number(other)+((Number(other)*Number(othertax))/100);		\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var totalAmount=Number(pff)+Number(gov)+Number(other)+Number(service);\r\n");
      out.write("	\r\n");
      out.write("	$(\"#\"+TotalPaymentId).val(Math.round(Number(totalAmount)));\r\n");
      out.write("}\r\n");
      out.write("function showRemark(otherFee,Other_Fee_remark_Div){	\r\n");
      out.write("	if(otherFee!=null&&otherFee!=\"\"&&Number(otherFee)>0){\r\n");
      out.write("		$(\"#\"+Other_Fee_remark_Div).show();\r\n");
      out.write("	}else $(\"#\"+Other_Fee_remark_Div).hide();\r\n");
      out.write("}\r\n");
      out.write("$(\"#selectProduct,#Service_Name\").select2({\r\n");
      out.write("	placeholder:\"Select Product\"\r\n");
      out.write("});\r\n");
      out.write("function updateState(data,stateId){\r\n");
      out.write("	var x=data.split(\"#\");\r\n");
      out.write("	var id=x[0];\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetStateCity111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			id : id,\r\n");
      out.write("			fetch : \"state\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("			$(\"#\"+stateId).empty();\r\n");
      out.write("			$(\"#\"+stateId).append(response);	\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function updateCity(data,cityId){\r\n");
      out.write("	var x=data.split(\"#\");\r\n");
      out.write("	var id=x[0];\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetStateCity111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			id : id,\r\n");
      out.write("			fetch : \"city\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("			$(\"#\"+cityId).empty();\r\n");
      out.write("			$(\"#\"+cityId).append(response);	\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("$(function() {\r\n");
      out.write("	$(\"#ContactName\").autocomplete({\r\n");
      out.write("		source : function(request, response) {			\r\n");
      out.write("			if(document.getElementById('ContactName').value.trim().length>=1)\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				url : \"get-client-details.html\",\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				dataType : \"JSON\",\r\n");
      out.write("				data : {\r\n");
      out.write("					name : request.term,\r\n");
      out.write("					\"field\" : \"estimatecontactname\"\r\n");
      out.write("				},\r\n");
      out.write("				success : function(data) {\r\n");
      out.write("					response($.map(data, function(item) {\r\n");
      out.write("						return {  \r\n");
      out.write("							label : item.name,\r\n");
      out.write("							value : item.value,	\r\n");
      out.write("							key :	item.key,\r\n");
      out.write("						};\r\n");
      out.write("					}));\r\n");
      out.write("				},\r\n");
      out.write("				error : function(error) {\r\n");
      out.write("					alert('error: ' + error.responseText);\r\n");
      out.write("				}\r\n");
      out.write("			});\r\n");
      out.write("		},\r\n");
      out.write("		select: function (event, ui) {\r\n");
      out.write("			if(!ui.item){   \r\n");
      out.write("            	\r\n");
      out.write("            }\r\n");
      out.write("            else{\r\n");
      out.write("            	doAction(ui.item.value,'estimateContactAction');\r\n");
      out.write("            	location.reload();\r\n");
      out.write("            }\r\n");
      out.write("        },\r\n");
      out.write("        error : function(error){\r\n");
      out.write("			alert('error: ' + error.responseText);\r\n");
      out.write("		},\r\n");
      out.write("	});\r\n");
      out.write("});\r\n");
      out.write("function appendJurisdiction(global,central,state,jurisdiction,jurisdictionData){\r\n");
      out.write("	 $(\"#\"+jurisdiction).empty();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetJurisdiction111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				global : global,\r\n");
      out.write("				central : central,\r\n");
      out.write("				state : state\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){	\r\n");
      out.write("				$(\"#\"+jurisdiction).append(data);\r\n");
      out.write("				$(\"#\"+jurisdiction).val(jurisdictionData);\r\n");
      out.write("			}\r\n");
      out.write("		});		 \r\n");
      out.write("}\r\n");
      out.write("function appendNewProductJurisdiction(prodrefid,jurisdictionId){\r\n");
      out.write("	$(\"#\"+jurisdictionId).empty();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	 $.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetJurisdiction111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				prodrefid : prodrefid,\r\n");
      out.write("				global : \"NA\",\r\n");
      out.write("				central : \"NA\",\r\n");
      out.write("				state : \"NA\"\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){	\r\n");
      out.write("				$(\"#\"+jurisdictionId).append(data);\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});		\r\n");
      out.write("}\r\n");
      out.write("function openFileInput(InputId){\r\n");
      out.write("	$(\"#\"+InputId).click();\r\n");
      out.write("}\r\n");
      out.write("function uploadFile(docrefid,fileboxid){\r\n");
      out.write("	const fi=document.getElementById(fileboxid);\r\n");
      out.write("	if (fi.files.length > 0) {\r\n");
      out.write("		const fsize = fi.files.item(0).size; \r\n");
      out.write("        const file = Math.round((fsize / 1024)); \r\n");
      out.write("        \r\n");
      out.write("        // The size of the file. \r\n");
      out.write("        if (file >= 49152) {  \r\n");
      out.write("            document.getElementById('errorMsg').innerHTML ='File too Big, Max File Size 48 MB !!';\r\n");
      out.write("            document.getElementById(fileboxid).value=\"\";\r\n");
      out.write(" 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("        }else{\r\n");
      out.write("        	uploadFile1(docrefid,fileboxid);\r\n");
      out.write("        }	\r\n");
      out.write("	}	 \r\n");
      out.write("}\r\n");
      out.write("function uploadFile1(docrefid,fileboxid){\r\n");
      out.write("	var path=$(\"#\"+fileboxid).val();\r\n");
      out.write("	var x=path.split(\".\");\r\n");
      out.write("	var len=x.length;	\r\n");
      out.write("	var i=Number(len)-1;\r\n");
      out.write("\r\n");
      out.write("	var form = $(\".upload-box\")[0];\r\n");
      out.write("    var data = new FormData(form);\r\n");
      out.write("    data.append(\"docrefid\",docrefid);\r\n");
      out.write("    data.append(\"docfileInputBoxId\",fileboxid);\r\n");
      out.write("    showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("        type : \"POST\",\r\n");
      out.write("        encType : \"multipart/form-data\",\r\n");
      out.write("        url : \"");
      out.print(request.getContextPath());
      out.write("/UploadSalesDocumentList111\",\r\n");
      out.write("        cache : false,\r\n");
      out.write("        processData : false,\r\n");
      out.write("        contentType : false,\r\n");
      out.write("        data : data,\r\n");
      out.write("        success : function(msg) {\r\n");
      out.write("        	if(msg==\"success\"){\r\n");
      out.write("        	document.getElementById('errorMsg1').innerHTML =\"Uploaded\"; \r\n");
      out.write("        	setClientDocuments();\r\n");
      out.write("    		$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("    		}else{\r\n");
      out.write("    			document.getElementById('errorMsg').innerHTML =\"Something Went wrong ,try-again later !!\";\r\n");
      out.write("	    		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("    		}\r\n");
      out.write("        },\r\n");
      out.write("        error : function(msg) {\r\n");
      out.write("            alert(\"Couldn't upload file\");\r\n");
      out.write("        },\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("function openDocument(evt, cityName) {\r\n");
      out.write("	  var i, tabcontent, tablinks;\r\n");
      out.write("	  tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n");
      out.write("	  for (i = 0; i < tabcontent.length; i++) {\r\n");
      out.write("	    tabcontent[i].style.display = \"none\";\r\n");
      out.write("	  }\r\n");
      out.write("	  tablinks = document.getElementsByClassName(\"tablinks\");\r\n");
      out.write("	  for (i = 0; i < tablinks.length; i++) {\r\n");
      out.write("	    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n");
      out.write("	  }\r\n");
      out.write("	  document.getElementById(cityName).style.display = \"block\";\r\n");
      out.write("	  evt.currentTarget.className += \" active\";\r\n");
      out.write("}\r\n");
      out.write("function uploadNewDocument(){	\r\n");
      out.write("	$('#AddNewDocumentListForm').trigger('reset')\r\n");
      out.write("	$(\"#AddNewDocumentList\").modal(\"show\");\r\n");
      out.write("}\r\n");
      out.write("function validateDocumentList()	{  \r\n");
      out.write("	var docname=$(\"#NewDocumentName\").val().trim();\r\n");
      out.write("	var UploadBy=$(\"#DocumentUploadBy\").val().trim();\r\n");
      out.write("	var Remarks=$(\"#DocumentUploadRemarks\").val().trim();\r\n");
      out.write("\r\n");
      out.write("	if(docname==null||docname==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter document name !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(UploadBy==null||UploadBy==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select document upload by !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Remarks==null||Remarks==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please write about this document !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var estKey=$(\"#ConvertEstimateDocRefKey\").val();\r\n");
      out.write("	var key=getKey(40);\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"AddNewDocumentList111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			key : key,\r\n");
      out.write("			salesrefid : \"NA\",\r\n");
      out.write("			docname : docname,\r\n");
      out.write("			UploadBy : UploadBy,\r\n");
      out.write("			Remarks : Remarks,\r\n");
      out.write("			estKey : estKey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("				$(\"#AddNewDocumentList\").modal(\"hide\");\r\n");
      out.write("				setClientDocuments();\r\n");
      out.write("				\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function fillDocumentUploadHistory(estkey){\r\n");
      out.write("	$(\".docHistory\").remove();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetDocumenHistoryByKey111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesrefid : \"NA\",\r\n");
      out.write("			estkey : estkey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("			if(Object.keys(response).length!=0){\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;		\r\n");
      out.write("		 var role=\"");
      out.print(userRole);
      out.write("\";\r\n");
      out.write("		 if(len>0){ 	\r\n");
      out.write("			 for(var i=0;i<Number(len);i++){\r\n");
      out.write("				 var id=response[i][\"id\"];\r\n");
      out.write("				var date=response[i][\"date\"];\r\n");
      out.write("				var name=response[i][\"name\"];\r\n");
      out.write("				var type=response[i][\"type\"];\r\n");
      out.write("				var actionby=response[i][\"actionby\"];\r\n");
      out.write("				var exist=response[i][\"exist\"];\r\n");
      out.write("				var docName=response[i][\"docName\"];\r\n");
      out.write("				var remarks=name;\r\n");
      out.write("				if(type==\"Upload\")remarks+=\" uploaded by \"+actionby;\r\n");
      out.write("				else if(type==\"Create\")remarks+=\" created by \"+actionby;\r\n");
      out.write("				\r\n");
      out.write("				var action='<a href=\"#\" data-toggle=\"modal\" data-target=\"#PermissionNot\"><i class=\"fas fa-arrow-down text-muted\"></i></a>'+\r\n");
      out.write("				'<a href=\"#\" data-toggle=\"modal\" data-target=\"#PermissionNot\"><i class=\"fas fa-trash text-muted\"></i></a>';\r\n");
      out.write("				\r\n");
      out.write("				var docLink=\"");
      out.print(azurePath);
      out.write("\"+docName;\r\n");
      out.write("				\r\n");
      out.write("				if(Number(exist)==1 && role==\"Admin\"){\r\n");
      out.write("					action='<a id=\"Download'+id+'\" href=\"'+docLink+'\" download><i class=\"fas fa-arrow-down\"></i></a>'+\r\n");
      out.write("					'<a href=\"#\" id=\"Delete'+id+'\" onclick=\"deleteDocument(\\''+id+'\\',\\''+docName+'\\')\"><i class=\"fas fa-trash text-danger\"></i></a>';\r\n");
      out.write("				}\r\n");
      out.write("				\r\n");
      out.write("				$(''+\r\n");
      out.write("					'<div class=\"clearfix bg_wht link-style12 docHistory\">'+\r\n");
      out.write("					   '<div class=\"col-xs-2 box-intro-background\">'+\r\n");
      out.write("					       '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\" id=\"'+date+'\">'+date+'</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+\r\n");
      out.write("					   '<div class=\"col-xs-9 box-intro-background\">'+\r\n");
      out.write("					       '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\" title=\"'+remarks+'\">'+remarks+'</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+					   \r\n");
      out.write("					   '<div class=\"col-xs-1 box-intro-background\">'+\r\n");
      out.write("					      '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\">'+action+'</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+                                         \r\n");
      out.write("					'</div>').insertBefore(\"#DocumentHistoryAppendId\");				\r\n");
      out.write("			}\r\n");
      out.write("		 }\r\n");
      out.write("		}else{\r\n");
      out.write("			$('<div class=\"text-center text-danger noDataFound docHistory\"> No. Data Found</div>').insertBefore(\"#DocumentHistoryAppendId\");\r\n");
      out.write("		}}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function deleteDocument(docId,docName){\r\n");
      out.write("	if(docId!=\"NA\"){\r\n");
      out.write("		$(\"#SalesDocumentId\").val(docId);\r\n");
      out.write("		$(\"#SalesDocumentName\").val(docName);\r\n");
      out.write("		$(\"#warningDeleteFile\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#warningDeleteFile\").modal(\"hide\");\r\n");
      out.write("		docId=$(\"#SalesDocumentId\").val();\r\n");
      out.write("		docName=$(\"#SalesDocumentName\").val();\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/deleteSalesHistoryDocument111\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	docId : docId,\r\n");
      out.write("		    	docName : docName\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(response==\"pass\"){\r\n");
      out.write("		    		$(\"#Delete\"+docId).hide();\r\n");
      out.write("		    		$(\"#Download\"+docId).hide();\r\n");
      out.write("		    	}\r\n");
      out.write("	        },\r\n");
      out.write("			complete : function(data){\r\n");
      out.write("				hideLoader();\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function updateDocuments(data){\r\n");
      out.write("	$(\"#ConvertEstimateDocRefKey\").val(data);\r\n");
      out.write("	setClientDocuments();\r\n");
      out.write("}\r\n");
      out.write("function showGstBox(){\r\n");
      out.write("	$(\"#showGSTModel\").modal(\"show\");\r\n");
      out.write("}   \r\n");
      out.write("function calculateGstAmount(){\r\n");
      out.write("	var originalCost=$(\"#gstAmount\").val();\r\n");
      out.write("	var gst=$(\"#GstPercent\").val();\r\n");
      out.write("// 	console.log(\"originalCost=\"+originalCost+\"/gst=\"+gst);\r\n");
      out.write("	if(originalCost!=null&&originalCost!=\"\"&&gst!=null&&gst!=\"\"){\r\n");
      out.write("		var gstAmount=Number(originalCost)-(Number(originalCost)*(100/(100+Number(gst))));\r\n");
      out.write("		var netPrice=Math.round(Number(originalCost)-Number(gstAmount));\r\n");
      out.write("		\r\n");
      out.write("		$(\"#amountWithoutGst\").val(netPrice);\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function copyGstAmount(){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	var urlText=$(\"#amountWithoutGst\").val();	\r\n");
      out.write("	var copyText = document.getElementById(\"amountWithoutGst\");\r\n");
      out.write("	copyText.select();\r\n");
      out.write("	copyText.setSelectionRange(0, 99999)\r\n");
      out.write("	document.execCommand(\"copy\");	 \r\n");
      out.write("	$(\"#showGSTModel\").modal(\"hide\");\r\n");
      out.write("	hideLoader();\r\n");
      out.write("	document.getElementById('errorMsg1').innerHTML = 'Copied !!';\r\n");
      out.write("	$('.alert-show1').show().delay(2000).fadeOut();\r\n");
      out.write("}\r\n");
      out.write("function isExistEditGST(valueid){\r\n");
      out.write("	var val=document.getElementById(valueid).value.trim();\r\n");
      out.write("	var key=$(\"#UpdateCompanyKey\").val().trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"&&key!=\"\"&&key!=\"NA\")\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"isEditGST\",\"id\":key},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=val +\" is already existed.\";\r\n");
      out.write("			document.getElementById(valueid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function addNewPriceType(prodRefId){\r\n");
      out.write("	if(prodRefId!=\"NA\"){\r\n");
      out.write("		var estKey=$(\"#\"+prodRefId).val();\r\n");
      out.write("		 $.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetPriceType111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				estKey : estKey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				$(\"#priceType\").empty();\r\n");
      out.write("				$(\"#priceType\").append(data);				\r\n");
      out.write("				\r\n");
      out.write("				$(\"#AddNewPriceEstKey\").val(estKey);\r\n");
      out.write("				$(\"#addNewPriceType\").modal(\"show\");\r\n");
      out.write("			}\r\n");
      out.write("		});	//AddNewPriceEstKey	\r\n");
      out.write("		\r\n");
      out.write("	}else{\r\n");
      out.write("		var estKey=$(\"#AddNewPriceEstKey\").val();  \r\n");
      out.write("		var priceType=$(\"#priceType\").val();\r\n");
      out.write("	    var typePrice=$(\"#typePrice\").val();\r\n");
      out.write("	    var typePriceHsn=$(\"#typePriceHsn\").val();\r\n");
      out.write("		if(priceType==null||priceType==\"\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Please select price type.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(typePrice==null||typePrice==\"\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Please enter price.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"AddPriceType111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {\r\n");
      out.write("				priceType : priceType,\r\n");
      out.write("				typePrice : typePrice,\r\n");
      out.write("				typePriceHsn : typePriceHsn,\r\n");
      out.write("				estKey : estKey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					$(\"#addNewPriceType\").modal(\"hide\");\r\n");
      out.write("					editEstimateBox();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById(\"errorMsg\").innerHTML=\"Something went wrong, Please try-again later !!\";\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("					return false;\r\n");
      out.write("				}\r\n");
      out.write("			}\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function searchHSNCode(BoxId){\r\n");
      out.write("	$(function() {\r\n");
      out.write("		$(\"#\"+BoxId).autocomplete({\r\n");
      out.write("			source : function(request, response) {\r\n");
      out.write("				if(document.getElementById(BoxId).value.trim().length>=1)\r\n");
      out.write("				$.ajax({\r\n");
      out.write("					url : \"");
      out.print(request.getContextPath());
      out.write("/getnewproduct.html\",\r\n");
      out.write("					type : \"POST\",\r\n");
      out.write("					dataType : \"JSON\",\r\n");
      out.write("					data : {\r\n");
      out.write("						name : request.term,\r\n");
      out.write("						field: \"salehsntax\",\r\n");
      out.write("					},\r\n");
      out.write("					success : function(data) {\r\n");
      out.write("						response($.map(data, function(item) {\r\n");
      out.write("							return {  \r\n");
      out.write("								label : item.name,\r\n");
      out.write("								value : item.value,\r\n");
      out.write("								hsn : item.hsn,							\r\n");
      out.write("								igst : item.igst\r\n");
      out.write("							};\r\n");
      out.write("						}));\r\n");
      out.write("					},\r\n");
      out.write("					error : function(error) {\r\n");
      out.write("						alert('error: ' + error.responseText);\r\n");
      out.write("					}\r\n");
      out.write("				});\r\n");
      out.write("			},\r\n");
      out.write("			change: function (event, ui) {\r\n");
      out.write("	            if(!ui.item){     \r\n");
      out.write("	            	document.getElementById('errorMsg').innerHTML =\"Select from tax list\";\r\n");
      out.write("	            	$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("	            	$(\"#\"+BoxId).val(\"\");  \r\n");
      out.write("// 	            	$(\"#\"+GstBoxId).val(\"\"); \r\n");
      out.write("	            }\r\n");
      out.write("	            else{              	\r\n");
      out.write("	            	$(\"#\"+BoxId).val(ui.item.hsn);\r\n");
      out.write("// 	            	$(\"#\"+GstBoxId).val(ui.item.igst+\" %\");\r\n");
      out.write("	            }\r\n");
      out.write("	        },\r\n");
      out.write("	        error : function(error){\r\n");
      out.write("				alert('error: ' + error.responseText);\r\n");
      out.write("			},\r\n");
      out.write("		});\r\n");
      out.write("	});\r\n");
      out.write("	}\r\n");
      out.write("function setTotalSalesService(saleno){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetEstimateSalesProducts111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			saleno : saleno,						\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("		if(Object.keys(data).length!=0){\r\n");
      out.write("			data = JSON.parse(data);			\r\n");
      out.write("		 var len = data.length;\r\n");
      out.write("		 if(Number(len)>0){	\r\n");
      out.write("			$(\"#Service_Name\").empty(); \r\n");
      out.write("			var options=\"\";			 \r\n");
      out.write("		 for(var j=0;j<len;j++){ 			\r\n");
      out.write("		 	var name=data[j][\"name\"];\r\n");
      out.write("		 	options+=\"<option value='\"+name+\"' selected>\"+name+\"</option>\";	 \r\n");
      out.write("		 }\r\n");
      out.write("		 $(\"#serviceQty\").val(Number(len));\r\n");
      out.write("		 $(\"#Service_Name\").append(options);\r\n");
      out.write("		 }}\r\n");
      out.write("	},\r\n");
      out.write("	complete : function(data){\r\n");
      out.write("		hideLoader();\r\n");
      out.write("	}});\r\n");
      out.write("}\r\n");
      out.write("function openTaskNotesBox(){\r\n");
      out.write("	$(\"#PublicSalesTaskFormId\")[0].reset();\r\n");
      out.write("	$(\".contentInnerBox\").remove();\r\n");
      out.write("	var id = $(\".estnotes\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function showTeamNotes(PublicreplyLi,InternalreplyLi,ReplyNotesBoxId,InternalNotesBoxId){\r\n");
      out.write("	$(\"#\"+PublicreplyLi).addClass(\"active\");\r\n");
      out.write("	$(\"#\"+InternalreplyLi).removeClass(\"active\");\r\n");
      out.write("	$(\"#\"+ReplyNotesBoxId).show();\r\n");
      out.write("	$(\"#\"+InternalNotesBoxId).hide();\r\n");
      out.write("	$(\".communication_history\").show();\r\n");
      out.write("	$(\".communication_history1\").show();\r\n");
      out.write("	$(\".internalNotes\").addClass(\"toggle_box\");\r\n");
      out.write("	$(\".cmhistscroll\").scrollTop($(\".cmhistscroll\")[0].scrollHeight);\r\n");
      out.write("}\r\n");
      out.write("function showPersonalNotes(PublicreplyLi,InternalreplyLi,ReplyNotesBoxId,InternalNotesBoxId){\r\n");
      out.write("	$(\"#\"+PublicreplyLi).removeClass(\"active\");\r\n");
      out.write("	$(\"#\"+InternalreplyLi).addClass(\"active\");\r\n");
      out.write("	$(\"#\"+ReplyNotesBoxId).hide();\r\n");
      out.write("	$(\"#\"+InternalNotesBoxId).show();\r\n");
      out.write("	$(\".communication_history\").hide();\r\n");
      out.write("	$(\".communication_history1\").hide();\r\n");
      out.write("	$(\".internalNotes\").removeClass(\"toggle_box\");\r\n");
      out.write("}\r\n");
      out.write("function validateTeamNotes(){\r\n");
      out.write("	var notes=CKEDITOR.instances.ChatTextareaBoxReply.getData();\r\n");
      out.write("	var estrefid=$(\"#notesestimate\").val();\r\n");
      out.write("	var userInChat=$(\"#userInChat\").val();\r\n");
      out.write("	\r\n");
      out.write("	if(userInChat!=null&&userInChat.length>0){\r\n");
      out.write("		userInChat=$(\"#userInChat\").val()+\"\";\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if(estrefid==null||estrefid==\"\"){\r\n");
      out.write("		alert(\"Please select service..\");\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if(notes==null||notes.length<=0){\r\n");
      out.write("		alert(\"Please enter text..\");\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SaveEstimateTaskNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estrefid : estrefid,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			type:\"Team\",\r\n");
      out.write("			userInChat:userInChat\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			$(\"#PublicSalesTaskFormId\")[0].reset();\r\n");
      out.write("			$(\"#userInChat\").empty();\r\n");
      out.write("			$(\".communication_history\").append(data);			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function validatePersonalNotes(){\r\n");
      out.write("	var notes=CKEDITOR.instances.ChatTextareaBoxReply1.getData();\r\n");
      out.write("	var estrefid=$(\"#notesestimate\").val();\r\n");
      out.write("	if(estrefid==null||estrefid==\"\"){\r\n");
      out.write("		alert(\"Please select service..\");\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(notes==null||notes.length<=0){\r\n");
      out.write("		alert(\"Please enter text..\");\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SaveEstimateTaskNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			estrefid : estrefid,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			type:\"Personal\",\r\n");
      out.write("			\"userInChat\":\"\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("			CKEDITOR.instances.ChatTextareaBoxReply1.setData('')\r\n");
      out.write("			$(\".cmhistscrollInternal\").append(data);			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$(document).ready(function(){\r\n");
      out.write("	$(\"#estimateStatus\").change(function(){\r\n");
      out.write("		var action=$(this).val();\r\n");
      out.write("		if(action!=null&&action!=\"\"){\r\n");
      out.write("			$(\"#salesReasonHead\").html(\"Estimate \"+action+\" Reason\");\r\n");
      out.write("			$(\"#cancelSaleModal\").modal(\"show\");			\r\n");
      out.write("		}		\r\n");
      out.write("	})\r\n");
      out.write("})\r\n");
      out.write("\r\n");
      out.write("function cancelSale(){\r\n");
      out.write("	var description=$(\"#cancelDescription\").val();\r\n");
      out.write("	\r\n");
      out.write("	if(description==null||description==\"\"){\r\n");
      out.write("		alert(\"Please enter text..\");\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var action=$(\"#estimateStatus\").val();\r\n");
      out.write("	\r\n");
      out.write("	var array = [];\r\n");
      out.write("	$(\"input:checkbox[id=checkbox]:checked\").each(function(){\r\n");
      out.write("		array.push($(this).val());\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateEstimateStatus111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {	\r\n");
      out.write("			action:action,\r\n");
      out.write("			array:array+\"\",\r\n");
      out.write("			description:description\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){	\r\n");
      out.write("			location.reload();		\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function showCancelReason(invoice){\r\n");
      out.write("	\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"GET\",\r\n");
      out.write("		url : \"GetEstimateCancelReason111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {	\r\n");
      out.write("			invoice:invoice,\r\n");
      out.write("			\"type\":\"estimate\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			var x=data.split(\"#\");\r\n");
      out.write("			var heading=x[0];\r\n");
      out.write("			var content=x[1];\r\n");
      out.write("			$(\"#estimateCancelLabel\").html(heading);\r\n");
      out.write("			$(\"#estimateCancelBody\").html(content);\r\n");
      out.write("			$(\"#estimateCancelModal\").modal(\"show\");\r\n");
      out.write("								\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(data){\r\n");
      out.write("			hideLoader();\r\n");
      out.write("		}\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
