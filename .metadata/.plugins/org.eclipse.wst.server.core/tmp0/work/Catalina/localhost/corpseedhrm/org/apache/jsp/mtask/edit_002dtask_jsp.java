/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/9.0.76
 * Generated at: 2023-09-22 13:56:33 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.mtask;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import commons.CommonHelper;
import java.nio.file.Path;
import java.util.Properties;
import commons.DateUtil;
import client_master.Clientmaster_ACT;
import commons.AzureBlob;
import com.azure.storage.blob.BlobClientBuilder;
import com.azure.storage.blob.models.BlobProperties;
import org.docx4j.org.xhtmlrenderer.css.style.Length;
import admin.enquiry.Enquiry_ACT;
import admin.task.TaskMaster_ACT;
import admin.master.Usermaster_ACT;
import hcustbackend.ClientACT;
import admin.Login.LoginAction;

public final class edit_002dtask_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(5);
    _jspx_dependants.put("/mtask/../staticresources/includes/itswsscripts.jsp", Long.valueOf(1637404914000L));
    _jspx_dependants.put("/mtask/../staticresources/includes/itswsstyles.jsp", Long.valueOf(1637404914000L));
    _jspx_dependants.put("/mtask/../staticresources/includes/itswsheader.jsp", Long.valueOf(1693314479004L));
    _jspx_dependants.put("/mtask/../staticresources/includes/../../madministrator/checkvalid_user.jsp", Long.valueOf(1648627112000L));
    _jspx_dependants.put("/mtask/../staticresources/includes/itswsfooter.jsp", Long.valueOf(1637404914000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("admin.master.Usermaster_ACT");
    _jspx_imports_classes.add("java.util.Properties");
    _jspx_imports_classes.add("com.azure.storage.blob.models.BlobProperties");
    _jspx_imports_classes.add("hcustbackend.ClientACT");
    _jspx_imports_classes.add("admin.Login.LoginAction");
    _jspx_imports_classes.add("commons.CommonHelper");
    _jspx_imports_classes.add("org.docx4j.org.xhtmlrenderer.css.style.Length");
    _jspx_imports_classes.add("client_master.Clientmaster_ACT");
    _jspx_imports_classes.add("commons.AzureBlob");
    _jspx_imports_classes.add("commons.DateUtil");
    _jspx_imports_classes.add("admin.enquiry.Enquiry_ACT");
    _jspx_imports_classes.add("com.azure.storage.blob.BlobClientBuilder");
    _jspx_imports_classes.add("admin.task.TaskMaster_ACT");
    _jspx_imports_classes.add("java.nio.file.Path");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    if (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 1120256, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE HTML>\r\n");
      out.write("<html lang=\"en-US\">\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\r\n");
      out.write("<title>Edit Task</title>\r\n");
      out.write("<META NAME=\"ROBOTS\" CONTENT=\"NOINDEX, NOFOLLOW\"></META>\r\n");
      out.write("<link rel=\"shortcut icon\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/favicon.png\" type=\"image/ico\"/>\r\n");
      out.write("<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/font-awesome.min.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/bootstrap.min.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery.fancybox.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery-ui.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/bootstrap-datetimepicker.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/error.css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/daterangepicker.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/select2.min.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/mdtimepicker.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/theme.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/responsive.css\" media=\"all\"/>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/jquery.dataTables.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/buttons.dataTables.min.css\" media=\"all\"/>\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/responsive.dataTables.min.css\" media=\"all\"/>\r\n");
      out.write("\r\n");
      out.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/css/editor.css\"/>\r\n");
      out.write("\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("<div class=\"wrap\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write('\r');
      out.write('\n');

response.addHeader("Pragma", "no-cache");
response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate");
response.addHeader("Cache-Control", "pre-check=0, post-check=0");
response.setDateHeader("Expires", 0);

String uavalidtokenno1111= (String)session.getAttribute("uavalidtokenno");
String uaIsValid1= (String)session.getAttribute("loginuID");

String sessionid = (String) session.getAttribute("sessionID");
String euaValidForAccess =  LoginAction.getPermissions(uaIsValid1, sessionid);
if(uaIsValid1== null || uaIsValid1.equals("") || uavalidtokenno1111== null || uavalidtokenno1111.equals("")||euaValidForAccess==null){	

      out.write('\r');
      out.write('\n');
      if (true) {
        _jspx_page_context.forward("/login.html");
        return;
      }
      out.write('\r');
      out.write('\n');
}
      out.write('\r');
      out.write('\n');

boolean CLA00=false;
boolean ADM00=false;
boolean ACU01=false;
boolean ACU02=false;
boolean ACU03=false;
boolean ACU04=false;
boolean ACU05=false;
boolean AMU02=false;
boolean ATT03=false;
boolean ATT02=false;
boolean SAL04=false;
boolean SAL00=false;
boolean SAL01=false;
boolean SAL02=false;
boolean SAL03=false;
boolean SAL05=false;
boolean SAL06=false;
boolean DEX00=false;
boolean DEX01=false;
boolean DEX02=false;
boolean DEX03=false;
boolean DEX05=false;
boolean CL00=false;
boolean CR01=false;
boolean CR02=false;
boolean CR03=false;
boolean CR04=false;
boolean CR05=false;
boolean CPR03=false;
boolean CB06=false;
boolean MB07=false;
boolean MB08=false;
boolean MB09=false;
boolean UBL0=false;
boolean TM00=false;
boolean MT00=false;
boolean MT01=false;
boolean TN02=false;
boolean MS03=false;
boolean MS04=false;
boolean MS05=false;
boolean MS06=false;
boolean MA00=false;
boolean MP01=false;
boolean MP02=false;
boolean EQ00=false;
boolean EQ01=false;
boolean EQ02=false;
boolean EM01=false;
boolean EM02=false;
boolean EM03=false;
boolean EM04=false;
boolean SR01=false;
boolean SR02=false;
boolean RC00=false;
boolean MC00=false;
boolean MC01=false;
boolean MC02=false;
boolean MC03=false;
boolean MC04=false;
boolean RE00=false;
boolean ME00=false;
boolean ME01=false;
boolean ME02=false;
boolean ME03=false;
boolean ME04=false;
boolean AC00=false;
boolean MS09=false;
boolean LTH00=false;
boolean EM05=false;
boolean EM06=false;
boolean MSL00=false;
boolean MSL01=false;
boolean MSL02=false;
boolean MSL03=false;
boolean MSL04=false;
boolean MTH00=false;
boolean MTH01=false;
boolean MTH02=false;
boolean MTH03=false;
boolean MTH04=false;
boolean MMH00=false;
boolean MMH01=false;
boolean MMH02=false;
boolean MMH03=false;
boolean MMH04=false;
boolean MAS00=false;
boolean MAS01=false;
boolean MST00=false;
boolean MST01=false;
boolean MST02=false;
boolean SUC00=false;
boolean SUC01=false;
boolean SUC02=false;
boolean MCV00=false;
boolean MCV01=false;
boolean MCV02=false;
boolean ACC00=false;
boolean ACC01=false;
boolean ACC02=false;
boolean ACC03=false;
boolean MB00=false;
boolean MB01=false;
boolean MB02=false;
boolean MIN00=false;
boolean MIN01=false;
boolean MIN02=false;
boolean MIN03=false;
boolean GH00=false;
boolean GH01=false;
boolean MP03=false;
boolean MP04=false;
boolean MPP00=false;
boolean MPP01=false;
boolean MTT00=false;
boolean MTT01=false;
boolean MTT02=false;
boolean MTT03=false;
boolean MTT04=false;
boolean MTT05=false;
boolean MMP00=false;
boolean MMP01=false;
boolean MMP02=false;
boolean MMP03=false;
boolean MMP04=false;
boolean MP05=false;
boolean AMC00=false;
boolean EST00=false;
boolean EST01=false;
boolean MD00=false;
boolean MDC0=false;
boolean MCC0=false;
boolean MG00=false;
boolean MTR0=false;
boolean MTX0=false;
boolean MTM0=false;
boolean MCO0=false;
boolean MX00=false;
boolean CH00=false;
boolean GI00=false;
boolean MCP0=false;
boolean RD00=false;
boolean DH00=false; 
boolean EH00=false;
boolean MCR0=false;
boolean MTR1=false;
boolean INV0=false;
boolean DC00=false;
boolean DOC00=false;
boolean DTR00=false;
   
if(euaValidForAccess!=null){    
String[] getempaccessesL=euaValidForAccess.split("#");
for(int ur=0;ur<getempaccessesL.length;ur++) {
if(getempaccessesL[ur].equals("ADM00")){ADM00=true;}
else if(getempaccessesL[ur].equals("CLA00")){CLA00=true;}
else if(getempaccessesL[ur].equals("MG00")){MG00=true;}
else if(getempaccessesL[ur].equals("MTR0")){MTR0=true;}
else if(getempaccessesL[ur].equals("MTX0")){MTX0=true;}
else if(getempaccessesL[ur].equals("MTM0")){MTM0=true;}
else if(getempaccessesL[ur].equals("MCO0")){MCO0=true;}
else if(getempaccessesL[ur].equals("MDC0")){MDC0=true;}
else if(getempaccessesL[ur].equals("MCC0")){MCC0=true;}
else if(getempaccessesL[ur].equals("MD00")){MD00=true;}
else if(getempaccessesL[ur].equals("EST00")){EST00=true;}
else if(getempaccessesL[ur].equals("EST01")){EST01=true;}
else if(getempaccessesL[ur].equals("ACU01")){ACU01=true;}
else if(getempaccessesL[ur].equals("ACU02")){ACU02=true;}
else if(getempaccessesL[ur].equals("ACU03")){ACU03=true;}
else if(getempaccessesL[ur].equals("ACU04")){ACU04=true;}
else if(getempaccessesL[ur].equals("ACU05")){ACU05=true;}
else if(getempaccessesL[ur].equals("AMU02")){AMU02=true;}
else if(getempaccessesL[ur].equals("ATT02")){ATT02=true;}
else if(getempaccessesL[ur].equals("ATT03")){ATT03=true;}
else if(getempaccessesL[ur].equals("SAL04")){SAL04=true;}
else if(getempaccessesL[ur].equals("SAL00")){SAL00=true;}
else if(getempaccessesL[ur].equals("SAL01")){SAL01=true;}
else if(getempaccessesL[ur].equals("SAL02")){SAL02=true;}
else if(getempaccessesL[ur].equals("SAL03")){SAL03=true;}
else if(getempaccessesL[ur].equals("SAL05")){SAL05=true;}
else if(getempaccessesL[ur].equals("SAL06")){SAL06=true;}
else if(getempaccessesL[ur].equals("DEX00")) {DEX00=true;}
else if(getempaccessesL[ur].equals("DEX01")) {DEX01=true;}
else if(getempaccessesL[ur].equals("DEX02")) {DEX02=true;}
else if(getempaccessesL[ur].equals("DEX03")) {DEX03=true;}
else if(getempaccessesL[ur].equals("DEX05")) {DEX05=true;}
else if(getempaccessesL[ur].equals("CL00")){CL00=true;}
else if(getempaccessesL[ur].equals("CR01")){CR01=true;}
else if(getempaccessesL[ur].equals("CR02")){CR02=true;}
else if(getempaccessesL[ur].equals("CR03")){CR03=true;}
else if(getempaccessesL[ur].equals("CR04")){CR04=true;}
else if(getempaccessesL[ur].equals("CR05")){CR05=true;}
else if(getempaccessesL[ur].equals("CPR03")){CPR03=true;}
else if(getempaccessesL[ur].equals("CB06")){CB06=true;}
else if(getempaccessesL[ur].equals("MB07")){MB07=true;}
else if(getempaccessesL[ur].equals("MB08")){MB08=true;}
else if(getempaccessesL[ur].equals("UBL0")){UBL0=true;}
else if(getempaccessesL[ur].equals("MB09")){MB09=true;}
else if(getempaccessesL[ur].equals("TM00")){TM00=true;}
else if(getempaccessesL[ur].equals("MT00")){MT00=true;}
else if(getempaccessesL[ur].equals("MT01")){MT01=true;}
else if(getempaccessesL[ur].equals("TN02")){TN02=true;}
else if(getempaccessesL[ur].equals("MS03")){MS03=true;}
else if(getempaccessesL[ur].equals("MS04")){MS04=true;}
else if(getempaccessesL[ur].equals("MS05")){MS05=true;}
else if(getempaccessesL[ur].equals("MS06")){MS06=true;}
else if(getempaccessesL[ur].equals("MA00")){MA00=true;}
else if(getempaccessesL[ur].equals("MP01")){MP01=true;}
else if(getempaccessesL[ur].equals("MP02")){MP02=true;}
else if(getempaccessesL[ur].equals("EQ00")){EQ00=true;}
else if(getempaccessesL[ur].equals("EQ01")){EQ01=true;}
else if(getempaccessesL[ur].equals("EQ02")){EQ02=true;}
else if(getempaccessesL[ur].equals("EM01")){EM01=true;}
else if(getempaccessesL[ur].equals("EM02")){EM02=true;}
else if(getempaccessesL[ur].equals("EM03")){EM03=true;}
else if(getempaccessesL[ur].equals("EM04")){EM04=true;}
else if(getempaccessesL[ur].equals("SR01")){SR01=true;}
else if(getempaccessesL[ur].equals("SR02")){SR02=true;}
else if(getempaccessesL[ur].equals("RC00")){RC00=true;}
else if(getempaccessesL[ur].equals("MC00")){MC00=true;}
else if(getempaccessesL[ur].equals("MC01")){MC01=true;}
else if(getempaccessesL[ur].equals("MC02")){MC02=true;}
else if(getempaccessesL[ur].equals("MC03")){MC03=true;}
else if(getempaccessesL[ur].equals("MC04")){MC04=true;}
else if(getempaccessesL[ur].equals("RE00")){RE00=true;}
else if(getempaccessesL[ur].equals("ME00")){ME00=true;}
else if(getempaccessesL[ur].equals("ME01")){ME01=true;}
else if(getempaccessesL[ur].equals("ME02")){ME02=true;}
else if(getempaccessesL[ur].equals("ME03")){ME03=true;}
else if(getempaccessesL[ur].equals("ME04")){ME04=true;}
else if(getempaccessesL[ur].equals("AC00")){AC00=true;}
else if(getempaccessesL[ur].equals("MS09")){MS09=true;}
else if(getempaccessesL[ur].equals("LTH00")){LTH00=true;}
else if(getempaccessesL[ur].equals("EM05")){EM05=true;}
else if(getempaccessesL[ur].equals("EM06")){EM06=true;}
else if(getempaccessesL[ur].equals("MSL00")){MSL00=true;}
else if(getempaccessesL[ur].equals("MSL01")){MSL01=true;}
else if(getempaccessesL[ur].equals("MSL02")){MSL02=true;}
else if(getempaccessesL[ur].equals("MSL03")){MSL03=true;}
else if(getempaccessesL[ur].equals("MSL04")){MSL04=true;}
else if(getempaccessesL[ur].equals("MTH00")){MTH00=true;}
else if(getempaccessesL[ur].equals("MTH01")){MTH01=true;}
else if(getempaccessesL[ur].equals("MTH02")){MTH02=true;}
else if(getempaccessesL[ur].equals("MTH03")){MTH03=true;}
else if(getempaccessesL[ur].equals("MTH04")){MTH04=true;}
else if(getempaccessesL[ur].equals("MMH00")){MMH00=true;}
else if(getempaccessesL[ur].equals("MMH01")){MMH01=true;}
else if(getempaccessesL[ur].equals("MMH02")){MMH02=true;}
else if(getempaccessesL[ur].equals("MMH03")){MMH03=true;}
else if(getempaccessesL[ur].equals("MMH04")){MMH04=true;}
else if(getempaccessesL[ur].equals("MAS00")){MAS00=true;}
else if(getempaccessesL[ur].equals("MAS01")){MAS01=true;}
else if(getempaccessesL[ur].equals("MST00")){MST00=true;}
else if(getempaccessesL[ur].equals("MST01")){MST01=true;}
else if(getempaccessesL[ur].equals("MST02")){MST02=true;}
else if(getempaccessesL[ur].equals("SUC00")){SUC00=true;}
else if(getempaccessesL[ur].equals("SUC01")){SUC01=true;}
else if(getempaccessesL[ur].equals("SUC02")){SUC02=true;}
else if(getempaccessesL[ur].equals("MCV00")){MCV00=true;}
else if(getempaccessesL[ur].equals("MCV01")){MCV01=true;}
else if(getempaccessesL[ur].equals("MCV02")){MCV02=true;}
else if(getempaccessesL[ur].equals("ACC00")){ACC00=true;}
else if(getempaccessesL[ur].equals("ACC01")){ACC01=true;}
else if(getempaccessesL[ur].equals("ACC02")){ACC02=true;}
else if(getempaccessesL[ur].equals("ACC03")){ACC03=true;}
else if(getempaccessesL[ur].equals("MB00")){MB00=true;}
else if(getempaccessesL[ur].equals("MB01")){MB01=true;}
else if(getempaccessesL[ur].equals("MB02")){MB02=true;}
else if(getempaccessesL[ur].equals("MIN00")){MIN00=true;}
else if(getempaccessesL[ur].equals("MIN01")){MIN01=true;}
else if(getempaccessesL[ur].equals("MIN02")){MIN02=true;}
else if(getempaccessesL[ur].equals("MIN03")){MIN03=true;}
else if(getempaccessesL[ur].equals("GH00")){GH00=true;}
else if(getempaccessesL[ur].equals("GH01")){GH01=true;}
else if(getempaccessesL[ur].equals("MP03")){MP03=true;}
else if(getempaccessesL[ur].equals("MP04")){MP04=true;}
else if(getempaccessesL[ur].equals("MPP00")){MPP00=true;}
else if(getempaccessesL[ur].equals("MPP01")){MPP01=true;}
else if(getempaccessesL[ur].equals("MTT00")){MTT00=true;}
else if(getempaccessesL[ur].equals("MTT01")){MTT01=true;}
else if(getempaccessesL[ur].equals("MTT02")){MTT02=true;}
else if(getempaccessesL[ur].equals("MTT03")){MTT03=true;}
else if(getempaccessesL[ur].equals("MTT04")){MTT04=true;}
else if(getempaccessesL[ur].equals("MTT05")){MTT05=true;}
else if(getempaccessesL[ur].equals("MMP00")){MMP00=true;}
else if(getempaccessesL[ur].equals("MMP01")){MMP01=true;}
else if(getempaccessesL[ur].equals("MMP02")){MMP02=true;}
else if(getempaccessesL[ur].equals("MMP03")){MMP03=true;}
else if(getempaccessesL[ur].equals("MMP04")){MMP04=true;}
else if(getempaccessesL[ur].equals("MP05")){MP05=true;}
else if(getempaccessesL[ur].equals("AMC00")){AMC00=true;}
else if(getempaccessesL[ur].equals("MX00")){MX00=true;}
else if(getempaccessesL[ur].equals("CH00")){CH00=true;}
else if(getempaccessesL[ur].equals("GI00")){GI00=true;}
else if(getempaccessesL[ur].equals("MCP0")){MCP0=true;}
else if(getempaccessesL[ur].equals("RD00")){RD00=true;}
else if(getempaccessesL[ur].equals("DH00")){DH00=true;}
else if(getempaccessesL[ur].equals("EH00")){EH00=true;}
else if(getempaccessesL[ur].equals("MCR0")){MCR0=true;}
else if(getempaccessesL[ur].equals("MTR1")){MTR1=true;}
else if(getempaccessesL[ur].equals("INV0")){INV0=true;}
else if(getempaccessesL[ur].equals("DC00")){DC00=true;}
else if(getempaccessesL[ur].equals("DOC00")){DOC00=true;}
else if(getempaccessesL[ur].equals("DTR00")){DTR00=true;}
}    
}

      out.write("\r\n");
      out.write("<div id=\"header\">\r\n");
      out.write("<div class=\"header\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-2 col-sm-2 col-xs-12\">\r\n");
      out.write("<div class=\"logo1\">\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath());
      out.write("/dashboard.html\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/corpseed-logo.png\"></a>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-10 col-sm-10 col-xs-12\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"header-nav\">\r\n");
      out.write("<nav class=\"main-nav main-nav3\">\r\n");
      out.write("<ul class=\"main-menu\">\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath());
      out.write("/dashboard.html\">Dashboard</a></li>\r\n");
if(ADM00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">HR<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(AMU02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managewebuser.html\">Manage HRM Login</a></li>");
}
      out.write('\r');
      out.write('\n');
if(ME00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-employee.html\">Manage Employee</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(CLA00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/clientadmin.html\">Manage Client's Admin</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MC00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-company.html\">Manage Company</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(ATT03){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/Manage-Attendance.html\">Manage Attendance</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(LTH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/logintraffic.html\">Login & Traffic History</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write('\r');
      out.write('\n');
if(EQ00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Sales<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(EST00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-estimate.html\">Manage Estimate</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(EQ02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-sales.html\">Manage Sales</a></li>");
} 
      out.write("\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/compliance-check.html\">Compliance Check</a></li>\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(DC00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Document<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(DOC00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/document-collection.html\">Document Collection</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(CL00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Client<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(CPR03){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-client.html\">Manage Client</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write('\r');
      out.write('\n');
if(MT00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">My Task<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(MT01){
      out.write("  <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/mytask.html\">My Task Details</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MD00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managedelivery.html\">Manage Delivery</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MDC0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/mydocument.html\">Manage Document</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MCC0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/calendar.html\">Calendar</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MCR0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/certificates-renewal.html\">Certificate renewal</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MTR1){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/report.html\">Manage Report</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(TN02){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<!-- <a>SEO</a> -->\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
      out.write('\r');
      out.write('\n');
if(MS04){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-seo.html\">Manage SEO OnPage</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MS09){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/seo-url-collection.html\">SEO URL Collection</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MS06){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-content.html\">Manage Content</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(SR01){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/update-report.html\">Update Report</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(SR02){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/seo-report.html\">SEO Report</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
} 
      out.write("\r\n");
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(ACC00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Account<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(AC00){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageaccount.html\">Client Accounts</a></li>");
}
      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
if(MB07){
      out.write(" <li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-billing.html\">Projects Billing</a></li>");
}
      out.write('\r');
      out.write('\n');
if(UBL0){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/unbilled.html\">Unbilled</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MB09){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/openpayrollhistory.html\">Payroll</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(GH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetransactions.html\">Manage Transactions</a></li>");
} 
      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
if(MX00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageexpenses.html\">Manage Expense</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(CH00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecredit.html\">Credit history</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(GI00){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageinvoice.html\">Manage Invoice</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(TM00){ 
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Activity Master<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
      out.write('\r');
      out.write('\n');
if(MPP00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-product.html\">Manage Product</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTT00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manage-template.html\">Manage Template</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MG00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageguide.html\">Manage Guide</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTR0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetrigger.html\">Manage Trigger</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTX0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managetax.html\">Manage Tax</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MTM0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/manageteam.html\">Manage Teams</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MCO0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecontacts.html\">Manage Contacts</a></li>");
}
      out.write('\r');
      out.write('\n');
if(MCP0){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/managecoupon.html\">Manage Coupon</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(RD00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write("<a href=\"javascript:void(0);\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Records<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(DH00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/download-history.html\">Download History</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(EH00){ 
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/export-history.html\">Export History</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</li>\r\n");
}if(MA00){
      out.write("\r\n");
      out.write("<li class=\"menu-item-has-childrent\">\r\n");
      out.write(" <a href=\"javascript:void(0);\" class=\"webhide\" data-toggle=\"dropdown\" aria-hidden=\"false\" aria-expanded=\"false\">Profile<span class=\"lnr lnr-chevron-down\"></span></a>\r\n");
      out.write("<div class=\"welcomeBox\"><i class=\"fas fa-user\"></i>&nbsp;Hi, ");
      out.print(session.getAttribute("uaname") );
      out.write("<span class=\"lnr lnr-chevron-down\"></span></div>\r\n");
      out.write("<ul class=\"sub-menu\">\r\n");
if(MMP00){
      out.write("<li><a href=\"javascript:void(0);\" onclick=\"profilechapass('");
      out.print(uaIsValid1);
      out.write("','profile');\"><i class=\"fa fa-user\"></i>My Profile</a></li>");
} 
      out.write("\r\n");
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/track-invoice.html\"><i class=\"fa fa-search\"></i>Track Invoice</a></li>\r\n");
if(MMP02){
      out.write("<li><a href=\"javascript:void(0);\" onclick=\"profilechapass('");
      out.print(uaIsValid1);
      out.write("','chapass');\"><i class=\"fa fa-lock\"></i>Change Password</a></li>");
} 
      out.write('\r');
      out.write('\n');
if(MMP03){
      out.write("<li><a href=\"");
      out.print(request.getContextPath() );
      out.write("/logout.html\"><i class=\"fa fa-sign-out\"></i>Logout</a></li>");
} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function profilechapass(id,page){$.ajax({type:\"POST\",url:\"");
      out.print(request.getContextPath());
      out.write("/vieweditpage\",data:{\"uid\":id},success:function(response){if(page==\"profile\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/profile.html\";else if(page==\"chapass\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/changepassword.html\";else if(page==\"work\")window.location=\"");
      out.print(request.getContextPath());
      out.write("/workscheduler.html\";},});}\r\n");
      out.write("</script>\r\n");
      out.write("</li>\r\n");
}
String notificationloginuaid = (String) session.getAttribute("loginuaid");
String notificationtoken=(String)session.getAttribute("uavalidtokenno");
long totalNotification=ClientACT.getTotalUnseenNotificationAdmin(notificationtoken,notificationloginuaid); 
// System.out.println(notificationloginuaid+"/"+notificationtoken+"/"+totalNotification);
String notifications[][]=ClientACT.getAllNotification(notificationtoken,notificationloginuaid);

      out.write("\r\n");
      out.write("<li class=\"notification\">\r\n");
      out.write("<a class=\"toggle_btn\" onclick=\"markAllAsReadNotification('");
      out.print(totalNotification );
      out.write("')\"><i class=\"fa fa-bell\"></i><span class=\"badge\" id=\"totalNotification\">");
if(totalNotification>0){
      out.print(totalNotification );
} 
      out.write("</span></a>\r\n");
      out.write("<div class=\"notification_box pullDown\">\r\n");
      out.write("<!--   <div class=\"text-right notification_txt\"><a href=\"javascript:void(0)\" onclick=\"markAllAsReadNotification()\">Mark all as read</a></div> -->\r\n");
      out.write("  <div class=\"clearfix notification_inner_box\">\r\n");
      out.write(" ");
if(notifications!=null&&notifications.length>0){
	 for(int i=0;i<notifications.length;i++){
	 
      out.write("\r\n");
      out.write("      <div class=\"clearfix notification_inner\">              	\r\n");
      out.write("        <a href=\"javascript:void(0)\" onclick=\"markAsReadNotification('");
      out.print(notifications[i][2] );
      out.write("')\">\r\n");
      out.write("        <div class=\"clearfix pro_box\">\r\n");
      out.write("            <div class=\"clearfix icon_box\">\r\n");
      out.write("             <i class=\"");
      out.print(notifications[i][4] );
      out.write(" icon-circle\" aria-hidden=\"true\"></i>\r\n");
      out.write("            </div> \r\n");
      out.write("            <div class=\"clearfix pro_info\"> \r\n");
      out.write("            <h6>");
      out.print(notifications[i][3] );
      out.write("</h6>\r\n");
      out.write("            <div class=\"clearfix date_box1\">");
      out.print(notifications[i][1] );
      out.write("</div>\r\n");
      out.write("            </div>\r\n");
      out.write("         </div>\r\n");
      out.write("        </a>\r\n");
      out.write("      </div>\r\n");
      out.write("      ");
}}else{ 
      out.write("\r\n");
      out.write("      <div class=\"text-center text-muted\">No data found !!</div>\r\n");
      out.write("      ");
} 
      out.write("\r\n");
      out.write("  </div> \r\n");
      out.write("  <div class=\"text-center notification_txt mtop10\"><a href=\"");
      out.print(request.getContextPath());
      out.write("/notifications.html\">View All &nbsp;<i class=\"fa fa-angle-right\"></i></a></div> \r\n");
      out.write("</div> \r\n");
      out.write("</li>\r\n");
      out.write("<li class=\"mobilenoti\" style=\"display:none\">\r\n");
      out.write("<a href=\"");
      out.print(request.getContextPath());
      out.write("/notifications.html\" onclick=\"markAllAsReadNotification('");
      out.print(totalNotification );
      out.write("')\"><span id=\"totalNotification\">Notification");
if(totalNotification>0){
      out.write("<small>");
      out.print(totalNotification );
      out.write("</small>");
} 
      out.write("</span></a>\r\n");
      out.write("</li>\r\n");
      out.write("</ul>\r\n");
      out.write("<div class=\"mobile-menu\">\r\n");
      out.write("<a href=\"#\" class=\"show-menu\"><span class=\"lnr lnr-indent-decrease\"></span></a>\r\n");
      out.write("<a href=\"#\" class=\"hide-menu\"><span class=\"lnr lnr-indent-increase\"></span></a>\r\n");
      out.write("</div>\r\n");
      out.write("</nav>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");

String urlpage = request.getParameter("uid");
if(urlpage==null||urlpage==""){
	urlpage=request.getParameter("page_no");
	if(urlpage==null||urlpage=="")urlpage="NA";
}
// System.out.println("pge=="+urlpage);
if(!urlpage.equalsIgnoreCase("managewebuser.html")&&!urlpage.equalsIgnoreCase("edituser.html")){
	session.removeAttribute("muname");
	session.removeAttribute("mumobile");
	session.removeAttribute("mutype");
}
if(!urlpage.equalsIgnoreCase("clientadmin.html")){
	session.removeAttribute("claname");
	session.removeAttribute("clamobile");
}
if(!urlpage.equalsIgnoreCase("manage-company.html")&&!urlpage.equalsIgnoreCase("editcompany.html")){
	session.removeAttribute("mcname");
	session.removeAttribute("mcfrom");
	session.removeAttribute("mcto");
}
if(!urlpage.equalsIgnoreCase("calendar.html")){
	session.removeAttribute("date_range_value");
}
if(!urlpage.equalsIgnoreCase("manage-employee.html")&&!urlpage.equalsIgnoreCase("editemployee.html")){
	session.removeAttribute("mename");
	session.removeAttribute("memobile");
	session.removeAttribute("meemail");
}
if(!urlpage.equalsIgnoreCase("Manage-Attendance.html")){
	session.removeAttribute("maEmpID");
	session.removeAttribute("maMonthDate");
	session.removeAttribute("mafrom");
	session.removeAttribute("mato");
}

if(!urlpage.equalsIgnoreCase("manage-billing.html")){
	session.removeAttribute("billingDateRangeAction");
	session.removeAttribute("billingClientName");
	session.removeAttribute("billingInvoiceNo");
	session.removeAttribute("billingDoAction");	
	session.removeAttribute("billingContactName");
}
if(!urlpage.equalsIgnoreCase("unbilled.html")){
	session.removeAttribute("unbillDateRangeAction");
	session.removeAttribute("unbill_no");
	session.removeAttribute("companyName");
	session.removeAttribute("unbillContactName");
	session.removeAttribute("archiveFilter");	
}
if(!urlpage.equalsIgnoreCase("all-invoice.html")){
	session.removeAttribute("invoiceDateRangeAction");
	session.removeAttribute("invoice_no");
	session.removeAttribute("invoicecompanyName");
	session.removeAttribute("invoicedContactName");
	session.removeAttribute("b2bb2c");
}
if(!urlpage.equalsIgnoreCase("manage-sales.html")){	        
	session.removeAttribute("salesInvoiceAction");
	session.removeAttribute("salesPhoneAction");
	session.removeAttribute("salesPhoneKeyAction");
	session.removeAttribute("salesProductAction");
	session.removeAttribute("salesClientAction");
	session.removeAttribute("salesContactAction");
	session.removeAttribute("salesSoldByAction");
	session.removeAttribute("salesSoldByUidAction");
	session.removeAttribute("salesDateRangeAction");
	session.removeAttribute("salesFilter");
}

if(!urlpage.equalsIgnoreCase("manage-template.html")){
	session.removeAttribute("templateDateRangeAction");
	session.removeAttribute("templateNameAction");
	session.removeAttribute("templateDoAction");
}
if(!urlpage.equalsIgnoreCase("manage-product.html")){
	session.removeAttribute("productDateRangeAction");
	session.removeAttribute("productIdAction");
	session.removeAttribute("productNameAction");
}
if(!urlpage.equalsIgnoreCase("manageteam.html")){
	session.removeAttribute("teamDateRangeAction");
	session.removeAttribute("teamNameDoAction");
	session.removeAttribute("teamDoAction");
}
if(!urlpage.equalsIgnoreCase("manage-client.html")&&!urlpage.equalsIgnoreCase("editclient.html")){
	session.removeAttribute("mclientname");
	session.removeAttribute("mclientmobile");
	session.removeAttribute("mclientlocation");
	session.removeAttribute("mclientfrom");
	session.removeAttribute("mclientto");
}

if(!urlpage.equalsIgnoreCase("manageaccount.html")&&!urlpage.equalsIgnoreCase("accountstatement.html")){
	session.removeAttribute("accountDateRangeAction");
	session.removeAttribute("accountSearchByClientName");
	session.removeAttribute("accountSearchByClientId");
}
if(!urlpage.equalsIgnoreCase("mytask.html")&&!urlpage.contains("edittask-")){
	session.removeAttribute("myTaskDateRange");
	session.removeAttribute("myTaskDoAction");
	session.removeAttribute("myTaskClientAction");
	session.removeAttribute("myTaskClientKeyAction");
	session.removeAttribute("myTaskContactAction");
	session.removeAttribute("myTaskServiceAction");
	session.removeAttribute("searchByActivity");
}
if(!urlpage.contains("edittask-")){
	session.removeAttribute("searchByActivity");
}
if(!urlpage.contains("assignmytask-")){
	session.removeAttribute("searchByActivity1");
}
if(!urlpage.equalsIgnoreCase("managedelivery.html")&&!urlpage.contains("assignmytask-")){
	session.removeAttribute("deliveryDateRangeAction");
	session.removeAttribute("deliveryDoAction");
	session.removeAttribute("deliveryInvoiceAction");
	session.removeAttribute("deliveryClientAction");
	session.removeAttribute("deliveryContactAction");
	session.removeAttribute("searchByActivity1");
}

if(!urlpage.equalsIgnoreCase("document-collection.html")){
	session.removeAttribute("collectionDateRangeAction");
	session.removeAttribute("collectionDoAction");
	session.removeAttribute("collectionInvoiceAction");
	session.removeAttribute("collectionClientAction");
	session.removeAttribute("collectionContactAction");
}

if(!urlpage.equalsIgnoreCase("manage-estimate.html")){
	session.removeAttribute("estimateContactAction");
	session.removeAttribute("estDoAction");
	session.removeAttribute("ClientNameDoAction");
	session.removeAttribute("estimateNoDoAction");
	session.removeAttribute("dateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("mydocument.html")&&!urlpage.contains("subdocuments-")&&!urlpage.contains("personalfiles-")){
	session.removeAttribute("mdclientname");
	session.removeAttribute("mdclientid");
	session.removeAttribute("mdfoldername");
	session.removeAttribute("mdprojectno");
	/* new */
	session.removeAttribute("doDocumentAction");
	session.removeAttribute("SearchByClientName");
	session.removeAttribute("SearchByClientId");
}
if(!urlpage.contains("personalfiles-")){
	session.removeAttribute("personalDoActionFiles");
	session.removeAttribute("pdocsortby_ord");
	session.removeAttribute("pdocsorting_order");
}
if(!urlpage.contains("documentfiles-")){
	session.removeAttribute("doActionFiles");
	session.removeAttribute("dcsortby_ord");
	session.removeAttribute("dcesorting_order");
}
if(!urlpage.equalsIgnoreCase("manageexpenses.html")){
	session.removeAttribute("expenseDateRangeAction");
	session.removeAttribute("expsortby_ord");
	session.removeAttribute("expClientName");
	session.removeAttribute("expContactMobile");
	session.removeAttribute("expsorting_order"); 
}
if(!urlpage.equalsIgnoreCase("download-history.html")){
	session.removeAttribute("history_page");
	session.removeAttribute("hisDateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("export-history.html")){
	session.removeAttribute("ex_history_page");
	session.removeAttribute("ex_hisDateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("manageguide.html")){
	session.removeAttribute("guideDateRangeAction");
	session.removeAttribute("guideProductAction");
	session.removeAttribute("guideProductKeyAction");
	session.removeAttribute("guideMilestoneAction");
}
if(!urlpage.equalsIgnoreCase("managetransactions.html")){
	session.removeAttribute("transactionDateRangeAction");
	session.removeAttribute("transactionClientNameAction");
	session.removeAttribute("transactionInvoiceAction");
	session.removeAttribute("transactionDoAction");
}
if(!urlpage.equalsIgnoreCase("managecredit.html")){
	session.removeAttribute("creditDateRangeAction");
}
if(!urlpage.equalsIgnoreCase("managetrigger.html")){
	session.removeAttribute("TriggerNameDoAction");
	session.removeAttribute("TriggerNoDoAction");
	session.removeAttribute("TriggerdateRangeDoAction");
}
if(!urlpage.equalsIgnoreCase("managecontacts.html")){
	session.removeAttribute("contactDateRangeAction");
	session.removeAttribute("contactCompanyNameAction");	
}
if(!urlpage.equalsIgnoreCase("certificates-renewal.html")){
	session.removeAttribute("certRenewalTaskDateRange");
}
if(!urlpage.equalsIgnoreCase("notifications.html")){
	session.removeAttribute("notificationPageLimit");
	session.removeAttribute("notificationPageStart");
	session.removeAttribute("notificationPageEnd");
	session.removeAttribute("notificationTaskDateRange");
}
if(!urlpage.equalsIgnoreCase("report.html")){
	session.removeAttribute("reportprojectNo");
	session.removeAttribute("reportAssigneeUid");
	session.removeAttribute("reportAssigneeName");
}

      out.write(' ');
      out.write('\r');
      out.write('\n');

String assignKey=request.getParameter("uid").trim();

assignKey=assignKey.substring(9,assignKey.length()-5);
String today=DateUtil.getCurrentDateIndianFormat1();
String addedby= (String)session.getAttribute("loginuID");
String reupload=request.getParameter("reupload");

String chatOpenBox= request.getParameter("typ");
if(chatOpenBox==null||chatOpenBox.length()<=0)chatOpenBox="NA";

String token=(String)session.getAttribute("uavalidtokenno");
String userRole=(String)session.getAttribute("userRole");
String dateToday=DateUtil.getCurrentDateIndianFormat1();
String salesrefid="NA";
String salesPayType="NA";
String milestoneKey="NA";
String workStartPrice="0";
String taskStatus="NA";
String assigneeUid="NA";
String marefid="NA";
double taskProgress=0;
String milestone[][]=TaskMaster_ACT.getAssignedSalesKey(assignKey,token); 
if(milestone!=null&&milestone.length>0){
	salesrefid=milestone[0][1];
	marefid=milestone[0][0];
	assigneeUid=milestone[0][2];
	milestoneKey=milestone[0][3];	
	taskStatus=milestone[0][6];
	taskProgress=Integer.parseInt(milestone[0][5]);
}
if(!salesrefid.equalsIgnoreCase("NA"))
	salesPayType=TaskMaster_ACT.getSalesPayType(salesrefid,token);
	
String product[]=TaskMaster_ACT.getProductNameAndKey(milestoneKey,token);
if(product[0]!=null&&!product[0].equalsIgnoreCase("NA")){
	if(salesPayType.equalsIgnoreCase("Milestone Pay"))
		workStartPrice=milestone[0][10];
	else
		workStartPrice=TaskMaster_ACT.getWorkPricePercentage(product[0],product[1],token);
}
String closeDate=Enquiry_ACT.getSalesCloseDate(salesrefid,token);
if(closeDate==null||closeDate.length()<=0)closeDate="NA";
// double salesProgress=Enquiry_ACT.getSalesWorkProgress(salesrefid,token);
String contactefid=TaskMaster_ACT.getSalesContactrefid(salesrefid,token);
String compaddress=TaskMaster_ACT.getCompanyAddress(salesrefid,token);
String jurisdiction=TaskMaster_ACT.getSalesJurisdiction(salesrefid,token);

String companyname="NA";
String projectNo="NA";
String productName="Not Found";
String contactName="Not Found";
String contactEmail="Not Found";
String contactPhone="Not Found";
String clientKey="NA";
String teamKey="NA";
String productType="Not Found";
String workStarted="00-00-0000";
String workStartedTime="00:00";
String milestoneName="NA";
String data=TaskMaster_ACT.getCompanyName(salesrefid,token);
String x[]=data.split("#");
companyname=x[0];
projectNo=x[1];
productName=x[2];
clientKey=x[3];
teamKey=x[4];
productType=x[5];
String teamLeaderUid=TaskMaster_ACT.getTeamLeaderId(teamKey, token);
String clientLoc=TaskMaster_ACT.getClientlocation(clientKey,token);
String contact[][]=Enquiry_ACT.getClientDetails(contactefid, token);
String clientNo=Clientmaster_ACT.getClientNumberByKey(clientKey, token);
int loginStatus=Usermaster_ACT.getLoginStatus(clientNo, token);
String loginClass="offline";
String loginTitle="Offline";
if(loginStatus==1){
	loginClass="online";
	loginTitle="Online";
}
if(contact!=null&&contact.length>0){contactName=contact[0][0];contactEmail=contact[0][5];contactPhone=contact[0][1];}
String uaid = (String) session.getAttribute("loginuaid");

String loginUserName=Usermaster_ACT.getLoginUserName(uaid, token);
//getting all dynamic form template
String template[][]=TaskMaster_ACT.getAllFormTemplate(token);

String activityType=(String)session.getAttribute("searchByActivity");
if(activityType==null||activityType.length()<=0)activityType="NA";
String workStatusIcon="NA";
String workStatusClass="";
if(taskStatus.equalsIgnoreCase("New")){
	workStatusClass="task_new";	
	workStatusIcon="New";
}else if(taskStatus.equalsIgnoreCase("Open")){
	workStatusClass="task_open";
	workStatusIcon="Open";
}else if(taskStatus.equalsIgnoreCase("Pending")){
	workStatusClass="task_pending";
	workStatusIcon="Pending";
}	else if(taskStatus.equalsIgnoreCase("Expired")){
	workStatusClass="task_expired";
	workStatusIcon="Expired";
}else if(taskStatus.equalsIgnoreCase("On-Hold")){
	workStatusClass="task_hold";
	workStatusIcon="On-Hold";
}else if(taskStatus.equalsIgnoreCase("Completed")){
	workStatusClass="task_completed";
	workStatusIcon="Completed";
}
String companyIndustry=Clientmaster_ACT.findCompanyIndustry(clientKey,token);
Properties properties = new Properties();
properties.load(getServletContext().getResourceAsStream("/staticresources/properties"));			
String docpath=properties.getProperty("path")+"documents";
String azure_key=properties.getProperty("azure_key");
String azure_container=properties.getProperty("azure_container");
String azure_path=properties.getProperty("azure_path");
String domain=properties.getProperty("corpseed_domain");

String currentTime=DateUtil.getCurrentTime24Hours();
String country[][]=TaskMaster_ACT.getAllCountries();

      out.write('\r');
      out.write('\n');
if(!MT01){
      if (true) {
        _jspx_page_context.forward("/login.html");
        return;
      }
} 
      out.write("\r\n");
      out.write("<div id=\"content\">\r\n");
      out.write("<div class=\"main-content\">\r\n");
      out.write("<div class=\"container\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"menuDv pad_box4\">\r\n");
      out.write("<form method=\"post\">\r\n");
      out.write("<div class=\"task_lft_box\">\r\n");
      out.write("<p class=\"");
      out.print(workStatusClass);
      out.write('"');
      out.write('>');
      out.print(workStatusIcon );
      out.write("</p>\r\n");
      out.write("<h3><span id=\"onlineOffline\" class=\"");
      out.print(loginClass );
      out.write("\" title=\"");
      out.print(loginTitle);
      out.write("\"></span>");
      out.print(contactName );
      out.write("</h3>\r\n");
      out.write("<p><a href=\"#\" onclick=\"loadServiceDetails('");
      out.print(salesrefid );
      out.write("')\" class=\"tooltips1 visible\"><i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i><span class=\"tooltiptext\">More Details</span></a>&nbsp;&nbsp;");
      out.print(companyname );
      out.write("&nbsp;(");
      out.print(companyIndustry );
      out.write(")</p>\r\n");
      out.write("\r\n");
      out.write("<div class=\"location_box\">\r\n");
      out.write("<i><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/location_icon.png\" alt=\"\"/></i><span>");
      out.print(clientLoc );
      out.write("</span> \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix mbt20 box_shadow1\" id=\"TeamAdminAssignedTaskId\">\r\n");
      out.write("<div class=\"clearfix task search_section\"> \r\n");
      out.write("<h4 class=\"normal_txt trnsclient \"><span>My Task</span>\r\n");
      out.write("<a href=\"#\" onclick=\"transferRetrieve('");
      out.print(milestone[0][0]);
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(milestone[0][12]);
      out.write("')\">\r\n");
if(milestone[0][12].equals("3")||milestone[0][12].equals("2")) {
      out.write("Transfer to client");
}else{ 
      out.write("\r\n");
      out.write("Retrieve from client\r\n");
} 
      out.write("\r\n");
      out.write("</a></h4> \r\n");
      out.write("</div>\r\n");
if(milestone!=null&&milestone.length>0){ 
	workStarted=milestone[0][9];
	workStarted=workStarted.substring(6)+workStarted.substring(2, 6)+workStarted.substring(0, 2);	
	workStartedTime=milestone[0][11];
	if(workStartedTime.equalsIgnoreCase("NA"))workStartedTime="09:00";
	milestoneName=milestone[0][4];
      out.write("\r\n");
      out.write("	\r\n");
      out.write("	<div class=\"clearfix MyTaskAssigned\">\r\n");
      out.write("	<div class=\"clearfix inner_section\"> \r\n");
      out.write("	<span class=\"icon_box1 text-center\">T</span> \r\n");
      out.write("	<span class=\"text_box1\"><label>");
      out.print(milestone[0][4] );
      out.write("</label><span>");
      out.print(milestone[0][7] );
      out.write("</span></span>\r\n");
      out.write("	<span class=\"link_icon text-center toggleBtn\"><i onclick=\"showAssignBox('TaskAssignedMeId')\"><img src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/images/down_arrow.png\" alt=\"\"></i></span>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"clearfix padBox0 marg0 access_box_info toggleBox\" id=\"TaskAssignedMeId\"> \r\n");
      out.write("	<div class=\"bg_ltgray pad_box3 pad-lft10 pad-rt10\">\r\n");
      out.write("	<div class=\"form-group\">\r\n");
      out.write("	<label>Task </label> \r\n");
      out.write("	<div class=\"input-group\">\r\n");
      out.write("	<span class=\"input-group-addon\"><i class=\"form-icon fa fa-check\"></i></span>\r\n");
      out.write("	<input type=\"text\" name=\"task\" id=\"Task\" placeholder=\"\" value=\"");
      out.print(milestone[0][4] );
      out.write("\" class=\"form-control\" readonly=\"readonly\">\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"form-group\">\r\n");
      out.write("	<label>Work Completed (%)</label>\r\n");
      out.write("	<div class=\"input-group\">\r\n");
      out.write("	<span class=\"input-group-addon\"><i class=\"form-icon fa fa-circle-o-notch\"></i></span> \r\n");
      out.write("	<input type=\"number\" name=\"taskdate\" min=\"0\" max=\"100\" value=\"");
      out.print(milestone[0][5] );
      out.write("\" onchange=\"validateNumber(this.value,'TaskPercentagedone')\" id=\"TaskPercentagedone\" placeholder=\"Percentage\" class=\"form-control\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"clearfix mtop10 mb10 row\">\r\n");
      out.write("	<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("	<div class=\"clearfix tips mtop10\">\r\n");
      out.write("	<div class=\"tooltips pointers\" data-related=\"Task_Step\" onclick=\"openToolTipBox('");
      out.print(milestone[0][4] );
      out.write("')\">Task Tips<i class=\"fa fa-lightbulb-o\"></i>\r\n");
      out.write("		\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"col-md-12 col-sm-12 col-xs-12 text-right\">  \r\n");
      out.write("	<button class=\"bt-link bt-radius bt-gray cancelBtn\" type=\"button\" onclick=\"hideAssignBox('TaskAssignedMeId')\">Cancel</button>\r\n");
      out.write("	<button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"saveWorkPercentage('");
      out.print(milestone[0][0] );
      out.write("','TaskPercentagedone','");
      out.print(milestone[0][3] );
      out.write("')\">Save</button>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix mbt20 box_shadow1\">\r\n");
      out.write("<div class=\"clearfix search_section\"> \r\n");
      out.write("<h4 class=\"normal_txt\"><span>Reminders</span></h4> \r\n");
      out.write("<span class=\"search_icon text-center toggleBtn\"><i onclick=\"showAssignBox('TaskAssignedReminderId1')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/plus_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("</div>\r\n");
      out.write("<form onsubmit=\"return false\">\r\n");
      out.write("<div class=\"clearfix padBox0 marg0 access_box_info toggleBox\" id=\"TaskAssignedReminderId1\"> \r\n");
      out.write("<div class=\"bg_ltgray pad_box3 pad-lft10 pad-rt10\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Task </label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write("<span class=\"input-group-addon\"><i class=\"form-icon fa fa-check\"></i></span>\r\n");
      out.write("<input type=\"text\" autocomplete=\"off\" name=\"remindertask\" id=\"ReminderTask\" placeholder=\"Enter Task\" value=\"\" class=\"form-control\" />\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Time</label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write(" <span class=\"input-group-addon\"><i class=\"form-icon fa fa-clock-o\"></i></span>\r\n");
      out.write("<input type=\"text\" autocomplete=\"off\" name=\"Remindertime\" id=\"ReminderTime\" placeholder=\"Time\" class=\"form-control pointers timepicker\" readonly=\"readonly\"/>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Date</label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write("<span class=\"input-group-addon\"><i class=\"form-icon fa fa-calendar\"></i></span> \r\n");
      out.write("<input type=\"text\" autocomplete=\"off\" name=\"Reminderdate\" autocomplete=\"off\" id=\"ReminderDate\" placeholder=\"DD-MM-YYYY\" class=\"searchdate form-control pointers\" readonly=\"readonly\"/>\r\n");
      out.write("</div>\r\n");
      out.write("<div id=\"dateEerorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\">\r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray cancelBtn\" type=\"button\" onclick=\"hideAssignBox('TaskAssignedReminderId1')\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"return saveReminder()\">Save</button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("<div class=\"clearfix reminder\" id=\"ReloadReminder\"> \r\n");
      out.write("<div class=\"clearfix\" id=\"ReloadReminder1\">\r\n");

String reminders[][]=TaskMaster_ACT.getAllReminders(salesrefid,uaid,userRole,teamLeaderUid,token);  
if(reminders!=null&&reminders.length>0){
	for(int i=0;i<reminders.length;i++){		
		String userName=Usermaster_ACT.getLoginUserName(reminders[i][5], token);
		String shortName=userName.substring(0,2);
		String display="toggle_box";
		if(reminders[i][4].equalsIgnoreCase("2"))display="";
		

      out.write("\r\n");
      out.write("<div class=\"clearfix inner_section\" id=\"ReminderRow");
      out.print(i);
      out.write("\">\r\n");
      out.write("<div class=\"col-md-12 crossTask ");
      out.print(display );
      out.write("\" id=\"TaskReminderClose");
      out.print(i);
      out.write("\">&nbsp;</div> \r\n");
      out.write("<span class=\"icon_box1 text-center\" title=\"");
      out.print(userName);
      out.write(" !!\">");
      out.print(shortName );
      out.write("</span> \r\n");
      out.write("<span class=\"text_box1\"><label>");
      out.print(reminders[i][1] );
      out.write("</label><span>");
      out.print(reminders[i][2] );
      out.write("</span></span> \r\n");
      out.write("<span class=\"link_icon text-center toggleBtn mrt10\"><i onclick=\"showAssignBox('TaskAssignedAddReminderId");
      out.print(i);
      out.write("')\" title=\"Update Reminder\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/edit_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("<span class=\"link_icon text-center\" onclick=\"closeReminder('");
      out.print(reminders[i][0] );
      out.write("','TaskReminderClose");
      out.print(i);
      out.write("')\" title=\"Close Reminder\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/checked_icon.png\" alt=\"\"/></span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix padBox0 marg0 access_box_info toggleBox\" id=\"TaskAssignedAddReminderId");
      out.print(i);
      out.write("\"> \r\n");
      out.write("<div class=\"bg_ltgray pad_box3 pad-lft10 pad-rt10\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Task </label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write("<span class=\"input-group-addon\"><i class=\"form-icon fa fa-check\"></i></span>\r\n");
      out.write("<input type=\"text\" autocomplete=\"off\" name=\"updateremindertask");
      out.print(i);
      out.write("\" id=\"UpdateReminderTask");
      out.print(i);
      out.write("\" placeholder=\"Task\" value=\"");
      out.print(reminders[i][1] );
      out.write("\" class=\"form-control\" />\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Time</label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write("<span class=\"input-group-addon\"><i class=\"form-icon fa fa-clock-o\"></i></span>\r\n");
      out.write("<input type=\"text\" name=\"updateremindertime");
      out.print(i);
      out.write("\" onclick=\"openClock('UpdateReminderTime");
      out.print(i);
      out.write("')\" id=\"UpdateReminderTime");
      out.print(i);
      out.write("\" value=\"");
      out.print(reminders[i][3]);
      out.write("\" class=\"form-control timepicker\" readonly=\"readonly\"/>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("<label>Date</label>\r\n");
      out.write("<div class=\"input-group\">\r\n");
      out.write("<span class=\"input-group-addon\"><i class=\"form-icon fa fa-calendar\"></i></span> \r\n");
      out.write("<input type=\"text\" autocomplete=\"off\" onclick=\"openCalendar('UpdateReminderDate");
      out.print(i);
      out.write("')\" name=\"updatereminderdate");
      out.print(i);
      out.write("\" autocomplete=\"off\" id=\"UpdateReminderDate");
      out.print(i);
      out.write("\" value=\"");
      out.print(reminders[i][2] );
      out.write("\" placeholder=\"DD-MM-YYYY\" class=\"searchdate form-control pointers\" readonly=\"readonly\"/>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\">\r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray cancelBtn\" type=\"button\" onclick=\"hideAssignBox('TaskAssignedAddReminderId");
      out.print(i);
      out.write("')\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"return updateReminder('");
      out.print(reminders[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(i);
      out.write("')\">Update</button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
}} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix mbt20 box_shadow1\">\r\n");
      out.write("<div class=\"clearfix search_section\"> \r\n");
      out.write("<h4 class=\"normal_txt\"><span>Contacts</span> &nbsp <span class=\"count_number\"></span></h4> \r\n");
      out.write("<span class=\"search_icon text-center addnew1\" data-related=\"add_contact\" onclick=\"openContactBox('");
      out.print(contactefid);
      out.write("')\"><i><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/plus_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"clearfix reminder contacts\"> \r\n");
      out.write("<div class=\"clearfix\" id=\"RefreshContacts\">\r\n");
      out.write("<div class=\"clearfix\" id=\"RefreshContacts1\">\r\n");

if(contact!=null&&contact.length>0){
	for(int i=0;i<contact.length;i++){

      out.write("\r\n");
      out.write("<div class=\"clearfix inner_section\">  \r\n");
      out.write("<span class=\"pad-lft0 text_box1 pdtop9\"><label>");
      out.print(contact[i][0] );
      out.write("</label></span> \r\n");
      out.write("<span class=\"link_icon text-center toggleBtn mrt10\"><i class=\"clickeble updatecontactbox\" data-related=\"update_contact\" onclick=\"openUpdateContactBox('");
      out.print(contact[i][3] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(contact[i][2] );
      out.write("')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/edit_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("<span class=\"link_icon text-center\"><i onclick=\"showContact('");
      out.print(contact[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(contact[i][1] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(contact[i][4] );
      out.write("','mobile')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/phone_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("<span class=\"link_icon text-center\"><i onclick=\"showContact('");
      out.print(contact[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(contact[i][5] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(contact[i][6] );
      out.write("','email')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/sms_icon.png\" alt=\"\"/></i></span>\r\n");
      out.write("</div>\r\n");
}} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad_box3 pad-lft10 pad-rt10 contacts_info DispNone\"  id=\"ContactMobileDiv\">\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Name</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\" id=\"FirstContactMobileName\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Mobile</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\" id=\"FirstContactMobile\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" id=\"SecondContactMobileDisp\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Alt. mobile</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\" id=\"SecondContactMobile\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad_box3 pad-lft10 pad-rt10 contacts_info DispNone\" id=\"ContactEmailDiv\">\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Name</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\" id=\"FirstContactEmailName\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Email</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\"> \r\n");
      out.write("<span class=\"txt_blue\" id=\"FirstContactEmail\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" id=\"SecondContactEmailDisp\">\r\n");
      out.write("<div class=\"pad0 col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write("<span class=\"txt_blue\">Alt. email</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 col-md-8 col-sm-8 col-xs-12\" >\r\n");
      out.write("<div class=\"mb10\"> \r\n");
      out.write("<span class=\"txt_blue\" id=\"SecondContactEmail\"></span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("<button class=\"btn-warning btn-block form-control info-extra bold_txt expense\" data-related=\"add_expense\" onclick=\"openExpense()\" type=\"button\">+&nbsp;Expense</button>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-8 col-sm-8 col-xs-12\"> \r\n");
      out.write("<form method=\"post\">\r\n");
      out.write("<div class=\"task_rt_box\">\r\n");
      out.write(" \r\n");
      out.write("<div class=\"filterBox relative_box\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"filterBox_inner\">\r\n");
      out.write("<div class=\"filterBox_title\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/arrow_down1.png\" alt=\"\"/> All Activities</div>\r\n");
      out.write("<ul class=\"filterBox_dropdown\">\r\n");
      out.write("<li><a onclick=\"doAction('NA','searchByActivity');\"><span class=\"dot_circle0\"></span>All</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Call log','searchByActivity');\"><span class=\"dot_circle\"></span>Call logs</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Email','searchByActivity');\"><span class=\"dot_circle1\"></span>Email</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Public Reply','searchByActivity');\"><span class=\"dot_circle2\"></span>Chats</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Note','searchByActivity');\"><span class=\"dot_circle3\"></span>Note</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Notification','searchByActivity');\"><span class=\"dot_circle4\"></span>Notification</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Reminder','searchByActivity');\"><span class=\"dot_circle5\"></span>Reminders</a></li>\r\n");
      out.write("<li><a onclick=\"doAction('Expense','searchByActivity');\"><span class=\"dot_circle6\"></span>Expense</a></li>\r\n");
      out.write("</ul> \r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"flex_box justify_end col-md-8 col-sm-8 col-xs-12\"> \r\n");
      out.write("<div class=\"filterBox_inner\"> \r\n");
      out.write("<div class=\"filterBox_title box_shadow1\"><span>Follow up</span></div>\r\n");
      out.write("<ul class=\"filterBox_dropdown\">");
if(closeDate.equalsIgnoreCase("NA")){ 
      out.write("\r\n");
      out.write("<li><a class=\"openChat\" data-related=\"open_chat\" onclick=\"openChatBox()\">Chat</a></li>");
} 
      out.write("\r\n");
      out.write("<li><a onclick=\"focusTextara('newCallLogsId','CallLogNotesId')\">Call log</a></li>\r\n");
      out.write("<li><a onclick=\"focusTextara('newNotesDivId','NewNotesBoxId')\">Note</a></li>\r\n");
      out.write("<li><a onclick=\"focusTextara('newNotesSalesDivId','NewNotesSalesBoxId')\">Note(Sales)</a></li>\r\n");
      out.write("</ul> \r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"filterBox_inner\">\r\n");
      out.write("<div class=\"filterBox_title box_shadow1 adddoc\" data-related=\"add_document\" onclick=\"openDocumentBox()\"><span>Documents</span></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"contentBox\"> \r\n");
      out.write("<ul class=\"contentBoxLft\">\r\n");
      out.write("<li style=\"display: none;\" id=\"newCallLogsId\">\r\n");
      out.write("<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/phone_icon.png\" alt=\"\"/></span>\r\n");
      out.write("<div class=\"contentInnerBox contentInnerBox1 box_shadow1 relative_box mb10\"> \r\n");
      out.write("<div class=\"call_log_box\">\r\n");
      out.write("<div class=\"contentBox1\"> \r\n");
      out.write("<p><textarea placeholder=\"Call Log....\" rows=\"5\" id=\"CallLogNotesId\" class=\"textarea_brd\"></textarea></p>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"contentBox2\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix\"><span class=\"pointers\" onclick=\"removeCallNotes('newCallLogsId','CallLogNotesId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/delete_icon.png\" alt=\"\"/></span></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix flex_box justify_end\">\r\n");
      out.write("<select class=\"box_shadow1\" id=\"AddCallLogOptId\" name=\"\">\r\n");

if(contact!=null&&contact.length>0){
	for(int i=0;i<contact.length;i++){

      out.write("\r\n");
      out.write("<option value=\"");
      out.print(contact[i][0]);
      out.write('#');
      out.print(contact[i][1]);
      out.write('#');
      out.print(contact[i][5]);
      out.write('"');
      out.write('>');
      out.print(contact[i][0]);
      out.write('@');
      out.print(contact[i][1]);
      out.write("</option>\r\n");
}}
      out.write("\r\n");
      out.write("</select>\r\n");
      out.write("\r\n");
      out.write("<button class=\"box_shadow1\" type=\"button\" onclick=\"return addCallLogNotes('CallLogNotesId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/checked_icon.png\" alt=\"\"/></button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</li>\r\n");
      out.write("<li style=\"display: none;\" id=\"newNotesDivId\">\r\n");
      out.write("<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/notes.webp\" alt=\"\"/></span>\r\n");
      out.write("<div class=\"contentInnerBox contentInnerBox1 box_shadow1 relative_box mb10\"> \r\n");
      out.write("<div class=\"call_log_box\">\r\n");
      out.write("<div class=\"contentBox1\"> \r\n");
      out.write("<p><textarea placeholder=\"Notes....\" rows=\"5\" id=\"NewNotesBoxId\" class=\"textarea_brd\"></textarea></p>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"contentBox2\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix\"><span class=\"pointers\" onclick=\"removeCallNotes('newNotesDivId','NewNotesBoxId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/delete_icon.png\" alt=\"\"/></span></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix flex_box justify_end\">\r\n");
      out.write("<select class=\"box_shadow1\" id=\"AddNotesOptId\" name=\"\">\r\n");

if(contact!=null&&contact.length>0){
	for(int i=0;i<contact.length;i++){

      out.write("\r\n");
      out.write("<option value=\"");
      out.print(contact[i][0]);
      out.write('#');
      out.print(contact[i][1]);
      out.write('#');
      out.print(contact[i][5]);
      out.write('"');
      out.write('>');
      out.print(contact[i][0]);
      out.write('@');
      out.print(contact[i][1]);
      out.write("</option>\r\n");
}}
      out.write("\r\n");
      out.write("</select>\r\n");
      out.write("\r\n");
      out.write("<button class=\"box_shadow1\" type=\"button\" onclick=\"return addTaskNotes('NewNotesBoxId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/checked_icon.png\" alt=\"\"/></button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</li>\r\n");
      out.write("\r\n");
      out.write("<li style=\"display: none;\" id=\"newNotesSalesDivId\">\r\n");
      out.write("<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/notes.webp\" alt=\"\"/></span>\r\n");
      out.write("<div class=\"contentInnerBox contentInnerBox1 box_shadow1 relative_box mb10\"> \r\n");
      out.write("<div class=\"call_log_box\">\r\n");
      out.write("<div class=\"contentBox1\"> \r\n");
      out.write("<p><textarea placeholder=\"Notes....\" rows=\"5\" id=\"NewNotesSalesBoxId\" class=\"textarea_brd\"></textarea></p>\r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"contentBox2\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix\"><span class=\"pointers\" onclick=\"removeCallNotes('newNotesSalesDivId','NewNotesSalesBoxId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/delete_icon.png\" alt=\"\"/></span></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("<div class=\"clearfix flex_box justify_end\">\r\n");
      out.write("<select class=\"box_shadow1\" id=\"AddNotesOptIdSales\" name=\"\">\r\n");

if(contact!=null&&contact.length>0){
	for(int i=0;i<contact.length;i++){

      out.write("\r\n");
      out.write("<option value=\"");
      out.print(contact[i][0]);
      out.write('#');
      out.print(contact[i][1]);
      out.write('#');
      out.print(contact[i][5]);
      out.write('"');
      out.write('>');
      out.print(contact[i][0]);
      out.write('@');
      out.print(contact[i][1]);
      out.write("</option>\r\n");
}}
      out.write("\r\n");
      out.write("</select>\r\n");
      out.write("\r\n");
      out.write("<button class=\"box_shadow1\" type=\"button\" onclick=\"return addTaskNotesForSales('NewNotesSalesBoxId')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/checked_icon.png\" alt=\"\"/></button>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</li>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"ReloadTaskThread\">\r\n");
      out.write("<div class=\"clearfix\" id=\"ReloadTaskThread1\">\r\n");

String threds[][]=TaskMaster_ACT.getAllThread(salesrefid,uaid,userRole,teamLeaderUid,token,activityType,assignKey); 
if(threds!=null&&threds.length>0){
	String dateNow="NA";
	String datePrinted="NA";
	String time="NA";
	for(int i=0;i<threds.length;i++){
		dateNow=threds[i][3].substring(0,10);
		String userName=threds[i][10];
		String shortName=userName.substring(0,2);
		if(threds[i][1].equalsIgnoreCase("Notification")||threds[i][1].equalsIgnoreCase("Expense")||threds[i][1].equalsIgnoreCase("Reminder")){
			time=DateUtil.getHoursMinutes(threds[i][3]);

      out.write("\r\n");
      out.write("<li>\r\n");
      out.write("<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/");
      out.print(threds[i][2] );
      out.write("\" alt=\"\"></span>\r\n");
      out.write("<div class=\"contentInnerBox contentInnerBox3 box_shadow1 relative_box mb10\">\r\n");
      out.write("<div class=\"sms_head note_box\">\r\n");
      out.write("<div class=\"note_box_inner\">\r\n");
      out.write("<p contentEditable=\"false\">");
      out.print(threds[i][5] );
      out.write("</p> \r\n");
      out.write("</div>\r\n");
      out.write("<span class=\"icon_box1 text-center\" title=\"");
      out.print(userName);
      out.write(" !!\">");
      out.print(shortName );
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"sms_title\"> \r\n");
      out.write("<label class=\"pad-rt10\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/long_arrow_down.png\" alt=\"\">&nbsp; ");
      out.print(threds[i][1] );
      out.write("</label>  \r\n");
      out.write("<span class=\"gray_txt bdr_bt pad-rt10\">");
      out.print(time );
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</li>\r\n");
}else if(threds[i][1].equalsIgnoreCase("Notes")||threds[i][1].equalsIgnoreCase("Call Log")){
	time=DateUtil.getHoursMinutes(threds[i][3]);
	String StatusPrint="Notes Written";
	if(threds[i][1].equalsIgnoreCase("Call Log"))StatusPrint="Called";	

      out.write("\r\n");
      out.write("	<li id=\"CallNotesBoxId");
      out.print(i );
      out.write("\">\r\n");
      out.write("	<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/");
      out.print(threds[i][2] );
      out.write("\" alt=\"\"></span>\r\n");
      out.write("	<div class=\"contentInnerBox contentInnerBox3 box_shadow1 relative_box mb10\">\r\n");
      out.write("	<div class=\"sms_head note_box\">\r\n");
      out.write("	<div class=\"note_box_inner\">\r\n");
      out.write("	<div id=\"NotesWrittenId");
      out.print(i );
      out.write("\" contentEditable=\"false\">");
      out.print(threds[i][5] );
      out.write("</div> \r\n");
      out.write("	</div>\r\n");
      out.write("	<span class=\"icon_box1 text-center\" id=\"DisplayNoneJsId");
      out.print(i );
      out.write("\" title=\"");
      out.print(userName);
      out.write(" !!\">");
      out.print(shortName );
      out.write("</span>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"mlft10 mrt10 pad-bt5 DispNone\" id=\"DisplayNoneSubmitId");
      out.print(i );
      out.write("\"> \r\n");
      out.write("	<div class=\"contentBox2\">\r\n");
      out.write("	<div class=\"row\">\r\n");
      out.write("	<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("	<div class=\"clearfix\"><span class=\"pointers\" onclick=\"removeMainCallNotes('CallNotesBoxId");
      out.print(i );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(threds[i][0] );
      out.write("')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/delete_icon.png\" alt=\"\"></span></div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write("	<div class=\"clearfix flex_box justify_end\">\r\n");
      out.write("	<select class=\"box_shadow1\" id=\"ContactBoxId");
      out.print(i );
      out.write("\">\r\n");
      out.write("	");
if(contact!=null&&contact.length>0){
		for(int j=0;j<contact.length;j++){		
// 			System.out.println(threds[i][7]+"="+contact[j][0]+"/"+threds[i][8]+"="+contact[j][1]+"/"+threds[i][9]+"="+contact[j][5]);
		if(threds[i][7].equalsIgnoreCase(contact[j][0])&&threds[i][8].equalsIgnoreCase(contact[j][1])&&threds[i][9].equalsIgnoreCase(contact[j][5])){	
	
      out.write("\r\n");
      out.write("	<option value=\"");
      out.print(contact[j][0]);
      out.write('#');
      out.print(contact[j][1]);
      out.write('#');
      out.print(contact[j][5]);
      out.write("\" selected=\"selected\">");
      out.print(contact[j][0]);
      out.write('@');
      out.print(contact[j][1]);
      out.write("</option>\r\n");
      out.write("	");
}else{
      out.write("\r\n");
      out.write("	<option value=\"");
      out.print(contact[j][0]);
      out.write('#');
      out.print(contact[j][1]);
      out.write('#');
      out.print(contact[j][5]);
      out.write('"');
      out.write('>');
      out.print(contact[j][0]);
      out.write('@');
      out.print(contact[j][1]);
      out.write("</option>\r\n");
      out.write("	");
}}}
      out.write("\r\n");
      out.write("	</select>\r\n");
      out.write("	\r\n");
      out.write("	<button class=\"box_shadow1\" type=\"button\" onclick=\"updateThisNotes('");
      out.print(threds[i][0] );
      out.write("','NotesWrittenId");
      out.print(i );
      out.write("','ContactBoxId");
      out.print(i );
      out.write("','DisplayNoneJsId");
      out.print(i );
      out.write("','DisplayNoneSubmitId");
      out.print(i );
      out.write("','DisplayNoneTimerId");
      out.print(i );
      out.write("','TimeCalculator");
      out.print(i );
      out.write("')\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/checked_icon.png\" alt=\"\"></button>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	<div class=\"sms_title\" id=\"DisplayNoneTimerId");
      out.print(i );
      out.write("\"> \r\n");
      out.write("	<label class=\"pad-rt10\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/long_arrow_down.png\" alt=\"\">&nbsp; ");
      out.print(StatusPrint );
      out.write("</label>  \r\n");
      out.write("	<span class=\"gray_txt bdr_bt pad-rt10\" id=\"TimeCalculator");
      out.print(i );
      out.write('"');
      out.write('>');
      out.print(time );
      out.write("</span>\r\n");
      out.write('\r');
      out.write('\n');
      out.write('\r');
      out.write('\n');
      out.write('	');
if(!threds[i][11].equalsIgnoreCase("NA")){ 
      out.write("\r\n");
      out.write("	<span class=\"gray_txt bdr_bt pointers mlft10\" onclick=\"saveNotesReply('NAA','");
      out.print(threds[i][12]);
      out.write("')\">Reply</span>\r\n");
      out.write("	");
} 
      out.write("\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	</li>\r\n");
      out.write("	\r\n");
}else if(threds[i][1].equalsIgnoreCase("Public Reply")){
	if(!datePrinted.equalsIgnoreCase(dateNow)){
		datePrinted=dateNow;		

      out.write("\r\n");
      out.write("	<li>\r\n");
      out.write("	<span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/public_reply.png\" style=\"width: 14px;\"></span>\r\n");
      out.write("	<div class=\"contentInnerBox contentInnerBox3 box_shadow1 relative_box mb10\">\r\n");
      out.write("	");

	String chatThread[][]=TaskMaster_ACT.getAllTodaysChats(datePrinted,salesrefid,uaid,userRole,teamLeaderUid,token,assignKey);
	if(chatThread!=null&&chatThread.length>0){
		for(int k=0;k<chatThread.length;k++){
			time=DateUtil.getHoursMinutes(chatThread[k][3]);
			String color="iconn";
			String status=chatThread[k][12];
			if(status.equalsIgnoreCase("Pending"))color="iconp";
			else if(status.equalsIgnoreCase("On-hold"))color="iconh";
			else if(status.equalsIgnoreCase("Open"))color="icono";
			else if(status.equalsIgnoreCase("Completed"))color="iconc";
	
      out.write("\r\n");
      out.write("	<div class=\"sms_head\">\r\n");
      out.write("	<div class=\"clearfix pad-top5 box_width82\">\r\n");
      out.write("	<p class=\"txt_blue\">\r\n");
      out.write("	<span>");
      out.print(chatThread[k][10] );
      out.write("&nbsp;&nbsp;<i class=\"fa fa-caret-right\"></i>&nbsp;");
      out.print(chatThread[k][11] );
      out.write("</span>\r\n");
      out.write("	</p>\r\n");
      out.write("	<p>");
      out.print(chatThread[k][5] );
      out.write("</p>\r\n");
      out.write("	</div>  \r\n");
      out.write("	<span class=\"relative\"><span class=\"gray_txt bdr_bt fntsize10\">");
      out.print(time );
      out.write("</span>\r\n");
      out.write("	");
if(!status.equalsIgnoreCase("NA")){ 
      out.write("\r\n");
      out.write("	<span class=\"chatstatus ");
      out.print(color);
      out.write('"');
      out.write('>');
      out.print(status );
      out.write("</span></span>");
} 
      out.write("\r\n");
      out.write("	</div>	\r\n");
      out.write("	");
}} 
      out.write("\r\n");
      out.write("	\r\n");
      out.write("	</div>\r\n");
      out.write("	</li>	\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
}}}}
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</ul>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"fixed_right_box\"> \r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"add_expense\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\" style=\"font-size: 21px;\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fas fa-inr\"></i>New Expense</h3> \r\n");
      out.write("<p>Add Expenses for your department.</div>\r\n");
      out.write("<form onsubmit=\"return false\" method=\"post\" id=\"AddNewExpense\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" autocomplete=\"off\" name=\"addexpenseclientname\" value=\"");
      out.print(companyname );
      out.write("\" id=\"AddExpenseClientName\" placeholder=\"Client's name..\" onblur=\"validCompanyNamePopup('AddExpenseClientName');validateValuePopup('AddExpenseClientName');\" class=\"form-control bdrd4\">\r\n");
      out.write(" </div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" autocomplete=\"off\" maxlength=\"14\" name=\"addexpenseClientContactNumber\" value=\"");
      out.print(contactPhone );
      out.write("\" id=\"AddExpenseClientContactNumber\" placeholder=\"Contact number..\" onblur=\"validateMobilePopup('AddExpenseClientContactNumber');validateValuePopup('AddExpenseClientContactNumber')\" class=\"form-control bdrd4\" onkeypress=\"return isNumberKey(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"industryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix inner_box_bg\" style=\"margin-top: 10px;\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label style=\"font-size: 12px;font-weight: normal;\">Total amount :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" autocomplete=\"off\" name=\"addexpenseamount\" id=\"AddExpense_Amount\" placeholder=\"Total amount..\" class=\"form-control bdrd4 onlyDecimal\" onkeyup=\"return validateNumber(this)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"cityErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-8 col-sm-8 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label style=\"font-size: 12px;font-weight: normal;\">How would you like to categorize this expense ? :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" id=\"AddExpenseCategory\" name=\"addExpenseCategory\">\r\n");
      out.write("  <option value=\"\">Expense Category</option>\r\n");
      out.write("  <option value=\"Advertising and Marketing Expense\">Advertising and Marketing Expense</option>\r\n");
      out.write("  <option value=\"Bank Charges and Internet Expense\">Bank Charges and Internet Expense</option>\r\n");
      out.write("  <option value=\"Contractor Expense\">Contractor Expense</option>\r\n");
      out.write("  <option value=\"Cost of Goods Sold Expense\">Cost of Goods Sold Expense</option>\r\n");
      out.write("  <option value=\"Deprecation Expense\">Deprecation Expense</option>\r\n");
      out.write("  <option value=\"Insurance Expense\">Insurance Expense</option>\r\n");
      out.write("  <option value=\"Management and Administration Expense\">Management and Administration Expense</option>\r\n");
      out.write("  <option value=\"Meals & Entertainment Expense\">Meals and Entertainment Expense</option>\r\n");
      out.write("  <option value=\"Office Expense\">Office Expense</option>\r\n");
      out.write("  <option value=\"Payroll Expense\">Payroll Expense</option>  \r\n");
      out.write("  <option value=\"Personal Expense\">Personal Expense</option>\r\n");
      out.write("  <option value=\"Professional Dues/Membership/Licenses\">Professional Dues/Membership/Licenses</option>\r\n");
      out.write("  <option value=\"Professional Services Expense\">Professional Services Expense</option>\r\n");
      out.write("  <option value=\"Rent\">Rent Expense</option>\r\n");
      out.write("  <option value=\"Repairs & Maintenance Expense\">Repairs & Maintenance Expense</option>\r\n");
      out.write("  <option value=\"Shipping & Postage Expense\">Shipping & Postage Expense</option>\r\n");
      out.write("  <option value=\"Travel Expense\">Travel Expense</option>\r\n");
      out.write("  <option value=\"Utilities Expense\">Utilities Expense</option>\r\n");
      out.write("  <option value=\"Vehicle Expense\">Vehicle Expense</option>\r\n");
      out.write("  <option value=\"Department Fees\">Department Fees</option>\r\n");
      out.write("  <option value=\"Filing Fees\">Filing Fees</option>\r\n");
      out.write("  <option value=\"Other Expense\">Other Expense</option>\r\n");
      out.write("  <option value=\"Re-submission\">Re-submission</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\" style=\"margin-top: 10px;\">\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label style=\"font-size: 12px;font-weight: normal;\">HSN (Tax if applicable) :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("   <input type=\"text\" autocomplete=\"off\" name=\"addexpensehsncode\" id=\"AddHSN_Code\" placeholder=\"HSN Code...\" class=\"form-control bdrd4\">\r\n");
      out.write("   </div>\r\n");
      out.write("   <div id=\"countryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("  </div>\r\n");
      out.write(" </div>\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("  <label style=\"font-size: 12px;font-weight: normal;\">Department :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("<!--   <input type=\"text\" autocomplete=\"off\" name=\"addexpensedepartment\" id=\"AddExpenseDepartment\" onblur=\"validateValuePopup('ExpenseDepartment');\" placeholder=\"Department here...\" class=\"form-control bdrd4\"> -->\r\n");
      out.write("  <select id=\"AddExpenseDepartment\" name=\"addexpensedepartment\" class=\"form-control bdrd4\">\r\n");
      out.write("	<option value=\"\">Select department</option>\r\n");
      out.write("  	<option value=\"Account\">Account</option>\r\n");
      out.write("  	<option value=\"Sales\">Delivery</option>\r\n");
      out.write("  	<option value=\"HR\">HR</option>\r\n");
      out.write("  	<option value=\"IT\">IT</option>\r\n");
      out.write("  	<option value=\"Marketing\">Marketing</option>  	\r\n");
      out.write("  	<option value=\"Quality\">Quality</option>\r\n");
      out.write("  	<option value=\"Sales\">Sales</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-4 col-sm-4 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("  <label style=\"font-size: 12px;font-weight: normal;\">Paid from account :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write(" <select class=\"form-control bdrd4\" id=\"AddPaidFromAccount\" name=\"addPaidFromAccount\">\r\n");
      out.write("  <option value=\"\">Select</option>\r\n");
      out.write("  <option value=\"Online\">Online</option>\r\n");
      out.write("  <option value=\"Cash\">Cash</option>\r\n");
      out.write("  <option value=\"Cheque/DD\">Cheque/DD</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\" style=\"margin-top: 10px;\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write("  <label>Notes :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" autocomplete=\"off\" rows=\"3\" name=\"addexpensenote\" id=\"AddExpenseNote\" placeholder=\"Enter Note\" onblur=\"validateLocationPopup('AddExpenseNote');validateValuePopup('AddExpenseNote');\" ></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\"> \r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray mrt10 close_box closeAddExpenseBtn\" type=\"button\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"submit\" id=\"exp_btn\" onclick=\"return validateAddExpense()\">Submit</button>\r\n");
      out.write("</div>\r\n");
      out.write("</form>                                  \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"update_contact\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\" style=\"font-size: 21px;\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-fax\"></i>Update Contact's details</h3>\r\n");
      out.write("<p>When someone reaches out to you, they become a contact in your account. You can create companies and associate contacts with them.</div>\r\n");
      out.write("\r\n");
      out.write("<form onsubmit=\"return false;\" id=\"FormUpdateContactBox\">\r\n");
      out.write("<input type=\"hidden\" id=\"UpdateContactKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"UpdateContactSalesKey\"/>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"firstname\" id=\"UpdateContactFirstName\" placeholder=\"First Name\" onblur=\"validateNamePopup('UpdateContactFirstName');validateValuePopup('UpdateContactFirstName')\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"fnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" name=\"lastname\" id=\"UpdateContactLastName\" placeholder=\"Last Name\" onblur=\"validateNamePopup('UpdateContactLastName');validateValuePopup('UpdateContactLastName');\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"lnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix inner_box_bg\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\"> \r\n");
      out.write(" <label>Email :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail\" id=\"UpdateContactEmail_Id\" onblur=\"verifyEmailIdPopup('UpdateContactEmail_Id');isUpdateDuplicateEmail('UpdateContactEmail_Id');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write(" </div>\r\n");
      out.write(" <div id=\"enqEmailErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"text-right\">\r\n");
      out.write("<span class=\"add_new pointers\">+ Email</span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"relative_box form-group new_field\" id=\"UpdateContactDivId\" style=\"display:none;\">\r\n");
      out.write("  <label>Email 2nd :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail\" id=\"UpdateContactEmailId2\" onblur=\"isUpdateDuplicateEmail('UpdateContactEmailId2');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write("<button class=\"addbtn pointers close_icon1 del_icon\" type=\"button\" onclick=\"$('#UpdateContactEmailId2').val('')\"><i class=\"fa fa-times\" style=\"font-size: 20px;\"></i></button>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"newEmailErrorMSGdiv\" class=\"errormsg\"></div> \r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Pan :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"contPan\" id=\"UpdateContPan\" onblur=\"validatePanPopup('UpdateContPan');validateValuePopup('UpdateContPan');isExistEditPan('UpdateContPan');\" placeholder=\"Pan\" maxlength=\"14\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"wphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Work Phone :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"workphone\" id=\"UpdateContactWorkPhone\" onblur=\"isUpdateDuplicateMobilePhone('UpdateContactWorkPhone')\" placeholder=\"Work phone\" maxlength=\"14\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"wphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Mobile Phone :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"mobilephone\" id=\"UpdateContactMobilePhone\" placeholder=\"Mobile Phone\" maxlength=\"14\" onblur=\"validateMobilePopup('UpdateContactMobilePhone');isUpdateDuplicateMobilePhone('UpdateContactMobilePhone');\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"mphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10 flex_box align_center\">\r\n");
      out.write("<span class=\"input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"UpdateContactperAddress\" checked>\r\n");
      out.write("<span>Personal Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("<span class=\"mlft10 input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"UpdateContactcomAddress\" onclick=\"getUpdateCompanyAddress()\">\r\n");
      out.write("<span>Company Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Country :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control\" name=\"country\" id=\"UpdateContCountry\" onchange=\"updateState(this.value,'UpdateContState')\">\r\n");
      out.write("  <option value=\"\">Select Country</option>\r\n");
      out.write("  ");
if(country!=null&&country.length>0){for(int i=0;i<country.length;i++){
      out.write("	   \r\n");
      out.write("   <option value=\"");
      out.print(country[i][1]);
      out.write('#');
      out.print(country[i][0]);
      out.write('"');
      out.write('>');
      out.print(country[i][0]);
      out.write("</option>\r\n");
      out.write("   ");
}} 
      out.write("\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqCountryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>State :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"state\" id=\"UpdateContState\" onchange=\"updateCity(this.value,'UpdateContCity')\">\r\n");
      out.write("  <option value=\"\">Select State</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"stateErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>City :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"city\" id=\"UpdateContCity\">\r\n");
      out.write("  <option value=\"\">Select City</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"cityErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateAddress_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Address :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite page\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqAdd\" id=\"UpdateContAddress\" placeholder=\"Address\" onblur=\"validateValuePopup('UpdateContAddress');validateLocationPopup('UpdateContAddress');\" ></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqAddErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row UpdateCompany_box\" style=\"display:none;\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon fa fa-bank\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqCompAdd\" id=\"UpdateEnqCompAddress\" placeholder=\"Company Address\" onblur=\"validateValuePopup('UpdateEnqCompAddress');validateLocationPopup('UpdateEnqCompAddress');\" readonly=\"readonly\"></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"companyErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\">\r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray mrt10 close_box\" type=\"button\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"submit\" id=\"ValidateUpdateContact\" onclick=\"return validateUpdateContact();\">Update</button>\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"add_contact\" style=\"display: none;\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\" style=\"font-size: 21px;\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-fax\"></i>New Contact</h3>\r\n");
      out.write("<p>When someone reaches out to you, they become a contact in your account. You can create companies and associate contacts with them.</p></div>\r\n");
      out.write("\r\n");
      out.write("<form onsubmit=\"return false;\" id=\"FormContactBox\">\r\n");
      out.write("<input type=\"hidden\" id=\"AddContactKeyId\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"firstname\" id=\"ContactFirstName\" placeholder=\"First Name\" onblur=\"validateNamePopup('ContactFirstName');validateValuePopup('ContactFirstName')\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"fnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("<div class=\"form-group\">\r\n");
      out.write(" <div class=\"input-group\">\r\n");
      out.write(" <input type=\"text\" name=\"lastname\" id=\"ContactLastName\" placeholder=\"Last Name\" onblur=\"validateNamePopup('ContactLastName');validateValuePopup('ContactLastName');\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"lnameErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix inner_box_bg\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10\">\r\n");
      out.write(" <label>Email :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail\" id=\"ContactEmail_Id\" onblur=\"verifyEmailIdPopup('ContactEmail_Id');isDuplicateEmail('ContactEmail_Id');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write(" </div>\r\n");
      out.write(" <div id=\"enqEmailErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"text-right\">\r\n");
      out.write("<span class=\"add_new pointers\">+ Email</span>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"relative_box form-group new_field\" style=\"display:none;\">\r\n");
      out.write("  <label>Email 2nd :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite email-id\"></i></span>-->\r\n");
      out.write("  <input type=\"email\" name=\"enqEmail\" id=\"ContactEmailId2\" onblur=\"isDuplicateEmail('ContactEmailId2');\" placeholder=\"Email\" class=\"form-control bdrd4\">\r\n");
      out.write("<button class=\"addbtn pointers close_icon1 del_icon\" type=\"button\"><i class=\"fa fa-times\" style=\"font-size: 20px;\"></i></button>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"newEmailErrorMSGdiv\" class=\"errormsg\"></div> \r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Pan :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <input type=\"text\" name=\"contPan\" id=\"ContactPan\" onblur=\"validatePanPopup('ContactPan');validateValuePopup('ContactPan');isExistPan('ContactPan');\" placeholder=\"Pan\" maxlength=\"14\" class=\"form-control bdrd4\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"conPanErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Work Phone :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"workphone\" id=\"ContactWorkPhone\" onblur=\"isDuplicateMobilePhone('ContactWorkPhone')\" placeholder=\"Work phone\" maxlength=\"14\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"wphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>Mobile Phone :</label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite location\"></i></span>-->\r\n");
      out.write("  <input type=\"text\" name=\"mobilephone\" id=\"ContactMobilePhone\" placeholder=\"Mobile Phone\" maxlength=\"14\" onblur=\"validateMobilePopup('ContactMobilePhone');isDuplicateMobilePhone('ContactMobilePhone');\" class=\"form-control bdrd4\" onkeypress=\"return isNumber(event)\">\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"mphoneErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write("<div class=\"mb10 flex_box align_center\">\r\n");
      out.write("<span class=\"input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"ContactperAddress\" checked=\"checked\">\r\n");
      out.write("<span>Personal Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("<span class=\"mlft10 input_radio\">\r\n");
      out.write("<input type=\"radio\" name=\"addresstype\" id=\"ContactcomAddress\" onclick=\"getCompanyAddress()\">\r\n");
      out.write("<span>Company Address</span>\r\n");
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row address_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Country :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control\" name=\"country\" id=\"ContCountry\" onchange=\"updateState(this.value,'ContState')\">\r\n");
      out.write("  <option value=\"\">Select Country</option>\r\n");
      out.write("  ");
if(country!=null&&country.length>0){for(int i=0;i<country.length;i++){
      out.write("	   \r\n");
      out.write("   <option value=\"");
      out.print(country[i][1]);
      out.write('#');
      out.print(country[i][0]);
      out.write('"');
      out.write('>');
      out.print(country[i][0]);
      out.write("</option>\r\n");
      out.write("   ");
}} 
      out.write("\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqCountryErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row address_box\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>State :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"state\" id=\"ContState\" onchange=\"updateCity(this.value,'ContCity')\">\r\n");
      out.write("  <option value=\"\">Select State</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"stateErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <label>City :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <select class=\"form-control bdrd4\" name=\"city\" id=\"ContCity\">\r\n");
      out.write("  <option value=\"\">Select City</option>\r\n");
      out.write("  </select>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"cityErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row address_box\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("   <label>Address :<span style=\"color: #4ac4f3;\">*</span></label>\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon sprite page\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqAdd\" id=\"ContAddress\" placeholder=\"Address\" onblur=\"validateValuePopup('ContAddress');validateLocationPopup('ContAddress');\"></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"enqAddErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row company_box\" style=\"display:none;\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n");
      out.write(" <div class=\"form-group\">\r\n");
      out.write("  <div class=\"input-group\">\r\n");
      out.write("  <!--<span class=\"input-group-addon\"><i class=\"form-icon fa fa-bank\"></i></span>-->\r\n");
      out.write("  <textarea class=\"form-control bdrd4\" rows=\"2\" name=\"enqCompAdd\" id=\"EnqCompAddress\" placeholder=\"Company Address\" onblur=\"validateValuePopup('EnqCompAddress');validateLocationPopup('EnqCompAddress');\" readonly=\"readonly\"></textarea>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div id=\"companyErrorMSGdiv\" class=\"errormsg\"></div>\r\n");
      out.write(" </div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix mtop10 mb10 text-right\">\r\n");
      out.write("<button class=\"bt-link bt-radius bt-gray close_box\" type=\"button\">Cancel</button>\r\n");
      out.write("<button class=\"bt-link bt-radius bt-loadmore\" type=\"submit\" id=\"ValidateAddContact\" onclick=\"return validateContact();\">Create</button>\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"add_document\" style=\"display: none;\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-file-o\"></i>Document List : <span style=\"color:#357b8bf5;\">");
      out.print(projectNo );
      out.write("</span></h3> \r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"tab\">\r\n");
      out.write("  <button class=\"tablinks active\" onclick=\"openDocument(event, 'AgentUploadDoc')\">&nbsp;Agent's Uploads</button>\r\n");
      out.write("  <button class=\"tablinks\" onclick=\"openDocument(event, 'ClientUploadDoc')\">&nbsp;Client's Uploads</button>\r\n");
      out.write("  <button class=\"tablinks\" onclick=\"openDocument(event, 'HistoryUploadDoc')\">&nbsp;Upload History</button>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05 tabcontent\" style=\"display:block;\" id=\"AgentUploadDoc\">\r\n");
      out.write("<div class=\"clearfix mb10\">\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");
      out.write("   <div class=\"col-xs-3 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\">Date</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-7 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" title=\"\">Documents Name</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-2 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\">Action</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div> \r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" id=\"DocumentListBox\">\r\n");
      out.write("<div class=\"clearfix\" id=\"DocumentListBox1\">\r\n");

String doclist[][]=TaskMaster_ACT.getSalesDocumentList(salesrefid,token,"Agent");
String invoice=TaskMaster_ACT.getSalesInvoiceNumber(salesrefid, token);
double orderAmount=TaskMaster_ACT.getOrderAmount(invoice, token);
// double dueAmount=Clientmaster_ACT.getSalesDueAmount(invoice,token); 
boolean isExist=TaskMaster_ACT.isDisperseExist(salesrefid, token);
double orderPaidAmount[]=null;
if(isExist)
 	orderPaidAmount=TaskMaster_ACT.getSalesOrderAndPaidAmount(salesrefid,token); 
else
	orderPaidAmount=TaskMaster_ACT.getSalesOrderAndPaidAmountByInvoice(invoice,token);
double payPercent=100;
if(orderPaidAmount[1]!=0&&orderPaidAmount[0]!=0)
	payPercent=(orderPaidAmount[1]*100)/orderPaidAmount[0];

if(doclist!=null&&doclist.length>0){
	for(int i=0;i<doclist.length;i++){
		boolean fileExist=false;
		if(doclist[i][4]!=null&&!doclist[i][4].equalsIgnoreCase("NA"))
			fileExist=CommonHelper.isFileExists(doclist[i][4],azure_key,azure_container);
		
// 		System.out.println(doclist[i][4]+"#"+fileExist);
			

      out.write("\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");
      out.write("   <div class=\"col-xs-3 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" id=\"DocumentListDateId");
      out.print(i);
      out.write('"');
      out.write('>');
      out.print(doclist[i][5] );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-7 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" title=\"");
      out.print(doclist[i][2] );
      out.write('"');
      out.write('>');
      out.print(doclist[i][1] );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-2 box-intro-background\">\r\n");
      out.write("   <form class=\"upload-box");
      out.print(i );
      out.write("\" onsubmit=\"return false\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" style=\"font-size: 15px;\">\r\n");
      out.write("	   ");
if(doclist[i][4]!=null&&doclist[i][4].length()>0&&!doclist[i][4].equalsIgnoreCase("NA")&&fileExist){ 
      out.write("\r\n");
      out.write("	   <a class=\"bg_none colorNone MainDownloadIcon");
      out.print(i );
      out.write("\" href=\"");
      out.print(azure_path);
      out.print(doclist[i][4] );
      out.write("\" download><i class=\"fas fa-arrow-down pointers\" title=\"Download this document\"></i></a>\r\n");
      out.write("       ");
}
      out.write("\r\n");
      out.write("      <span id=\"AppendDocDownload");
      out.print(i );
      out.write("\"></span>\r\n");
      out.write("       <span style=\"margin-right: 3px;\">\r\n");
      out.write("       <input id=\"fileInput");
      out.print(i );
      out.write("\" name=\"fileInput");
      out.print(i );
      out.write("\" type=\"file\" onchange=\"uploadFile('upload-box");
      out.print(i );
      out.write("','MainDownloadIcon");
      out.print(i );
      out.write("','AppendDocDownload");
      out.print(i );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(doclist[i][0] );
      out.write("','fileInput");
      out.print(i );
      out.write("','DocumentListDateId");
      out.print(i);
      out.write("')\" style=\"display:none;\">\r\n");
      out.write("       <button onclick=\"document.getElementById('fileInput");
      out.print(i );
      out.write("').click();\" style=\"border: none;background: #ffff;\" title=\"Upload this document\"><i class=\"fas fa-file\"></i></button>\r\n");
      out.write("       </span>\r\n");
      out.write("       ");
if(Double.parseDouble(doclist[i][6])<=payPercent&&fileExist){ 
      out.write("\r\n");
      out.write("       <button onclick=\"sendDocumentEmail('");
      out.print(doclist[i][0]);
      out.write("')\" style=\"border: none;background: #ffff;\" title=\"Click to send to client\">\r\n");
      out.write("       <i class=\"fas fa-envelope pointers\"></i></button>\r\n");
      out.write("       ");
} 
      out.write("\r\n");
      out.write("       </p>\r\n");
      out.write("       </div>\r\n");
      out.write("      </form>\r\n");
      out.write("   </div>                                         \r\n");
      out.write("</div>\r\n");
}} 
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"AppendNewAgentDocList\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row pointers\" style=\"float: right;margin-right: 31px;\"><a data-toggle=\"modal\" data-target=\"#AddNewDocumentList\" onclick=\"$('#AddNewDocumentListForm').trigger('reset')\">+&nbsp;New Document</a></div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05 tabcontent\" style=\"display:none;\" id=\"ClientUploadDoc\">\r\n");
      out.write("<div class=\"clearfix mb10\">\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");
      out.write("   <div class=\"col-xs-3 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\">Date</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-7 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" title=\"\">Documents Name</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-2 box-intro-bg\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\">Action</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div> \r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix\" id=\"DocumentListBox2\">\r\n");
      out.write("<div class=\"clearfix\" id=\"DocumentListBox3\">\r\n");

String doclist1[][]=TaskMaster_ACT.getSalesDocumentList(salesrefid,token,"Client");
if(doclist1!=null&&doclist1.length>0){
	for(int i=0;i<doclist1.length;i++){
		boolean fileExist=false;
		if(doclist1[i][4]!=null&&!doclist1[i][4].equalsIgnoreCase("NA"))
			fileExist=CommonHelper.isFileExists(doclist1[i][4],azure_key,azure_container);

      out.write("\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");
      out.write("   <div class=\"col-xs-3 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" id=\"DocumentListDateId1");
      out.print(i);
      out.write('"');
      out.write('>');
      out.print(doclist1[i][5] );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-7 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" title=\"");
      out.print(doclist1[i][2] );
      out.write('"');
      out.write('>');
      out.print(doclist1[i][1] );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-2 box-intro-background\">\r\n");
      out.write("   <form class=\"upload-box1");
      out.print(i );
      out.write("\" onsubmit=\"return false\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" style=\"font-size: 15px;\">\r\n");
      out.write("	   ");
if(doclist1[i][4]!=null&&doclist1[i][4].length()>0&&!doclist1[i][4].equalsIgnoreCase("NA")&&fileExist){ 
      out.write("\r\n");
      out.write("	   <a class=\"bg_none colorNone MainDownloadIcon1");
      out.print(i );
      out.write("\" href=\"");
      out.print(azure_path);
      out.print(doclist1[i][4] );
      out.write("\" download><i class=\"fas fa-arrow-down pointers\" title=\"Download this document\"></i></a>\r\n");
      out.write("       ");
}
      out.write("\r\n");
      out.write("      <span id=\"AppendDocDownload1");
      out.print(i );
      out.write("\"></span>\r\n");
      out.write("       <span style=\"margin-right: 3px;\">\r\n");
      out.write("       <input id=\"fileInput1");
      out.print(i );
      out.write("\" name=\"fileInput1");
      out.print(i );
      out.write("\" type=\"file\" onchange=\"uploadFile('upload-box1");
      out.print(i );
      out.write("','MainDownloadIcon1");
      out.print(i );
      out.write("','AppendDocDownload1");
      out.print(i );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(doclist1[i][0] );
      out.write("','fileInput1");
      out.print(i );
      out.write("','DocumentListDateId1");
      out.print(i);
      out.write("')\" style=\"display:none;\">\r\n");
      out.write("       <button onclick=\"document.getElementById('fileInput1");
      out.print(i );
      out.write("').click();\" style=\"border: none;background: #ffff;\" title=\"Upload this document\"><i class=\"fas fa-file\"></i></button>\r\n");
      out.write("       </span>");
if(doclist1[i][7].equalsIgnoreCase("2")){ 
      out.write("       \r\n");
      out.write("       <a class=\"bg_none colorNone\" href=\"javascript:void(0)\" onclick=\"reUploadRequest('");
      out.print(doclist1[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(salesrefid);
      out.write("')\"><i class=\"fa fa-retweet pointers\" title=\"Request To Re-Upload\"></i></a>\r\n");
      out.write("		");
}else{ 
      out.write("\r\n");
      out.write("		<a class=\"bg_none colorNone\" href=\"javascript:void(0)\" data-toggle=\"modal\" data-target=\"#ReUploadInProgress\"><i class=\"fa fa-spinner pointers\" title=\"Re-Upload In Progress\"></i></a>\r\n");
      out.write("		");
} 
      out.write("\r\n");
      out.write("       </p>\r\n");
      out.write("       </div>\r\n");
      out.write("      </form>\r\n");
      out.write("   </div>                                         \r\n");
      out.write("</div>\r\n");
}} 
      out.write("\r\n");
      out.write("<div class=\"clearfix\" id=\"AppendNewClientDocList\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"row pointers\" style=\"float: right;margin-right: 31px;\"><a data-toggle=\"modal\" data-target=\"#AddNewDocumentList\" onclick=\"$('#AddNewDocumentListForm').trigger('reset')\">+&nbsp;New Document</a></div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05 tabcontent\" style=\"display:none;\" id=\"HistoryUploadDoc\">\r\n");
      out.write("<div class=\"clearfix mb10\">\r\n");
      out.write("\r\n");

String docAction[][]=TaskMaster_ACT.getDocumentActionHistory(salesrefid,token);
if(docAction!=null&&docAction.length>0){
	for(int i=0;i<docAction.length;i++){
	String remarks=docAction[i][2];
	boolean status=false;
	if(docAction[i][3].equalsIgnoreCase("Upload")){
		remarks+=" uploaded by "+docAction[i][5];
		status=true;
	}else if(docAction[i][3].equalsIgnoreCase("Create")){
		remarks+=" created by "+docAction[i][5];
		status=false;
	}else if(docAction[i][3].equalsIgnoreCase("Share")){
		remarks+=" shared by "+docAction[i][5];
		status=false;
	}
	boolean existDoc=false;
	if(docAction[i][9]!=null&&docAction[i][9].length()>0&&!docAction[i][9].equalsIgnoreCase("NA"))existDoc=true;
	boolean fileExist=false;
		if(existDoc)
			fileExist=CommonHelper.isFileExists(docAction[i][9], azure_key, azure_container);
		

      out.write("\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");
      out.write("   <div class=\"col-xs-2 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" id=\"");
      out.print(docAction[i][7] );
      out.write('"');
      out.write('>');
      out.print(docAction[i][7] );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>\r\n");
      out.write("   <div class=\"col-xs-9 box-intro-background\">\r\n");
      out.write("       <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\" title=\"");
      out.print(remarks );
      out.write('"');
      out.write('>');
      out.print(remarks );
      out.write("</p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div> \r\n");
      out.write("   <div class=\"col-xs-1 box-intro-background\">\r\n");
      out.write("      <div class=\"clearfix\">\r\n");
      out.write("       <p class=\"news-border\">");
if(userRole.equalsIgnoreCase("Admin")&&status){ 
      out.write("\r\n");
      out.write("       <a id=\"Download");
      out.print(docAction[i][0] );
      out.write('"');
      out.write(' ');
if(existDoc&&fileExist){
      out.write("href=\"");
      out.print(azure_path);
      out.print(docAction[i][9] );
      out.write("\" download");
}else{ 
      out.write("data-toggle=\"modal\" data-target=\"#NoDocument\"");
} 
      out.write("><i class=\"fas fa-arrow-down ");
if(!existDoc){
      out.write("text-muted");
}
      out.write("\"></i></a>&nbsp;\r\n");
      out.write("       <a id=\"Delete");
      out.print(docAction[i][0] );
      out.write('"');
      out.write(' ');
if(existDoc&&fileExist){
      out.write("onclick=\"deleteDocument('");
      out.print(docAction[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(docAction[i][9] );
      out.write('\'');
      out.write(')');
      out.write('"');
}else{ 
      out.write("data-toggle=\"modal\" data-target=\"#NoDocument\"");
} 
      out.write("><i class=\"fas fa-trash  ");
if(!existDoc&&!fileExist){
      out.write("text-muted");
}else{
      out.write("text-danger");
}
      out.write("\"></i></a>");
}else{ 
      out.write("\r\n");
      out.write("       <a href=\"#\" data-toggle=\"modal\" data-target=\"#PermissionNot\"><i class=\"fas fa-arrow-down text-muted\"></i></a>\r\n");
      out.write("       <a href=\"#\" data-toggle=\"modal\" data-target=\"#PermissionNot\"><i class=\"fas fa-trash text-muted\"></i></a>\r\n");
      out.write("       ");
} 
      out.write("\r\n");
      out.write("       </p>\r\n");
      out.write("       </div>\r\n");
      out.write("   </div>                                         \r\n");
      out.write("</div>\r\n");
}}else{ 
      out.write("\r\n");
      out.write("<div class=\"clearfix text-center text-danger noDataFound mt-10\">No Data Found</div>\r\n");
} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<!-- Tool Tip -->\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"Task_Step\" style=\"display: none;\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\"></i></div>\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3 style=\"color: #42b0da;\"><i class=\"fa fa-file-o\"></i>Task Step : <span id=\"TaskMilestoneName\"></span></h3> \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix pad_box3 pad05\">\r\n");
      out.write("<div class=\"clearfix mb10\">\r\n");
      out.write("<div class=\"clearfix bg_wht link-style12\">\r\n");

//getting product key and milestome name 
String milestoneData[]=TaskMaster_ACT.getMilestoneData(milestoneKey,token);
String toolTip[][]=null;
if(milestoneData[0]!=null&&milestoneData[1]!=null){
	toolTip=TaskMaster_ACT.getAllStepGuide(milestoneData[0],milestoneData[1],token,jurisdiction);
}
if(toolTip!=null&&toolTip.length>0){
for(int i=0;i<toolTip.length;i++){
      out.write("\r\n");
      out.write("<h6>STEP - ");
      out.print(toolTip[i][2] );
      out.write("</h6>	\r\n");
      out.print(toolTip[i][0] );
      out.write("				\r\n");
if(toolTip[i][1]!=null&&!toolTip[i][1].equals("NA")){ 
      out.write("	\r\n");
      out.write("<span class=\"attachment\">\r\n");
      out.write("<div class=\"file-upload-box\">\r\n");
      out.write("<i class=\"far fa-file\"></i>\r\n");
      out.write("<span id=\"StepGuideFileName1\">");
      out.print(toolTip[i][1].substring(21) );
      out.write("</span>\r\n");
      out.write("<div class=\"action-btn\"><a href=\"");
      out.print(azure_path);
      out.print(toolTip[i][1] );
      out.write("\" download>\r\n");
      out.write("<i class=\"far fa-arrow-alt-circle-down\"></i></a>		\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</span>\r\n");
}}}else{
      out.write("\r\n");
      out.write("<h6>No tips provided !!</h6>\r\n");
} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix add_inner_box pad_box4 addcompany\" id=\"open_chat\" style=\"display: none;\">\r\n");
      out.write("<div class=\"close_icon close_box\"><i class=\"fa fa-times\"></i></div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix bdr_bt pad-lft10 pad-rt10 about-content\">\r\n");
      out.write("<div class=\"rttop_title\">\r\n");
      out.write("<h3>");
      out.print(productName );
      out.write("</h3> \r\n");
      out.write("<div class=\"clearfix communication_history1\"> \r\n");
      out.write("<span class=\"gray_txt pad-rt10 mrt10\">");
      out.print(companyname );
      out.write("</span>\r\n");
      out.write("\r\n");
      out.write("<span class=\"bg_circle relative_box filterBox_inner\"><span id=\"ChatReplyEmailId\">");
      out.print(contactEmail );
      out.write("</span><button type=\"button\" class=\"editBtn\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/edit_icon1.png\" alt=\"\"></button> \r\n");
      out.write("<ul class=\"filterBox_dropdown\">\r\n");
if(contact!=null&&contact.length>1){
	for(int i=1;i<contact.length;i++){
      out.write("\r\n");
      out.write("<li><a onclick=\"$('#ChatReplyEmailId').html('");
      out.print(contact[i][5] );
      out.write("')\">");
      out.print(contact[i][5] );
      out.write("</a></li>\r\n");
}} 
      out.write("\r\n");
      out.write("</ul>\r\n");
      out.write("</span>\r\n");
      out.write("<span class=\"gray_txt\">via <span class=\"bg_circle fa fa-user\">&nbsp;");
      out.print(loginUserName );
      out.write("</span></span> \r\n");
      out.write("</div> \r\n");
      out.write("</div> \r\n");
      out.write("<div class=\"clearfix nav-tabs-border\"> \r\n");
      out.write("<ul class=\"nav-tabs\">\r\n");
      out.write("<li class=\"active\" id=\"PublicreplyLi\" onclick=\"showChatReply('PublicreplyLi','InternalreplyLi','ReplyNotesBoxId','InternalNotesBoxId','ChatReplyButtonId')\"><a>Public reply</a></li> \r\n");
      out.write("<li id=\"InternalreplyLi\" onclick=\"showInternalReply('PublicreplyLi','InternalreplyLi','ReplyNotesBoxId','InternalNotesBoxId','ChatReplyButtonId')\"><a >Internal note</a></li>\r\n");
      out.write("</ul>\r\n");
      out.write("<form onsubmit=\"return false\" class=\"PublicChatReply\" id=\"PublicChatReplyFormId\">\r\n");
      out.write("<input type=\"hidden\" name=\"BoxContent\" id=\"BoxContent\">\r\n");
      out.write("<input type=\"hidden\" name=\"submitStatus\" id=\"SubmitStatus\">\r\n");
      out.write("<input type=\"hidden\" name=\"milestoneDataBoxId\" id=\"MilestoneDataBoxId\">\r\n");
      out.write("<input type=\"hidden\" name=\"salesrefId\" value=\"");
      out.print(salesrefid);
      out.write("\">\r\n");
      out.write("<input type=\"hidden\" name=\"clientrefId\" value=\"");
      out.print(clientKey);
      out.write("\">\r\n");
      out.write("<input type=\"hidden\" name=\"assigneeUId\" value=\"");
      out.print(assigneeUid);
      out.write("\">\r\n");
      out.write("<input type=\"hidden\" name=\"marefid\" value=\"");
      out.print(marefid);
      out.write("\">\r\n");
      out.write("<div class=\"clearfix box_shadow1 relative_box reply_box\" id=\"ReplyNotesBoxId\">\r\n");
      out.write("<div class=\"reply_box_title bdr_bt\">\r\n");
      out.write("<span><span>Starting Date:</span>\r\n");
      out.write("<span class=\"bg_circle\"><input type=\"datetime-local\" value=\"");
      out.print(workStarted );
      out.write('T');
      out.print(workStartedTime);
      out.write("\" readonly></span></span> \r\n");
      out.write("<span><span>Ending Date:</span>\r\n");
      out.write("\r\n");
      out.write("<span class=\"clearfix\" id=\"MilestoneEndDateId\"></span>\r\n");
      out.write("\r\n");
      out.write("</span>\r\n");
      out.write("</div>\r\n");
      out.write("<textarea class=\"ChatTextareaBox\" rows=\"2\" id=\"ChatTextareaBoxReply\" name=\"ChatTextareaBoxReply\" placeholder=\"Public reply here..... !!\"></textarea> \r\n");
      out.write("<textarea id=\"DynamicForData\" name=\"dynamicFormData\" style=\"display: none;\"></textarea>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix contentInnerBox3 box_shadow1 relative_box\" id=\"ChatReplyButtonId\">\r\n");
      out.write("<div class=\"col-md-6 col-sm-6 col-xs-12\">\r\n");
      out.write("\r\n");
      out.write("	<div class=\"editor_title\"> \r\n");
      out.write("	<a class=\"pad-rt10 pointers\" onclick=\"$('#ChatTextareaBoxReply+.cke_editor_ChatTextareaBoxReply .cke_top').toggleClass('DispNone');\" title=\"Editor\">T</a> \r\n");
      out.write("	<input type=\"file\" name=\"AttachChatFile\" id=\"AttachChatFile\" onchange=\"fileSize('AttachChatFile')\" style=\"display: none;\"> \r\n");
      out.write("	<a class=\"pad-rt10 pointers\" onclick=\"$('#AttachChatFile').click()\" title=\"Attact File\"><i class=\"fa fa-paperclip\"></i></a>\r\n");
      out.write("	<a class=\"pad-rt10 pointers\" data-toggle=\"modal\" data-target=\"#DynamicFormModal\" onclick=\"$('#DynamicFormName').val('')\" title=\"Create dynami form !!\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/dynamic.png\" alt=\"\"></a>\r\n");
      out.write("	<a class=\"pad-rt10 pointers\" data-toggle=\"modal\" data-target=\"#newSMSTemplate\" title=\"SMS\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/message.png\" alt=\"\"></a>\r\n");
      out.write("	<a class=\"pointers\" title=\"Email\" data-toggle=\"modal\" data-target=\"#newEmailTemplate\"><i class=\"fa fa-envelope-o\"></i></a>\r\n");
      out.write("	</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"pad0 text-right col-md-6 col-sm-6 col-xs-12 Task_Box\">\r\n");
      out.write("<select id=\"ChatReplyBoxTaskId\">	\r\n");
      out.write("	<option value=\"");
      out.print(milestoneKey);
      out.write('#');
      out.print(milestoneName );
      out.write('"');
      out.write('>');
      out.print(milestoneName );
      out.write("</option>\r\n");
      out.write("</select>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</form>\r\n");
      out.write("<div class=\"clearfix box_shadow1 relative_box reply_box toggle_box\" id=\"InternalNotesBoxId\">\r\n");
      out.write("<!-- <textarea class=\"ChatTextareaBox1\" rows=\"5\" id=\"ChatTextareaBoxReplyInternotes\" placeholder=\"Internal notes here..... !!\"></textarea>  -->\r\n");
      out.write("<textarea id=\"ChatTextareaBoxReply1\" name=\"ChatTextareaBoxReply1\"></textarea>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div id=\"reload\">\r\n");
      out.write("<div class=\"row\">\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 cmhistscrollInternal internalNotes toggle_box\"> \r\n");
      out.write("<div class=\"clearfix\" id=\"TaskChatInternalHistroy\">\r\n");
      out.write("<div class=\"clearfix\" id=\"TaskChatInternalHistroy1\">\r\n");

String internalNotes[][]=TaskMaster_ACT.getProjectsInternalNotes(salesrefid,uaid,userRole,teamLeaderUid,token);
if(internalNotes!=null&&internalNotes.length>0){
	for(int i=0;i<internalNotes.length;i++){
		String time=DateUtil.getHoursMinutes(internalNotes[i][1]);

      out.write("\r\n");
      out.write("<div class=\"contentInnerBox3 box_shadow1 relative_box mb10 mtop10\">\r\n");
      out.write("	<div class=\"sms_head note_box\">\r\n");
      out.write("	<div class=\"note_box_inner\">\r\n");
      out.write("	");
      out.print(internalNotes[i][3] );
      out.write("\r\n");
      out.write("	</div>\r\n");
      out.write("	<span class=\"icon_box1 text-center\" title=\"Corpseed private limited !!\">");
      out.print(internalNotes[i][4].substring(0,2) );
      out.write("</span>\r\n");
      out.write("	</div>	\r\n");
      out.write("	<div class=\"sms_title\" id=\"DisplayNoneTimerId24\"> \r\n");
      out.write("	<label class=\"pad-rt10\"><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/long_arrow_down.png\" alt=\"\">&nbsp; ");
      out.print(internalNotes[i][2] );
      out.write("</label>  \r\n");
      out.write("	<span class=\"gray_txt bdr_bt pad-rt10\" id=\"TimeCalculator24\">");
      out.print(time );
      out.write("</span>\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("	");
}}else{ 
      out.write("\r\n");
      out.write("	<div class=\"clearfix text-center text-danger noDataFound\">No Data Found</div>\r\n");
      out.write("	");
} 
      out.write("\r\n");
      out.write("	</div>\r\n");
      out.write("	</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"col-md-12 col-sm-12 col-xs-12 cmhistscroll\">\r\n");
      out.write("<div class=\"clearfix communication_history\">\r\n");
      out.write("<div class=\"clearfix\" id=\"TaskChatHistroy\">\r\n");
      out.write("<div class=\"clearfix\" id=\"TaskChatHistroy1\">\r\n");

String followUp[][]=TaskMaster_ACT.getProjectsFollowUp(salesrefid,uaid,userRole,teamLeaderUid,token);
if(followUp!=null&&followUp.length>0){
	for(int i=0;i<followUp.length;i++){
		String icon=followUp[i][11].substring(0,2);
		//getting extension and file size
		String fileName=followUp[i][6];
		String extension="";
		String size="";
		Path path=null;
		if(followUp[i][6]!=null&&!followUp[i][6].equalsIgnoreCase("NA")&&followUp[i][6].length()>0){
			boolean fileExist=CommonHelper.isFileExists(fileName, azure_key, azure_container);
			long bytes=0;
			if(fileExist){
				bytes=CommonHelper.getBlobSize(fileName,azure_key,azure_container);
			}
			long kb=bytes/1024;
			long mb=kb/1024;	
			
			if(mb>=1)size=mb+" MB";
			else if(kb>=1) size=kb+" KB";
			else size=bytes+" bytes";
			int index=followUp[i][6].lastIndexOf(".");
			extension=followUp[i][6].substring(index);
		}
		String msgFrom=Usermaster_ACT.getUserType(followUp[i][10],token);
		if(msgFrom.equalsIgnoreCase("Client")){
			

      out.write("\r\n");
      out.write("<div class=\"communication_item clearfix\">\r\n");
      out.write("<div class=\"communication_item_lft\">\r\n");
      out.write("<span class=\"admin_icon\">");
      out.print(icon );
      out.write("</span>\r\n");
      out.write("<div class=\"clearfix communication_info\">\r\n");
      out.write("<span class=\"cmhistname\">");
      out.print(followUp[i][11] );
if(followUp[i][12]!=null&&followUp[i][12].length()>0&&!followUp[i][12].equalsIgnoreCase("NA")){ 
      out.write("&nbsp;&nbsp;<i class=\"fa fa-caret-right\"></i>&nbsp;");
      out.print(followUp[i][12]);
} 
      out.write("</span>\r\n");
      out.write("<span class=\"clearfix cmhistmsg\">\r\n");
      out.write("<span>");
      out.print(followUp[i][5] );
      out.write("</span>\r\n");
      out.write("</span>\r\n");
if(followUp[i][6]!=null&&!followUp[i][6].equalsIgnoreCase("NA")&&followUp[i][6].length()>0){
      out.write("\r\n");
      out.write("<div class=\"clearfix download_file\">\r\n");
      out.write("<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"");
      out.print(followUp[i][6].substring(21) );
      out.write('"');
      out.write('>');
      out.print(followUp[i][6].substring(21) );
      out.write("</span></span>\r\n");
      out.write("<a href=\"");
      out.print(azure_path);
      out.print(followUp[i][6]);
      out.write("\" download><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>\r\n");
      out.write("<div class=\"download_size\"><span>");
      out.print(size );
      out.write(' ');
      out.write(' ');
      out.print(extension.toUpperCase());
      out.write("</span><span>");
      out.print(followUp[i][8] );
      out.write("</span></div>\r\n");
      out.write("</div>\r\n");
} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
}else{ 
      out.write("\r\n");
      out.write("<div class=\"communication_item_rt clearfix\">\r\n");
      out.write("<div class=\"clearfix communication_info\">\r\n");
      out.write("<span class=\"cmhistname\">");
      out.print(followUp[i][11] );
      out.write("</span>\r\n");
      out.write("<span class=\"clearfix cmhistmsg\">\r\n");
      out.write("<span>");
      out.print(followUp[i][5] );
if(followUp[i][4]!=null&&followUp[i][4].length()>0&&!followUp[i][4].equalsIgnoreCase("NA")){ 
      out.write("\r\n");
      out.write("<a class=\"setData\" onclick=\"setFollowUpId('");
      out.print(followUp[i][0] );
      out.write('\'');
      out.write(',');
      out.write('\'');
      out.print(followUp[i][14] );
      out.write("')\" style=\"color:#fff;\"><u>");
      out.print(followUp[i][14] );
      out.write("</u>\r\n");
if(followUp[i][13].equalsIgnoreCase("1")){ 
      out.write("&nbsp;&nbsp;<i class=\"fa fa-check-circle\"></i>");
} 
      out.write("\r\n");
      out.write("</a>");
} 
      out.write("</span>\r\n");
      out.write("</span>\r\n");
if(followUp[i][6]!=null&&!followUp[i][6].equalsIgnoreCase("NA")&&followUp[i][6].length()>0){
      out.write("\r\n");
      out.write("<div class=\"clearfix download_file\">\r\n");
      out.write("<div class=\"download_box\"><span><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/file.png\" alt=\"\"><span title=\"");
      out.print(followUp[i][6].substring(21) );
      out.write('"');
      out.write('>');
      out.print(followUp[i][6].substring(21) );
      out.write("</span></span>\r\n");
      out.write("<a href=\"");
      out.print(azure_path);
      out.print(followUp[i][6]);
      out.write("\" download><img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/download.png\" alt=\"\"></a></div>\r\n");
      out.write("<div class=\"download_size\"><span>");
      out.print(size );
      out.write(' ');
      out.write(' ');
      out.print(extension.toUpperCase());
      out.write("</span><span>");
      out.print(followUp[i][8] );
      out.write("</span></div>\r\n");
      out.write("</div>\r\n");
} 
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<span class=\"admin_icon\">");
      out.print(icon );
      out.write("</span>\r\n");
      out.write("</div>\r\n");
}}}else{ 
      out.write("\r\n");
      out.write("<div class=\"clearfix text-center text-danger noDataFound\" id=\"NoDataFoundMsg\">No Data Found</div>\r\n");
} 
      out.write("\r\n");
      out.write("<div id=\"scrolling-messages\" class=\"scrolling-messages\"></div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"clearfix about-content text-right pad-lft10 pad-rt10 communication_history1\"> \r\n");
      out.write("    <button class=\"bt-link bt-radius bt-loadmore mrt10 close_box btn-cancel\" type=\"button\">Cancel</button>\r\n");
      out.write("	\r\n");
      out.write("	<span class=\"relative_box submit_as\"><button class=\"bt-link bt-radius bt-loadmore\" type=\"button\">Submit As</button>\r\n");
      out.write("		<ul class=\"filterBox_dropdown\" id=\"chatReplyList\">  \r\n");
      out.write("		<li><a onclick=\"validateChatReply('Pending')\"><span class=\"dot_circle_pending\"></span>Pending</a></li>\r\n");
      out.write("		<li><a onclick=\"validateChatReply('On-hold')\"><span class=\"dot_circle_hold\"></span>On-hold</a></li>\r\n");
      out.write("		<li><a onclick=\"validateChatReply('Open')\"><span class=\"dot_circle_open\"></span>Open</a></li>\r\n");
      out.write("		");
if(taskProgress==100){ 
      out.write("<li class=\"appendedList\"><a onclick=\"validateChatReply('Completed')\"><span class=\"dot_circle_completed\"></span>Completed</a></li>");
} 
      out.write("\r\n");
      out.write("		</ul>\r\n");
      out.write("	</span>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"clearfix about-content text-right pad-lft10 pad-rt10 internalNotes toggle_box\"> \r\n");
      out.write("    <button class=\"bt-link bt-radius bt-loadmore mrt10 close_box btn-cancel\" type=\"button\">Cancel</button>\r\n");
      out.write("	<span class=\"relative_box\"><button class=\"bt-link bt-radius bt-loadmore\" type=\"button\" onclick=\"return validateInternalNotes()\">Submit</button>	\r\n");
      out.write("	</span> \r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"myModal modal fade template\" id=\"holdWarning\" aria-modal=\"false\" style=\"padding-right: 17px; display: none;\">\r\n");
      out.write("    <div class=\"modal-dialog\">\r\n");
      out.write("      <div class=\"modal-content\">\r\n");
      out.write("        <div class=\"modal-header\">\r\n");
      out.write("          <h4 class=\"modal-title\"><i class=\"fas fa-question font25\" aria-hidden=\"true\"></i>Task Hold Reason</h4>  \r\n");
      out.write("          <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("        </div>\r\n");
      out.write("        <form method=\"post\" onsubmit=\"return false\">\r\n");
      out.write("        <div class=\"modal-body\">          \r\n");
      out.write("		  <div class=\"tab-content\">		  \r\n");
      out.write("		  <div id=\"pay_method2\">\r\n");
      out.write("		    <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Type<sup class=\"text-danger\">*</sup></label>\r\n");
      out.write("            <select class=\"form-control\" id=\"holdChatType\" name=\"\">\r\n");
      out.write("            	<option value=\"\">Select type</option>\r\n");
      out.write("            	<option value=\"Government\">Government</option>\r\n");
      out.write("            	<option value=\"Client\">Client</option>\r\n");
      out.write("            	<option value=\"Resubmission/Query\">Resubmission/Query</option>\r\n");
      out.write("            	<option value=\"Vendor\">Vendor</option>\r\n");
      out.write("            </select>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>		 \r\n");
      out.write("            <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Reason/Remarks<sup class=\"text-danger\">*</sup></label>\r\n");
      out.write("            <textarea class=\"form-control\" style=\"min-height: 80px\" rows=\"3\" name=\"holdReason\" id=\"holdReason\" placeholder=\"Describe task hold reason....\" autocomplete=\"off\"></textarea>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("          </div>\r\n");
      out.write("		  </div>  		  \r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"modal-footer flex-end\">\r\n");
      out.write("          <button type=\"button\" class=\"btn btn-cancel bt-link bt-radius\" data-dismiss=\"modal\">Cancel</button> \r\n");
      out.write("          <button type=\"submit\" class=\"bt-link bt-radius bt-loadmore\" onclick=\"validateHoldReply('On-hold')\">Submit</button> \r\n");
      out.write("        </div>\r\n");
      out.write("        </form>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("<div class=\"myModal modal fade template\" id=\"newSMSTemplate\" aria-modal=\"false\" style=\"padding-right: 17px; display: none;\">\r\n");
      out.write("    <div class=\"modal-dialog\">\r\n");
      out.write("      <div class=\"modal-content\">\r\n");
      out.write("        <div class=\"modal-header\">\r\n");
      out.write("          <h4 class=\"modal-title\"><i class=\"fas fa-sms font25\" aria-hidden=\"true\"></i>SMS</h4>  \r\n");
      out.write("          <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("        </div>\r\n");
      out.write("        <form method=\"post\" onsubmit=\"return false\">\r\n");
      out.write("        <div class=\"modal-body\">          \r\n");
      out.write("		  <div class=\"tab-content\">		  \r\n");
      out.write("		  <div id=\"pay_method2\">\r\n");
      out.write("		    <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>SMS To :</label>\r\n");
      out.write("            <input type=\"text\" maxlength=\"14\" value=\"");
      out.print(contactPhone );
      out.write("\" class=\"form-control\" name=\"mobile\" id=\"SMS_Mobile\" placeholder=\"SMS To...\" autocomplete=\"off\">\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>		 \r\n");
      out.write("            <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Message</label>\r\n");
      out.write("            <textarea class=\"form-control\" name=\"sms_description\" id=\"SMS_Description\" placeholder=\"Description...\" autocomplete=\"off\">\r\n");
      out.write("            <p>Dear, ");
      out.print(contactName );
      out.write(" </p><p>You have new follow-up on project number <b>");
      out.print(projectNo );
      out.write("</b></p>\r\n");
      out.write("            </textarea>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("          </div>\r\n");
      out.write("		  </div>  		  \r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"modal-footer flex-end\">\r\n");
      out.write("          <button type=\"button\" class=\"btn btn-cancel bt-link bt-radius\" data-dismiss=\"modal\">Cancel</button> \r\n");
      out.write("          <button type=\"submit\" class=\"bt-link bt-radius bt-loadmore\" data-dismiss=\"modal\">Save</button> \r\n");
      out.write("        </div>\r\n");
      out.write("        </form>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"modal fade\" id=\"PermissionNot\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span><span class=\"text-danger\">Either document not exist or you haven't permission..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("  <div class=\"modal fade\" id=\"NoDocument\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span><span class=\"text-danger\">Sorry , Document doesn't exist..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write(" <div class=\"myModal modal fade template\" id=\"newEmailTemplate\" aria-modal=\"false\" style=\"padding-right: 17px; display: none;\">\r\n");
      out.write("    <div class=\"modal-dialog\">\r\n");
      out.write("      <div class=\"modal-content\">\r\n");
      out.write("        <div class=\"modal-header\">\r\n");
      out.write("          <h4 class=\"modal-title\"><i class=\"far fa-envelope\" aria-hidden=\"true\"></i>Email</h4>  \r\n");
      out.write("          <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("        </div>\r\n");
      out.write("        <form method=\"post\" onsubmit=\"return false\">\r\n");
      out.write("        <div class=\"modal-body\">          \r\n");
      out.write("		  <div class=\"tab-content\">		  \r\n");
      out.write("		  <div id=\"pay_method2\">\r\n");
      out.write("		  <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Email To :</label>\r\n");
      out.write("            <input type=\"text\" class=\"form-control\" name=\"email_to\" value=\"");
      out.print(contactEmail );
      out.write("\" id=\"Email_To\" placeholder=\"Email to...\" autocomplete=\"off\">\r\n");
      out.write("            </div>\r\n");
      out.write("            </div> \r\n");
      out.write("            <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Subject :</label>\r\n");
      out.write("            <input type=\"text\" class=\"form-control\" name=\"email_subject\" value=\"New Follow-Up\" id=\"Email_Subject\" placeholder=\"Subject...\" autocomplete=\"off\">\r\n");
      out.write("            </div>\r\n");
      out.write("            </div> \r\n");
      out.write("            <div class=\"row mb10\">\r\n");
      out.write("            <div class=\"form-group-payment col-md-12 col-sm-12 col-12\">\r\n");
      out.write("			<label>Message</label>\r\n");
      out.write("            <textarea class=\"form-control\" name=\"Email_description\" id=\"Email_Description\" placeholder=\"Description...\" autocomplete=\"off\"><p>Dear, ");
      out.print(contactName );
      out.write(" </p>\r\n");
      out.write("            <p>You have new follow-up on project number <a href=\"");
      out.print(domain);
      out.write("\"><b>");
      out.print(projectNo );
      out.write("</b></a></p>\r\n");
      out.write("            </textarea>\r\n");
      out.write("            </div>\r\n");
      out.write("            </div>\r\n");
      out.write("          </div>\r\n");
      out.write("		  </div>  		  \r\n");
      out.write("        </div>\r\n");
      out.write("         \r\n");
      out.write("        <div class=\"modal-footer flex-end\">\r\n");
      out.write("          <button type=\"button\" class=\"btn btn-cancel bt-link bt-radius\" data-dismiss=\"modal\">Cancel</button> \r\n");
      out.write("          <button type=\"submit\" class=\"bt-link bt-radius bt-loadmore\" data-dismiss=\"modal\">Save</button> \r\n");
      out.write("        </div>\r\n");
      out.write("        </form>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("  <div class=\"modal fade\" id=\"warningDeleteFile\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title fas fa-exclamation-triangle text-danger\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\">&nbsp;&nbsp;Do you really want to delete this document ?</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\" style=\"margin-top: 0px;\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>   \r\n");
      out.write("      <input type=\"hidden\" id=\"deleteTemplateId\" value=\"NA\">\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("      <input type=\"hidden\" id=\"SalesDocumentId\">\r\n");
      out.write("      <input type=\"hidden\" id=\"SalesDocumentName\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" onclick=\"deleteDocument('NA','NA');\">Yes</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("  <div class=\"modal fade\" id=\"warningtransferRetrieve\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title fas fa-exclamation-triangle text-danger\" id=\"transferRetrieveHead\" style=\"padding-bottom: 6px;\">&nbsp;&nbsp;Do you want to transfer this milestone ?</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\" style=\"margin-top: 0px;\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>  \r\n");
      out.write("       <div class=\"modal-body\" style=\"border-bottom: 1px solid #e5e5e5;\" id=\"transferRetrieveBody\">\r\n");
      out.write("       NOTE - System will update the client on the registered email for transferring the task.\r\n");
      out.write("       </div>\r\n");
      out.write("       <input type=\"hidden\" id=\"TransferKeyModal\">\r\n");
      out.write("       <input type=\"hidden\" id=\"TransferKeyStatusModal\">\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">No</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\" onclick=\"transferRetrieve('NA','0')\">Yes</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"AddNewDocumentList\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"DocumentListModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("  <form onsubmit=\"return false\" id=\"AddNewDocumentListForm\">\r\n");
      out.write("  <div class=\"modal-content\">\r\n");
      out.write("  	 <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" >+&nbsp;Document List : <span style=\"color:#357b8bf5;\" id=\"RegisterNewDocList\"></span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("		<div class=\"col-md-12 pad05 pad-top5\">\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("				<input type=\"text\" placeholder=\"Document name\" autocomplete=\"off\" name=\"NewDocumentName\" id=\"NewDocumentName\" class=\"form-control\">\r\n");
      out.write("			</div>\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("				<select class=\"form-control\" autocomplete=\"off\" name=\"DocumentUploadBy\" id=\"DocumentUploadBy\">\r\n");
      out.write("					<option value=\"\">Upload By</option>\r\n");
      out.write("					<option value=\"Client\">Client</option>\r\n");
      out.write("					<option value=\"Agent\">Agent</option>\r\n");
      out.write("				</select>\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<textarea rows=\"5\" placeholder=\"Document description....\" autocomplete=\"off\" name=\"DocumentUploadRemarks\" id=\"DocumentUploadRemarks\" class=\"form-control\"></textarea>\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>		\r\n");
      out.write("		</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		 <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" id=\"btnclick12\" onclick=\"validateDocumentList()\">Submit</button>\r\n");
      out.write("      </div> \r\n");
      out.write("      </div>\r\n");
      out.write("	</form>  \r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"replyNotesWritten\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"replyNotesWritten\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("  <form onsubmit=\"return false\" class=\"upload-box\">\r\n");
      out.write("  <div class=\"modal-content\">\r\n");
      out.write("  	 <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" >+&nbsp;Reply</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("		<div class=\"col-md-12 pad05 pad-top5\">\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<label>Comment</label>\r\n");
      out.write("				<textarea rows=\"5\" name=\"notes_reply\" id=\"notes_reply\" class=\"form-control\"></textarea>\r\n");
      out.write("			</div>	\r\n");
      out.write("		</div>			\r\n");
      out.write("		</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		 <div class=\"modal-footer\">\r\n");
      out.write("		 <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("         <button type=\"button\" class=\"btn btn-primary\" onclick=\"return saveNotesReply('NA','NA')\">Submit</button>\r\n");
      out.write("      </div> \r\n");
      out.write("      </div>\r\n");
      out.write("	</form>  \r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"dateExtendRecord\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"dateExtendRecord\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("  <form onsubmit=\"return false\" class=\"upload-box\">\r\n");
      out.write("  <div class=\"modal-content\">\r\n");
      out.write("  	 <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" >+&nbsp;Date Extend Reason</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("		<div class=\"col-md-12 pad05 pad-top5\">\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-12\">\r\n");
      out.write("			<label>Comment</label>\r\n");
      out.write("				<textarea rows=\"5\" name=\"date_extend_comment\" id=\"date_extend_comment\" class=\"form-control\"></textarea>\r\n");
      out.write("			</div>	\r\n");
      out.write("		</div>			\r\n");
      out.write("		</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		 <div class=\"modal-footer\">\r\n");
      out.write("		 <input type=\"hidden\" id=\"deliveryDateTime\">\r\n");
      out.write("		 <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onclick=\"setOldDate()\">Cancel</button>\r\n");
      out.write("         <button type=\"button\" class=\"btn btn-primary\" onclick=\"return dateExtendRecord('NA')\">Submit</button>\r\n");
      out.write("      </div> \r\n");
      out.write("      </div>\r\n");
      out.write("	</form>  \r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"UpdateRenewal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"RenewalModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("  <form onsubmit=\"return false\" class=\"upload-box\">\r\n");
      out.write("  <div class=\"modal-content\">\r\n");
      out.write("  	 <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" >+&nbsp;Update Renewal</h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body\">\r\n");
      out.write("		<div class=\"col-md-12 pad05 pad-top5\">\r\n");
      out.write("		<div class=\"row location_box\">\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("			<label>Approval date</label>\r\n");
      out.write("				<input type=\"date\" name=\"ApprovalDate\" id=\"ApprovalDate\" class=\"form-control\">\r\n");
      out.write("			</div>						\r\n");
      out.write("			<div class=\"col-md-6\">\r\n");
      out.write("			<label>Renewal date</label>\r\n");
      out.write("				<input type=\"date\" name=\"RenewalDate\" id=\"RenewalDate\" class=\"form-control\">\r\n");
      out.write("			</div>\r\n");
      out.write("		</div>			\r\n");
      out.write("		</div>\r\n");
      out.write("		</div>\r\n");
      out.write("		 <div class=\"modal-footer\">\r\n");
      out.write("		 <input type=\"hidden\" name=\"UpdateAssignKey\" id=\"UpdateAssignKey\">\r\n");
      out.write("		 <input type=\"hidden\" name=\"UpdateWorkPercentageId\" id=\"UpdateWorkPercentageId\">\r\n");
      out.write("		 <input type=\"hidden\" name=\"UpdateSalesmilestonekey\" id=\"UpdateSalesmilestonekey\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-warning\" onclick=\"saveWorkNotApplicable()\">Not Applicable</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" onclick=\"proceesSaveWork()\">Submit</button>\r\n");
      out.write("      </div> \r\n");
      out.write("      </div>\r\n");
      out.write("	</form>  \r\n");
      out.write("  </div>\r\n");
      out.write("</div> \r\n");
      out.write("\r\n");
      out.write("<div class=\"modal fade\" id=\"documentSendWarning\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\">\r\n");
      out.write("        <span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-danger\">Want to share this document ?</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("      	<input type=\"hidden\" id=\"sendDocumentClientKey\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" style=\"width: 15%;\" onclick=\"sendDocumentEmail('NA')\">Yes</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"modal fade\" id=\"warningDocument\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span><span class=\"text-danger\">Sorry , Document Doesn't Exist..</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade form_Builder\" id=\"DynamicFormModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n");
      out.write("		<img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/form.png\" style=\"width: 19px;\">\r\n");
      out.write("		<span class=\"text-danger\">Dynamic Form Builder</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body warBody\">\r\n");
      out.write("        <div id=\"build-wrap\" class=\"build-wrap\"></div>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <div class=\"col-md-12 row\">\r\n");
      out.write("      <div class=\"col-md-4\">\r\n");
      out.write("      <select class=\"form-control select2\" id=\"DynamicFormTemplate\" onchange=\"setDynamicForm(this.value)\">\r\n");
      out.write("      	<option value=\"\">Select dynamic form template</option>\r\n");
      out.write("      	");
if(template!=null&&template.length>0){ 
      		for(int i=0;i<template.length;i++){
      	
      out.write("\r\n");
      out.write("        <option value=\"");
      out.print(template[i][0]);
      out.write('"');
      out.write('>');
      out.print(template[i][1]);
      out.write("</option>\r\n");
      out.write("        ");
}} 
      out.write("      \r\n");
      out.write("    </select>\r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"col-md-3\">\r\n");
      out.write("      <input type=\"text\" class=\"form-control\" autocomplete=\"off\" onchange=\"isTemplateNameExist('DynamicFormName')\" name=\"dynamicFormName\" id=\"DynamicFormName\" placeholder=\"Dynamic form name...\">      \r\n");
      out.write("    </div>\r\n");
      out.write("    <div class=\"col-md-5\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" id=\"onclearall\">Close</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-primary\" id=\"getJSON\">Send</button>\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-info\" onclick=\"saveAsTemplate()\">Save as template</button>\r\n");
      out.write("      </div>\r\n");
      out.write("      </div>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"ReUploadInProgress\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\" style=\"padding-bottom: 6px;\"><span class=\"fa fa-exclamation-triangle\" style=\"color: #ece521;margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-danger\">Re-Upload Document In Progress...</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <div class=\"modal-footer\">\r\n");
      out.write("        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" style=\"width: 15%;\">OK</button>\r\n");
      out.write("      </div>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade form_Builder set_form_Builder\" id=\"FilledDynamicFormData\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog form_show\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n");
      out.write("		<img src=\"");
      out.print(request.getContextPath() );
      out.write("/staticresources/images/form.png\" style=\"width: 19px;\">\r\n");
      out.write("		<span class=\"text-danger\">Dynamic Form</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>\r\n");
      out.write("      <div class=\"modal-body warBody\">\r\n");
      out.write("        <div id=\"Filledbuild-wrap\"></div>\r\n");
      out.write("      </div>      \r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<div class=\"modal fade\" id=\"serviceDetails\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n");
      out.write("  <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("    <div class=\"modal-content\">\r\n");
      out.write("      <div class=\"modal-header\">\r\n");
      out.write("        <h5 class=\"modal-title\" style=\"padding-bottom: 6px;\">\r\n");
      out.write("        <span class=\"fas fa-file-export text-primary\" style=\"margin-right: 10px;\"> </span>\r\n");
      out.write("        <span class=\"text-primary\">Service Details</span></h5>\r\n");
      out.write("        <button type=\"button\" class=\"closeBox\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n");
      out.write("          <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("        </button>\r\n");
      out.write("      </div>     \r\n");
      out.write("      <form action=\"return false\">\r\n");
      out.write("       <div class=\"modal-body\">\r\n");
      out.write("  <div class=\"container-fluid\" id=\"serviceBody\">\r\n");
      out.write("    <div class=\"col-md-12\">\r\n");
      out.write("	  <h4>Client&nbsp;&nbsp;<i class=\"fa fa-clone pointer cmpn\" aria-hidden=\"true\" onclick=\"copyToClipboard('cmpn')\"></i></h4>\r\n");
      out.write("	  	<p><span id=\"cmpn\">");
      out.print(companyname );
      out.write("</span>&nbsp;(");
      out.print(companyIndustry );
      out.write(")</p>\r\n");
      out.write("	  <h4>Service&nbsp;&nbsp;<i class=\"fa fa-clone pointer cmppn\" aria-hidden=\"true\" onclick=\"copyToClipboard('cmppn')\"></i></h4>\r\n");
      out.write("	    <p><span id=\"cmppn\">");
      out.print(productName );
      out.write("</span>&nbsp;( ");
      out.print(jurisdiction );
      out.write(" )</p>\r\n");
      out.write("	  <h4>Remarks&nbsp;&nbsp;<i class=\"fa fa-clone pointer serviceRemark\" aria-hidden=\"true\" onclick=\"copyToClipboard('serviceRemark')\"></i></h4>\r\n");
      out.write("    	<p id=\"serviceRemark\">No Content</p>  \r\n");
      out.write("   </div>      \r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("      </form>\r\n");
      out.write("    </div>\r\n");
      out.write("  </div>\r\n");
      out.write("</div>\r\n");
      out.write("<button type=\"button\" id=\"clear-all-fields\" class=\"DispNone\"></button>\r\n");
      out.write("<button type=\"button\" id=\"Set-dynamic-form-template\" class=\"DispNone\"></button>\r\n");
      out.write("<input type=\"hidden\" id=\"ProjectFollowUpKey\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"replyNotesAddedByUid\"/>\r\n");
      out.write("<input type=\"hidden\" id=\"serviceDetailsModelKey\">\r\n");
      out.write("<input type=\"hidden\" id=\"MilestonePrevDeliveryDate\" value=\"NA\">\r\n");
      out.write("<!-- <input type=\"hidden\" id=\"ActiveEmployeeSalesKey\" value=\"NA\"> -->\r\n");
      out.write("<input type=\"hidden\" id=\"EditTaskCompAddress\" value=\"");
      out.print(compaddress);
      out.write("\"/>\r\n");
      out.write("<div id=\"footer\"><div class=\"footer\"><div class=\"container\"><div class=\"footer-bottom\"><div class=\"row\"><div class=\"col-md-12 col-sm-12 col-xs-12\"><div class=\"copyright\">Copyright &copy; 2021 Corpseed ITES Pvt Ltd All Rights Reserved.</div></div></div></div></div></div></div>\r\n");
      out.write("<div class=\"alert-show\"><div class=\"alert-bg alert-striped\" id=\"errorMsg\" style=\"font-size: 17px;width: 100%;height: 100%;\"></div></div>\r\n");
      out.write("<div class=\"alert-show1\"><div class=\"alert-bg1 alert-striped\" id=\"errorMsg1\" style=\"font-size: 17px;width: 100%;height: 100%;\"></div></div>\r\n");
      out.write(" <div class=\"processing_loader\" style=\"display:none\"><div class=\"spin_box\"></div></div> ");
      out.write('\r');
      out.write('\n');
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery-1.12.4.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/bootstrap.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery.fancybox.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery-ui.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/bootstrap-datetimepicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/nicEdit.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/globalscript.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/select2.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/moment.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/daterangepicker.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/mdtimepicker.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/fontawsome.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/theme.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/custom.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jquery.dataTables.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.buttons.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/jszip.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/pdfmake.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/vfs_fonts.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.html5.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.print.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/buttons.colVis.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.select.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/dataTables.responsive.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("$(document).ready( function () {\r\n");
      out.write("	var role=\"");
      out.print(session.getAttribute("emproleid"));
      out.write("\";\r\n");
      out.write("	$(\".checked\").click(function(){\r\n");
      out.write("		 if ($(\".checked\").is(\":checked\")){\r\n");
      out.write("			 $(\".hashico\").hide()\r\n");
      out.write("			 $(\"#CheckAll\").show();\r\n");
      out.write("			 $(\"#SearchOptions\").hide();\r\n");
      out.write("			 $(\"#SearchOptions1\").show();\r\n");
      out.write("	}else{\r\n");
      out.write("		 $(\"#CheckAll\").hide();\r\n");
      out.write("		 $(\".hashico\").show()\r\n");
      out.write("		 $(\"#SearchOptions\").show();\r\n");
      out.write("		 $(\"#SearchOptions1\").hide();\r\n");
      out.write("	}\r\n");
      out.write("		\r\n");
      out.write("		});\r\n");
      out.write("	$(\"#CheckAll\").click(function(){\r\n");
      out.write("	$('.checked').prop('checked', this.checked);\r\n");
      out.write("	if ($(\".checked\").is(\":checked\")){\r\n");
      out.write("		 	 $(\".hashico\").hide()\r\n");
      out.write("			 $(\"#CheckAll\").show();\r\n");
      out.write("			 $(\"#SearchOptions\").hide();\r\n");
      out.write("			 $(\"#SearchOptions1\").show();\r\n");
      out.write("	}else{\r\n");
      out.write("		 $(\".hashico\").show()\r\n");
      out.write("		 $(\"#CheckAll\").hide();\r\n");
      out.write("		 $(\"#SearchOptions\").show();\r\n");
      out.write("		 $(\"#SearchOptions1\").hide();\r\n");
      out.write("	}\r\n");
      out.write("		    \r\n");
      out.write("	});\r\n");
      out.write("} );\r\n");
      out.write("\r\n");
      out.write(" $(window).load(function() {\r\n");
      out.write("  $(\".processing_loader\").fadeOut();\r\n");
      out.write("}); \r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write(" function showLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeIn(); \r\n");
      out.write("} \r\n");
      out.write("function hideLoader(){\r\n");
      out.write("   $(\".processing_loader\").fadeOut();  \r\n");
      out.write("}  \r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$('.timepicker').mdtimepicker();\r\n");
      out.write("function openClock(id){\r\n");
      out.write("$('#'+id).mdtimepicker();\r\n");
      out.write("}\r\n");
      out.write("function openCalendar(id){\r\n");
      out.write("	$(\"#\"+id).datepicker({changeMonth:true,changeYear:true,dateFormat:'yy-mm-dd'});\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$('.has-clear input[type=\"text\"]').on('input propertychange', function() {\r\n");
      out.write("  var $this = $(this);\r\n");
      out.write("  var visible = Boolean($this.val());\r\n");
      out.write("  $this.siblings('.form-control-clear').toggleClass('hidden', !visible);\r\n");
      out.write("}).trigger('propertychange');\r\n");
      out.write("\r\n");
      out.write("$('.form-control-clear').click(function() {\r\n");
      out.write("  $(this).siblings('input[type=\"text\"]').val('')\r\n");
      out.write("    .trigger('propertychange').focus();\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function goBack() {\r\n");
      out.write("  window.history.back();\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/ckeditor/ckeditor.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/formBuilder/js/form-builder.min.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\" src=\"");
      out.print(request.getContextPath());
      out.write("/staticresources/js/app.js\"></script>\r\n");
      out.write("<script type=\"text/javascript\">    \r\n");
      out.write("   $( document ).ready(function() {	 \r\n");
      out.write("	   CKEDITOR.replace('SMS_Description',{\r\n");
      out.write("		   height:92\r\n");
      out.write("	   });\r\n");
      out.write("	   CKEDITOR.replace('Email_Description',{\r\n");
      out.write("		   height:92\r\n");
      out.write("	   });\r\n");
      out.write("	   CKEDITOR.replace( 'ChatTextareaBoxReply',{\r\n");
      out.write("		   height:92\r\n");
      out.write("	   });\r\n");
      out.write("	   CKEDITOR.replace( 'ChatTextareaBoxReply1',{\r\n");
      out.write("		   height:92\r\n");
      out.write("	   });\r\n");
      out.write("	   setTimeout(() => {\r\n");
      out.write("			$(\".tooltips1\").removeClass(\"visible\");\r\n");
      out.write("		}, 7000);\r\n");
      out.write("	});\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("var formDataJson=\"\";\r\n");
      out.write("function setFollowUpId(fkey,formName){\r\n");
      out.write("	$(\"#ProjectFollowUpKey\").val(fkey);\r\n");
      out.write("	$(\"#DynamicFormName\").val(formName);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$( document ).ready(function() {\r\n");
      out.write("	var chatOpenBox=\"");
      out.print(chatOpenBox);
      out.write("\";\r\n");
      out.write("	if(chatOpenBox==\"chat\"){\r\n");
      out.write("		setTimeout(function(){ $(\".openChat\").click();clearSession('chatOpenBox'); }, 500);		\r\n");
      out.write("	}else if(chatOpenBox==\"doc\"){\r\n");
      out.write("		setTimeout(function(){ $(\".adddoc\").click();clearSession('chatOpenBox'); }, 500);		\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var workStarted=\"");
      out.print(workStarted);
      out.write("\";\r\n");
      out.write("	var milestoneKey=\"");
      out.print(milestoneKey);
      out.write("\";\r\n");
      out.write("	\r\n");
      out.write("	setExtendDate(workStarted,milestoneKey);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function isTemplateNameExist(FormNameId){\r\n");
      out.write("	var formName=$(\"#\"+FormNameId).val();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"IsformNameExists111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			formName : formName\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Duplicate template name : \"+formName;\r\n");
      out.write("				$(\"#\"+FormNameId).val(\"\");\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function saveAsTemplate(){\r\n");
      out.write("	$(\"#getJSON\").click();\r\n");
      out.write("	var dynamicFormName=$(\"#DynamicFormName\").val();\r\n");
      out.write("	setTimeout(() => {\r\n");
      out.write("		if(formDataJson!=\"[]\"&&dynamicFormName!=null&&dynamicFormName!=\"\"){\r\n");
      out.write("			showLoader();\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				url : \"SaveDynamicFormTemplate111\",\r\n");
      out.write("				dataType : \"HTML\",\r\n");
      out.write("				data : {				\r\n");
      out.write("					dynamicFormName : dynamicFormName,\r\n");
      out.write("					formDataJson : formDataJson,\r\n");
      out.write("					\"type\" : \"form\"\r\n");
      out.write("				},\r\n");
      out.write("				success : function(data){\r\n");
      out.write("					if(data==\"pass\"){	\r\n");
      out.write("						document.getElementById('errorMsg1').innerHTML =\"Form saved as template !!\";\r\n");
      out.write("						$('.alert-show1').show().delay(3000).fadeOut();					\r\n");
      out.write("					}else{\r\n");
      out.write("						document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("						$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("					}			\r\n");
      out.write("				},\r\n");
      out.write("				complete : function() {\r\n");
      out.write("		            hideLoader();\r\n");
      out.write("		        }\r\n");
      out.write("			});						\r\n");
      out.write("		}\r\n");
      out.write("	}, 200);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function setExtendDate(memberassigndate,milestoneKey){\r\n");
      out.write("	$(\".removeDelvDate\").remove();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetMilestoneExpireDate111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			milestoneKey : milestoneKey,\r\n");
      out.write("			memberassigndate : memberassigndate,\r\n");
      out.write("			\"salesKey\" : \"");
      out.print(salesrefid);
      out.write("\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(deliveryDate){\r\n");
      out.write("			if(deliveryDate!=\"\"){\r\n");
      out.write("				var data=deliveryDate.split(\"#\");\r\n");
      out.write("				deliveryDate=data[0];\r\n");
      out.write("				if(data[1]==\"NA\")data[1]=\"18:00\";\r\n");
      out.write("				var x=deliveryDate.split(\"-\");\r\n");
      out.write("				if(Number(x[0].length)!=4)\r\n");
      out.write("				deliveryDate=x[2]+\"-\"+x[1]+\"-\"+x[0];\r\n");
      out.write("				\r\n");
      out.write("				var y=data[1].split(\":\");\r\n");
      out.write("				if(Number(y[0].length)==1)y[0]=\"0\"+y[0];\r\n");
      out.write("				if(Number(y[1].length)==1)y[1]=\"0\"+y[1];\r\n");
      out.write("				data[1]=y[0]+\":\"+y[1];\r\n");
      out.write("				\r\n");
      out.write("// 				if(Number(data[1].length)==4)data[1]=\"0\"+data[1];\r\n");
      out.write("				\r\n");
      out.write("				var today=\"");
      out.print(today);
      out.write("\";\r\n");
      out.write("				var time=\"");
      out.print(currentTime);
      out.write("\"\r\n");
      out.write("				x=today.split(\"-\");\r\n");
      out.write("				today=x[2]+\"-\"+x[1]+\"-\"+x[0];\r\n");
      out.write("				\r\n");
      out.write("				var endDate=new Date(deliveryDate);  \r\n");
      out.write("				\r\n");
      out.write("				var todayDate=new Date(today);    \r\n");
      out.write("				$(\"#MilestonePrevDeliveryDate\").val(deliveryDate+'T'+data[1]);\r\n");
      out.write("// 				console.log(deliveryDate+'T'+data[1]);\r\n");
      out.write("// 				if(endDate<todayDate){\r\n");
      out.write("					$(''+\r\n");
      out.write("							'<span class=\"bg_circle removeDelvDate\"><span class=\"pointers\"><input id=\"SetDeliveryDateId\" type=\"datetime-local\" name=\"setDeliveryDate\" onchange=\"dateExtendRecord(\\''+deliveryDate+'T'+data[1]+'\\')\" value=\"'+deliveryDate+'T'+data[1]+'\" min=\"'+deliveryDate+'T'+data[1]+'\"></span></span>'\r\n");
      out.write("							).insertBefore(\"#MilestoneEndDateId\");					\r\n");
      out.write("// 				}else{\r\n");
      out.write("// 					$(''+\r\n");
      out.write("// 							'<span class=\"bg_circle removeDelvDate\"><input id=\"SetDeliveryDateId\" type=\"datetime-local\" value=\"'+deliveryDate+'T'+data[1]+'\" readonly></span>'\r\n");
      out.write("// 							).insertBefore(\"#MilestoneEndDateId\");\r\n");
      out.write("// 				}\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("		\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function closeReminder(remKey,TaskReminderClose){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"CloseSalesReminder111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			remKey : remKey,			\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				$(\"#\"+TaskReminderClose).show();				\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function updateReminder(remKey,i){\r\n");
      out.write("	var UpdateReminderTask=\"UpdateReminderTask\"+Number(i);\r\n");
      out.write("	var UpdateReminderTime=\"UpdateReminderTime\"+Number(i);\r\n");
      out.write("	var UpdateReminderDate=\"UpdateReminderDate\"+Number(i);\r\n");
      out.write("	var FormBox=\"TaskAssignedAddReminderId\"+Number(i);\r\n");
      out.write("\r\n");
      out.write("	var taskName=$(\"#\"+UpdateReminderTask).val();\r\n");
      out.write("	var Time=$(\"#\"+UpdateReminderTime).val();\r\n");
      out.write("	var Date=$(\"#\"+UpdateReminderDate).val();\r\n");
      out.write("	\r\n");
      out.write("	if(taskName==null||taskName==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Task !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Time==null||Time==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Reminder Time !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Date==null||Date==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Reminder Date !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSalesReminder111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			remKey : remKey,\r\n");
      out.write("			taskName : taskName,\r\n");
      out.write("			Time : Time,\r\n");
      out.write("			Date : Date\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				hideAssignBox(FormBox);\r\n");
      out.write("				$(\"#ReloadReminder\").load(location.href + \" #ReloadReminder1\");						\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("// 	alert(remKey+\"/\"+i+\"/\"+UpdateReminderTask+\"/\"+UpdateReminderTime+\"/\"+UpdateReminderDate);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function saveReminder(){\r\n");
      out.write("	var content=$(\"#ReminderTask\").val();\r\n");
      out.write("	var Time=$(\"#ReminderTime\").val();\r\n");
      out.write("	var Date=$(\"#ReminderDate\").val();\r\n");
      out.write("	\r\n");
      out.write("	if(content==null||content==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Task !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Time==null||Time==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Reminder Time !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Date==null||Date==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter Reminder Date !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var salesrefid=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	var taskKey=\"");
      out.print(assignKey);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SetSalesReminder111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesrefid : salesrefid,\r\n");
      out.write("			content : content,\r\n");
      out.write("			Time : Time,\r\n");
      out.write("			Date : Date,\r\n");
      out.write("			taskKey : taskKey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				hideAssignBox('TaskAssignedReminderId1');\r\n");
      out.write("				$(\"#ReloadReminder\").load(location.href + \" #ReloadReminder1\");	\r\n");
      out.write("				$(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function isUpdateDuplicateMobilePhone(phoneid){\r\n");
      out.write("	var contkey=document.getElementById(\"UpdateContactKey\").value.trim();\r\n");
      out.write("	var val=document.getElementById(phoneid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"updatecontactmobilephone\",\"id\":contkey},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Mobile Phone.\";\r\n");
      out.write("			document.getElementById(phoneid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("	$(\"#\"+phoneid).val(val.replace(/ /g,''));\r\n");
      out.write("}\r\n");
      out.write("function isUpdateDuplicateEmail(emailid){\r\n");
      out.write("	var contkey=document.getElementById(\"UpdateContactKey\").value.trim();\r\n");
      out.write("	var val=document.getElementById(emailid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"updatecontactemail\",\"id\":contkey},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Email-Id.\";\r\n");
      out.write("			document.getElementById(emailid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function isDuplicateMobilePhone(phoneid){\r\n");
      out.write("	var val=document.getElementById(phoneid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"addcontactmobilephone\"},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Mobile Phone.\";\r\n");
      out.write("			document.getElementById(phoneid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("}\r\n");
      out.write("function isDuplicateEmail(emailid){\r\n");
      out.write("	var val=document.getElementById(emailid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"addcontactemail1\"},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=\"Duplicate Email-Id.\";\r\n");
      out.write("			document.getElementById(emailid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("}\r\n");
      out.write("function uploadFile(uploadbox,MainDownloadIcon,AppendDocDownload,docKey,File,DocumentListDateId){\r\n");
      out.write("	\r\n");
      out.write("	const fi=document.getElementById(File);\r\n");
      out.write("	if (fi.files.length > 0) {\r\n");
      out.write("		const fsize = fi.files.item(0).size; \r\n");
      out.write("        const file = Math.round((fsize / 1024)); \r\n");
      out.write("        \r\n");
      out.write("        // The size of the file. \r\n");
      out.write("        if (file >= 49152) {  \r\n");
      out.write("            document.getElementById('errorMsg').innerHTML ='File too Big, Max File Size 48 MB !!';\r\n");
      out.write("            document.getElementById(File).value=\"\";\r\n");
      out.write(" 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("        }else{\r\n");
      out.write("        	uploadFile1(uploadbox,MainDownloadIcon,AppendDocDownload,docKey,File,DocumentListDateId);\r\n");
      out.write("        }	\r\n");
      out.write("	}	 \r\n");
      out.write("}\r\n");
      out.write("function uploadFile1(uploadbox,MainDownloadIcon,AppendDocDownload,docKey,File,DocumentListDateId){	\r\n");
      out.write("	if($(\"#\"+File).val()!=\"\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	var today=\"");
      out.print(today);
      out.write("\";\r\n");
      out.write("	var assignKey=\"");
      out.print(assignKey);
      out.write("\";\r\n");
      out.write("	var workStartPrice=\"");
      out.print(workStartPrice);
      out.write("\";\r\n");
      out.write("\r\n");
      out.write("	var form = $(\".\"+uploadbox)[0];\r\n");
      out.write("    var data = new FormData(form);\r\n");
      out.write("    data.append(\"docKey\", docKey)\r\n");
      out.write("    data.append(\"file\", File);\r\n");
      out.write("    data.append(\"assignKey\",assignKey);\r\n");
      out.write("    data.append(\"workStartPrice\",workStartPrice);\r\n");
      out.write("    showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("        type : \"POST\",\r\n");
      out.write("        encType : \"multipart/form-data\",\r\n");
      out.write("        url : \"");
      out.print(request.getContextPath());
      out.write("/UpdateSalesDocuments111\",\r\n");
      out.write("        cache : false,\r\n");
      out.write("        processData : false,\r\n");
      out.write("        contentType : false,\r\n");
      out.write("        data : data,\r\n");
      out.write("        success : function(msg) {\r\n");
      out.write("        	$(\".\"+MainDownloadIcon).remove();\r\n");
      out.write("        	var x=msg.split(\"#\");\r\n");
      out.write("	        	if(x[0]==\"pass\"){\r\n");
      out.write("	          	document.getElementById('errorMsg1').innerHTML =\"Uploaded Successfully !!\";\r\n");
      out.write("	          	$(\"#\"+DocumentListDateId).html(today);\r\n");
      out.write("	          	var fileDownload=\"");
      out.print(azure_path);
      out.write("\"+x[1];\r\n");
      out.write("	          	//change date and color\r\n");
      out.write("	          	$(\".\"+MainDownloadIcon).hide();\r\n");
      out.write("	  			$(''+\r\n");
      out.write("	  				'<a class=\"bg_none colorNone '+MainDownloadIcon+'\" href=\"'+fileDownload+'\" download>'+\r\n");
      out.write("	  				'<i class=\"fas fa-arrow-down pointers\" title=\"Download this document\"></i></a>'\r\n");
      out.write("	  			).insertBefore(\"#\"+AppendDocDownload);\r\n");
      out.write("	  			\r\n");
      out.write("	      		$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("      		}else{\r\n");
      out.write("      			document.getElementById('errorMsg').innerHTML =\"Something Went wrong ,try-again later !!\";\r\n");
      out.write("  	    		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("      		}\r\n");
      out.write("        },\r\n");
      out.write("        error : function(msg) {\r\n");
      out.write("            alert(\"Couldn't upload file\");\r\n");
      out.write("        },\r\n");
      out.write("        complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("	}	 \r\n");
      out.write("}\r\n");
      out.write("function addCallLogNotes(NewCallLogBoxId){\r\n");
      out.write("	var notes=$(\"#\"+NewCallLogBoxId).val();\r\n");
      out.write("	var contact=$(\"#AddCallLogOptId\").val();\r\n");
      out.write("	if(notes==null||notes==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter some text to post !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var salesrefid=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SaveTaskCallLogs111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesrefid : salesrefid,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			contact : contact\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	 \r\n");
      out.write("				$(\"#newCallLogsId\").hide();\r\n");
      out.write("				$(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function addTaskNotes(NewNotesBoxId){\r\n");
      out.write("	var notes=$(\"#\"+NewNotesBoxId).val();\r\n");
      out.write("	var contact=$(\"#AddNotesOptId\").val();\r\n");
      out.write("	if(notes==null||notes==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter some text to post !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var salesrefid=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SaveTaskNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesrefid : salesrefid,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			contact : contact\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				$(\"#newNotesDivId\").hide();\r\n");
      out.write("				$(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function addTaskNotesForSales(NewNotesBoxId){\r\n");
      out.write("	var notes=$(\"#\"+NewNotesBoxId).val();\r\n");
      out.write("	var contact=$(\"#AddNotesOptIdSales\").val();\r\n");
      out.write("	if(notes==null||notes==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter some text to post !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var salesrefid=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SaveSalesTaskNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesrefid : salesrefid,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			contact : contact,\r\n");
      out.write("			type : \"Team\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			$(\"#newNotesSalesDivId\").hide();\r\n");
      out.write("			$(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}		\r\n");
      out.write("		\r\n");
      out.write("function proceesSaveWork(){	\r\n");
      out.write("	var assignKey=$(\"#UpdateAssignKey\").val();\r\n");
      out.write("	var workPercentageId=$(\"#UpdateWorkPercentageId\").val();\r\n");
      out.write("	var salesmilestonekey=$(\"#UpdateSalesmilestonekey\").val();\r\n");
      out.write("	var workPercentage=$(\"#\"+workPercentageId).val();\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\"; 	\r\n");
      out.write("	var approvalDate=$(\"#ApprovalDate\").val();\r\n");
      out.write("	var renewalDate=$(\"#RenewalDate\").val();\r\n");
      out.write("	if(approvalDate==null||approvalDate==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Approval date can't be blank !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(renewalDate==null||renewalDate==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Renewal date can't be blank !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	$(\"#UpdateRenewal\").modal(\"hide\");\r\n");
      out.write("	saveRenewalDate(assignKey,salesmilestonekey,salesKey,approvalDate,renewalDate);\r\n");
      out.write("	setTimeout(() => {\r\n");
      out.write("		saveWorkProgress(workPercentage,salesKey,assignKey,salesmilestonekey,workPercentageId);\r\n");
      out.write("	}, 2000);\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function saveRenewalDate(assignKey,salesmilestonekey,salesKey,approvalDate,renewalDate){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"SetRenewalDate111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			assignKey : assignKey,\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			salesmilestonekey : salesmilestonekey,\r\n");
      out.write("			approvalDate : approvalDate,\r\n");
      out.write("			renewalDate : renewalDate\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){				\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML =\"Task added in renewal !!\";\r\n");
      out.write("				$('.alert-show1').show().delay(3000).fadeOut();				\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function saveWorkNotApplicable(){\r\n");
      out.write("	var assignKey=$(\"#UpdateAssignKey\").val();\r\n");
      out.write("	var workPercentageId=$(\"#UpdateWorkPercentageId\").val();\r\n");
      out.write("	var salesmilestonekey=$(\"#UpdateSalesmilestonekey\").val();\r\n");
      out.write("	var workPercentage=$(\"#\"+workPercentageId).val();\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\"; 	\r\n");
      out.write("	$(\"#UpdateRenewal\").modal(\"hide\");\r\n");
      out.write("	saveWorkProgress(workPercentage,salesKey,assignKey,salesmilestonekey,workPercentageId);\r\n");
      out.write("}\r\n");
      out.write("function saveWorkPercentage(assignKey,workPercentageId,salesmilestonekey){\r\n");
      out.write("	var workPercentage=$(\"#\"+workPercentageId).val();\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	\r\n");
      out.write("	if(workPercentage==null||workPercentage==\"\"||Number(workPercentage)<=0||Number(workPercentage)>100){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Work Percentage between 1-100 !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(Number(workPercentage)==100){\r\n");
      out.write("		$(\"#UpdateAssignKey\").val(assignKey);\r\n");
      out.write("		$(\"#UpdateWorkPercentageId\").val(workPercentageId);\r\n");
      out.write("		$(\"#UpdateSalesmilestonekey\").val(salesmilestonekey);\r\n");
      out.write("		$(\"#UpdateRenewal\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		saveWorkProgress(workPercentage,salesKey,assignKey,salesmilestonekey,workPercentageId);\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("function saveWorkProgress(workPercentage,salesKey,assignKey,salesmilestonekey,workPercentageId){\r\n");
      out.write("	showLoader()\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"AssignWorkPercentage111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			assignKey : assignKey,\r\n");
      out.write("			workPercentage : workPercentage,\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			salesmilestonekey : salesmilestonekey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){				\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML =\"Work Percentage assigned \"+workPercentage+\"%\";				\r\n");
      out.write("				$('.alert-show1').show().delay(3000).fadeOut();		\r\n");
      out.write("				\r\n");
      out.write("				if(Number(workPercentage)==100){\r\n");
      out.write("					$(\".appendedList\").remove();\r\n");
      out.write("					$(\"#chatReplyList\").append('<li class=\"appendedList\"><a onclick=\"validateChatReply(\\'Completed\\')\"><span class=\"dot_circle_completed\"></span>Completed</a></li>');\r\n");
      out.write("				}else $(\".appendedList\").remove();\r\n");
      out.write("			}else if(data==\"invalid\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Please upload all certificates before submit !!\";\r\n");
      out.write("				$(\"#\"+workPercentageId).val(\"0\");\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function showAssignBox(AssignBoxId){\r\n");
      out.write("	$(\".toggleBox\").hide();\r\n");
      out.write("	$(\"#\"+AssignBoxId).show();\r\n");
      out.write("}\r\n");
      out.write("function hideAssignBox(AssignBoxId){	\r\n");
      out.write("	$(\"#\"+AssignBoxId).hide();\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("$('.order_view').click(function(){\r\n");
      out.write("    $(this).next().slideToggle();\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("$('.toggleBtn').click(function(event){ \r\n");
      out.write("	event.preventDefault();\r\n");
      out.write("	event.stopPropagation();\r\n");
      out.write("	$('.toggleBtn').removeClass(\"active\");\r\n");
      out.write("	$('.toggleBox').removeClass(\"active\");\r\n");
      out.write("	$(this).addClass(\"active\");\r\n");
      out.write("	$(this).parent().next().addClass(\"active\");\r\n");
      out.write("	$('.contacts_info').hide();\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("$('.cancelBtn').click(function(event){ \r\n");
      out.write("	event.preventDefault();\r\n");
      out.write("	event.stopPropagation();\r\n");
      out.write("	$('.toggleBtn').removeClass(\"active\");\r\n");
      out.write("	$('.toggleBox').removeClass(\"active\");\r\n");
      out.write("});\r\n");
      out.write("</script> \r\n");
      out.write("<script>\r\n");
      out.write("$('.contactBtn').click(function(event){ \r\n");
      out.write("	event.preventDefault();\r\n");
      out.write("	event.stopPropagation();\r\n");
      out.write("	$('.toggleBox').removeClass(\"active\");\r\n");
      out.write("	$('.contacts_info').show();\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("$('.close_box').on( \"click\", function(e) { \r\n");
      out.write("$('.fixed_right_box').removeClass('active');	\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("<script>\r\n");
      out.write("$('.add_new').on( \"click\", function(e) {\r\n");
      out.write("	$(this).parent().next().show();	\r\n");
      out.write("	});	\r\n");
      out.write("$('.del_icon').on( \"click\", function(e) {\r\n");
      out.write("	$('.new_field').hide();	\r\n");
      out.write("	});\r\n");
      out.write("$('#ContactperAddress').on( \"click\", function(e) {\r\n");
      out.write("	$('.address_box').show();\r\n");
      out.write("	$('.company_box').hide();	\r\n");
      out.write("	});\r\n");
      out.write("$('#ContactcomAddress').on( \"click\", function(e) {\r\n");
      out.write("	$('.address_box').hide();\r\n");
      out.write("	$('.company_box').show();	\r\n");
      out.write("	});\r\n");
      out.write("$('#UpdateContactcomAddress').on( \"click\", function(e) {\r\n");
      out.write("	$('.UpdateAddress_box').hide();\r\n");
      out.write("	$('.UpdateCompany_box').show();	\r\n");
      out.write("	});\r\n");
      out.write("	$('#UpdateContactperAddress').on( \"click\", function(e) {\r\n");
      out.write("	$('.UpdateAddress_box').show();\r\n");
      out.write("	$('.UpdateCompany_box').hide();	\r\n");
      out.write("	}); \r\n");
      out.write("	\r\n");
      out.write("	function setTeamMember(teamrefid,Select_Assignee,memberid){		\r\n");
      out.write("		if(teamrefid!=\"\"){\r\n");
      out.write("			showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    dataType: \"html\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/GetAllTeamMemberList111\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	teamrefid: teamrefid,	    	\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(Object.keys(response).length!=0){\r\n");
      out.write("		     	response = JSON.parse(response);			\r\n");
      out.write("				 var len = response.length;\r\n");
      out.write("				    $(\"#\"+Select_Assignee).empty();\r\n");
      out.write("				    $(\"#\"+Select_Assignee).append(\"<option value=''>\"+\"Select Assignee\"+\"</option>\");\r\n");
      out.write("					for( var i =0; i<len; i++){		\r\n");
      out.write("						var userId = response[i]['userId'];\r\n");
      out.write("						var name = response[i]['name'];\r\n");
      out.write("						if(userId==memberid){\r\n");
      out.write("							$(\"#\"+Select_Assignee).append(\"<option value='\"+userId+\"' selected='selected'>\"+name+\"</option>\");\r\n");
      out.write("						}else{\r\n");
      out.write("							$(\"#\"+Select_Assignee).append(\"<option value='\"+userId+\"'>\"+name+\"</option>\");\r\n");
      out.write("						}\r\n");
      out.write("					}\r\n");
      out.write("		    	}\r\n");
      out.write("		    },\r\n");
      out.write("		    error: function (error) {\r\n");
      out.write("		    	alert(\"error in setTeamMember() \" + error.responseText);\r\n");
      out.write("		    },\r\n");
      out.write("		    complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("		}else{\r\n");
      out.write("			$(\"#\"+Select_Assignee).empty();\r\n");
      out.write("		    $(\"#\"+Select_Assignee).append(\"<option value=''>\"+\"Select Assignee\"+\"</option>\");\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	\r\n");
      out.write("	function validateDocumentList()	{  \r\n");
      out.write("		var docname=$(\"#NewDocumentName\").val().trim();\r\n");
      out.write("		var UploadBy=$(\"#DocumentUploadBy\").val().trim();\r\n");
      out.write("		var Remarks=$(\"#DocumentUploadRemarks\").val().trim();\r\n");
      out.write("	\r\n");
      out.write("		if(docname==null||docname==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please enter document name !!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(UploadBy==null||UploadBy==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please select document upload by !!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(Remarks==null||Remarks==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please write about this document !!.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		var salesrefid=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("		var key=getKey(40);\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"AddNewDocumentList111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				key : key,\r\n");
      out.write("				salesrefid : salesrefid,\r\n");
      out.write("				docname : docname,\r\n");
      out.write("				UploadBy : UploadBy,\r\n");
      out.write("				Remarks : Remarks\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){	\r\n");
      out.write("					var append=\"AppendNewAgentDocList\";\r\n");
      out.write("					if(UploadBy==\"Client\")append=\"AppendNewClientDocList\";\r\n");
      out.write("					$(\"#AddNewDocumentList\").modal(\"hide\");\r\n");
      out.write("					$(''+\r\n");
      out.write("					'<div class=\"clearfix bg_wht link-style12\">'+\r\n");
      out.write("					  ' <div class=\"col-xs-3 box-intro-background\">'+\r\n");
      out.write("					       '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\">00-00-0000</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+\r\n");
      out.write("					   '<div class=\"col-xs-7 box-intro-background\">'+\r\n");
      out.write("					       '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\" title=\"'+docname+'\">'+docname+'</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+\r\n");
      out.write("					 '  <div class=\"col-xs-2 box-intro-background\">'+\r\n");
      out.write("					       '<div class=\"clearfix\">'+\r\n");
      out.write("					       '<p class=\"news-border\" style=\"font-size: 15px;\">'+\r\n");
      out.write("					       '<span style=\"margin-right: 3px;\">'+\r\n");
      out.write("					       '<input id=\"fileInput\" type=\"file\" style=\"display:none;\">'+\r\n");
      out.write("					       '<button onclick=\"document.getElementById(\\'fileInput\\').click();\" style=\"border: none;background: #ffff;\"><i class=\"fas fa-file\"></i></button>'+\r\n");
      out.write("					       '</span>'+\r\n");
      out.write("					       '</p>'+\r\n");
      out.write("					       '</div>'+\r\n");
      out.write("					   '</div>'+                                  \r\n");
      out.write("					'</div>').insertBefore('#'+append);\r\n");
      out.write("					\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("		\r\n");
      out.write("	}\r\n");
      out.write("	function validateUpdateContact(){\r\n");
      out.write("\r\n");
      out.write("		if(document.getElementById(\"UpdateContactFirstName\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"First name is mandatory.\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactLastName\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Last name is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactEmail_Id\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Email is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactEmailId2\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContactEmailId2\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContPan\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContPan\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactWorkPhone\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Work phone is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"UpdateContactMobilePhone\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById(\"UpdateContactMobilePhone\").value=\"NA\";\r\n");
      out.write("		}\r\n");
      out.write("		\r\n");
      out.write("		if($('#UpdateContactperAddress').prop('checked')){\r\n");
      out.write("			if(document.getElementById(\"UpdateContCountry\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Country is mandatory !!\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("			if(document.getElementById(\"UpdateContState\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"State is mandatory !!\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("			if(document.getElementById(\"UpdateContCity\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"City is mandatory !!\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}			\r\n");
      out.write("			if(document.getElementById(\"UpdateContAddress\").value.trim()==\"\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Address is mandatory !!\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("			}\r\n");
      out.write("		}\r\n");
      out.write("		var firstname=document.getElementById(\"UpdateContactFirstName\").value.trim();\r\n");
      out.write("		var lastname=document.getElementById(\"UpdateContactLastName\").value.trim();\r\n");
      out.write("		var email=document.getElementById(\"UpdateContactEmail_Id\").value.trim();\r\n");
      out.write("		var email2=document.getElementById(\"UpdateContactEmailId2\").value.trim();\r\n");
      out.write("		var workphone=document.getElementById(\"UpdateContactWorkPhone\").value.trim();\r\n");
      out.write("		var mobile=document.getElementById(\"UpdateContactMobilePhone\").value.trim();\r\n");
      out.write("		var pan=document.getElementById(\"UpdateContPan\").value.trim();\r\n");
      out.write("	    var country=\"NA\";\r\n");
      out.write("		var city=\"NA\";\r\n");
      out.write("	    var state=\"NA\";\r\n");
      out.write("	    var stateCode=\"NA\";\r\n");
      out.write("	    var address=\"NA\";\r\n");
      out.write("	    var companyaddress=\"NA\";\r\n");
      out.write("	    var addresstype=\"Personal\";\r\n");
      out.write("	    if($('#UpdateContactperAddress').prop('checked')){\r\n");
      out.write("	    	country=document.getElementById(\"UpdateContCountry\").value.trim();\r\n");
      out.write("	    	var x=country.split(\"#\");\r\n");
      out.write("	    	country=x[1];\r\n");
      out.write("	    	state=document.getElementById(\"UpdateContState\").value.trim();\r\n");
      out.write("	    	x=state.split(\"#\");\r\n");
      out.write("	    	stateCode=x[1];\r\n");
      out.write("	    	state=x[2];\r\n");
      out.write("	    	city=document.getElementById(\"UpdateContCity\").value.trim();	    	\r\n");
      out.write("	    	address=document.getElementById(\"UpdateContAddress\").value.trim();    	\r\n");
      out.write("	    }\r\n");
      out.write("	    if($('#UpdateContactcomAddress').prop('checked')){\r\n");
      out.write("			companyaddress=document.getElementById(\"UpdateEnqCompAddress\").value.trim();\r\n");
      out.write("			addresstype=\"Company\";\r\n");
      out.write("	    }\r\n");
      out.write("	   \r\n");
      out.write("	   var contkey=document.getElementById(\"UpdateContactKey\").value.trim(); \r\n");
      out.write("	   var stbid=document.getElementById(\"UpdateContactSalesKey\").value.trim(); \r\n");
      out.write("	   showLoader();\r\n");
      out.write("	   $(\"#ValidateUpdateContact\").attr(\"disabled\",\"disabled\"); \r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateContactDetails111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {				\r\n");
      out.write("				firstname : firstname,\r\n");
      out.write("				lastname : lastname,\r\n");
      out.write("				email : email,\r\n");
      out.write("				email2 : email2,\r\n");
      out.write("				workphone : workphone,\r\n");
      out.write("				mobile : mobile,\r\n");
      out.write("				city : city,\r\n");
      out.write("				state : state,\r\n");
      out.write("				address : address,\r\n");
      out.write("				companyaddress : companyaddress,\r\n");
      out.write("				addresstype : addresstype,\r\n");
      out.write("				contkey : contkey,\r\n");
      out.write("				pan : pan,\r\n");
      out.write("				country : country,\r\n");
      out.write("				stateCode : stateCode\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				$(\"#ValidateUpdateContact\").removeAttr(\"disabled\");\r\n");
      out.write("				if(data==\"pass\"){					\r\n");
      out.write("					$('.fixed_right_box').removeClass('active');\r\n");
      out.write("					$('.addnew').show();					\r\n");
      out.write("					updateSalesContact(stbid,firstname,lastname,email,email2,workphone,mobile);									\r\n");
      out.write("				}else if(data==\"invalid\"){\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Please enter a valid email !! !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function(msg) {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("function updateSalesContact(stbid,firstname,lastname,email,email2,workphone,mobile){\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"UpdateSalesContactDetails111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {	\r\n");
      out.write("				stbid : stbid,\r\n");
      out.write("				firstname : firstname,\r\n");
      out.write("				lastname : lastname,\r\n");
      out.write("				email : email,\r\n");
      out.write("				email2 : email2,\r\n");
      out.write("				workphone : workphone,\r\n");
      out.write("				mobile : mobile,\r\n");
      out.write("				salesKey : salesKey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				if(data==\"pass\"){\r\n");
      out.write("					\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML = 'Successfully Updated !!';	\r\n");
      out.write("					$(\"#RefreshContacts\").load(location.href + \" #RefreshContacts1\");\r\n");
      out.write("					$('.alert-show1').show().delay(4000).fadeOut();	\r\n");
      out.write("					\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("					$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				}\r\n");
      out.write("			},\r\n");
      out.write("			complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}	\r\n");
      out.write("function openUpdateContactBox(contctref,cboxid){\r\n");
      out.write("	fillContactUpdateForm(contctref,cboxid);\r\n");
      out.write("	var id = $(\".updatecontactbox\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("}\r\n");
      out.write("function fillContactUpdateForm(key,cboxid){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetContactByRefid111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			key : key\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){		\r\n");
      out.write("		if(Object.keys(response).length!=0){\r\n");
      out.write("		response = JSON.parse(response);			\r\n");
      out.write("		 var len = response.length;		 \r\n");
      out.write("		 if(len>0){\r\n");
      out.write("		 	var contkey=response[0][\"key\"];\r\n");
      out.write("			var firstname=response[0][\"firstname\"];\r\n");
      out.write("			var lastname=response[0][\"lastname\"];\r\n");
      out.write("			var email1=response[0][\"email1\"];\r\n");
      out.write("			var email2=response[0][\"email2\"];\r\n");
      out.write("			var workphone=response[0][\"workphone\"];\r\n");
      out.write("			var mobilephone=response[0][\"mobilephone\"];\r\n");
      out.write("			var addresstype=response[0][\"addresstype\"].trim();\r\n");
      out.write("			var city=response[0][\"city\"];\r\n");
      out.write("			var state=response[0][\"state\"];\r\n");
      out.write("			var address=response[0][\"address\"];\r\n");
      out.write("			var pan=response[0][\"pan\"];\r\n");
      out.write("			var country=response[0][\"country\"];\r\n");
      out.write("			\r\n");
      out.write("			$(\"#UpdateContactKey\").val(contkey);$(\"#UpdateContactSalesKey\").val(cboxid);$(\"#UpdateContactFirstName\").val(firstname);$(\"#UpdateContactLastName\").val(lastname);$(\"#UpdateContactEmail_Id\").val(email1);\r\n");
      out.write("			if(email2!==\"NA\"){\r\n");
      out.write("				$(\"#UpdateContactEmailId2\").val(email2);\r\n");
      out.write("				document.getElementById(\"UpdateContactDivId\").style.display=\"block\";\r\n");
      out.write("			}			\r\n");
      out.write("			$(\"#UpdateContactWorkPhone\").val(workphone);$(\"#UpdateContactMobilePhone\").val(mobilephone);\r\n");
      out.write("			$(\"#UpdateContPan\").val(pan);\r\n");
      out.write("			if(addresstype==\"Personal\"){\r\n");
      out.write("				$(\"#UpdateContactperAddress\").prop('checked',true);\r\n");
      out.write("				$(\"#UpdateContactcomAddress\").prop('checked',false);	\r\n");
      out.write("				$(\"#UpdateContCountry\").val(country);\r\n");
      out.write("				$(\"#UpdateContCity\").empty();\r\n");
      out.write("				$(\"#UpdateContCity\").append(\"<option value='\"+city+\"'>\"+city+\"</option>\");\r\n");
      out.write("				$(\"#UpdateContState\").empty();\r\n");
      out.write("				$(\"#UpdateContState\").append(\"<option value='0#0#\"+state+\"'>\"+state+\"</option>\");\r\n");
      out.write("				$(\"#UpdateContAddress\").val(address);	\r\n");
      out.write("				$(\".UpdateAddress_box\").show();\r\n");
      out.write("				$(\".UpdateCompany_box\").hide();\r\n");
      out.write("			}else if(addresstype==\"Company\"){\r\n");
      out.write("				$(\"#UpdateContactperAddress\").prop('checked',false);	\r\n");
      out.write("				$(\"#UpdateContactcomAddress\").prop('checked',true);\r\n");
      out.write("				$(\"#UpdateEnqCompAddress\").val(address);\r\n");
      out.write("				$(\".UpdateAddress_box\").hide();\r\n");
      out.write("				$(\".UpdateCompany_box\").show();\r\n");
      out.write("			}			\r\n");
      out.write("			\r\n");
      out.write("		 }\r\n");
      out.write("		}\r\n");
      out.write("	},\r\n");
      out.write("	complete : function() {\r\n");
      out.write("        hideLoader();\r\n");
      out.write("    }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function showContact(name,cont1,cont2,type){\r\n");
      out.write("	if(type==\"mobile\"){   \r\n");
      out.write("		$(\"#ContactEmailDiv\").hide();\r\n");
      out.write("		$(\"#ContactMobileDiv\").show();\r\n");
      out.write("		$(\"#FirstContactMobileName\").html(name);\r\n");
      out.write("		$(\"#FirstContactMobile\").html(cont1);\r\n");
      out.write("		if(cont2!=null&&cont2!=\"\"&&cont2.toLowerCase()!=\"na\"){\r\n");
      out.write("			$(\"#SecondContactMobileDisp\").show();\r\n");
      out.write("			$(\"#SecondContactMobile\").html(cont2);\r\n");
      out.write("		}else{\r\n");
      out.write("			$(\"#SecondContactMobileDisp\").hide();\r\n");
      out.write("			$(\"#SecondContactMobile\").html('');\r\n");
      out.write("		}\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#ContactMobileDiv\").hide();\r\n");
      out.write("		$(\"#ContactEmailDiv\").show();\r\n");
      out.write("		$(\"#FirstContactEmailName\").html(name);\r\n");
      out.write("		$(\"#FirstContactEmail\").html(cont1);\r\n");
      out.write("		if(cont2!=null&&cont2!=\"\"&&cont2.toLowerCase()!=\"na\"){\r\n");
      out.write("			$(\"#SecondContactEmailDisp\").show();\r\n");
      out.write("			$(\"#SecondContactEmail\").html(cont2);\r\n");
      out.write("		}else{\r\n");
      out.write("			$(\"#SecondContactEmailDisp\").hide();\r\n");
      out.write("			$(\"#SecondContactEmail\").html('');\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function  showChatReply(PublicreplyLi,InternalreplyLi,ReplyNotesBoxId,InternalNotesBoxId,ChatReplyButtonId){\r\n");
      out.write("	$(\"#\"+PublicreplyLi).addClass(\"active\");\r\n");
      out.write("	$(\"#\"+InternalreplyLi).removeClass(\"active\");\r\n");
      out.write("	$(\"#\"+ReplyNotesBoxId).show();\r\n");
      out.write("	$(\"#\"+InternalNotesBoxId).hide();\r\n");
      out.write("	$(\"#\"+ChatReplyButtonId).show();\r\n");
      out.write("	$(\".communication_history\").show();\r\n");
      out.write("	$(\".communication_history1\").show();\r\n");
      out.write("	$(\".internalNotes\").addClass(\"toggle_box\");\r\n");
      out.write("}\r\n");
      out.write("function  showInternalReply(PublicreplyLi,InternalreplyLi,ReplyNotesBoxId,InternalNotesBoxId,ChatReplyButtonId){\r\n");
      out.write("	$(\"#\"+PublicreplyLi).removeClass(\"active\");\r\n");
      out.write("	$(\"#\"+InternalreplyLi).addClass(\"active\");\r\n");
      out.write("	$(\"#\"+ReplyNotesBoxId).hide();\r\n");
      out.write("	$(\"#\"+InternalNotesBoxId).show();\r\n");
      out.write("	$(\"#\"+ChatReplyButtonId).hide();\r\n");
      out.write("	$(\".communication_history\").hide();\r\n");
      out.write("	$(\".communication_history1\").hide();\r\n");
      out.write("	$(\".internalNotes\").removeClass(\"toggle_box\");\r\n");
      out.write("}\r\n");
      out.write("function updateThisNotes(notificationKey,NotesBoxId,ContactBoxId,DisplayNoneJsId,DisplayNoneSubmitId,DisplayNoneTimerId,TimeCalculatorId){  \r\n");
      out.write("	var notes=$(\"#\"+NotesBoxId).html();\r\n");
      out.write("	var contact=$(\"#\"+ContactBoxId).val();	\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"UpdateSavedNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\r\n");
      out.write("			notificationKey : notificationKey,\r\n");
      out.write("			notes : notes,\r\n");
      out.write("			contact : contact\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML = 'Updated Successfully !!';				\r\n");
      out.write("					$(\"#\"+DisplayNoneJsId).removeClass(\"DispNone\");\r\n");
      out.write("					$(\"#\"+DisplayNoneSubmitId).addClass(\"DispNone\");\r\n");
      out.write("					$(\"#\"+DisplayNoneTimerId).removeClass(\"DispNone\");\r\n");
      out.write("					$(\"#\"+NotesBoxId).removeClass(\"full_width\");\r\n");
      out.write("					$(\"#\"+NotesBoxId).removeClass(\"contentBox1\");\r\n");
      out.write("					$(\"#\"+NotesBoxId).attr(\"contenteditable\",\"false\");	\r\n");
      out.write("					$(\"#\"+TimeCalculatorId).html(\"Just Now\");\r\n");
      out.write("				$('.alert-show1').show().delay(2000).fadeOut();								\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function editTextarea(NotesBoxId,DisplayNoneJsId,DisplayNoneSubmitId,DisplayNoneTimerId){  \r\n");
      out.write("	$(\"#\"+DisplayNoneJsId).addClass(\"DispNone\");\r\n");
      out.write("	$(\"#\"+DisplayNoneSubmitId).removeClass(\"DispNone\");\r\n");
      out.write("	$(\"#\"+DisplayNoneTimerId).addClass(\"DispNone\");\r\n");
      out.write("	$(\"#\"+NotesBoxId).addClass(\"full_width\");\r\n");
      out.write("	$(\"#\"+NotesBoxId).addClass(\"contentBox1\");\r\n");
      out.write("	$(\"#\"+NotesBoxId).attr(\"contenteditable\",\"true\");\r\n");
      out.write("	$(\"#\"+NotesBoxId).focus();\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("function focusTextara(Displayboxid,CallLogNotesId){\r\n");
      out.write("	$(\"#\"+Displayboxid).show();\r\n");
      out.write("	$(\"#\"+CallLogNotesId).focus();\r\n");
      out.write("}\r\n");
      out.write("function removeMainCallNotes(ListBoxId,TaskKey){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"DeleteThisTaskChat111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			TaskKey : TaskKey\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML = \"Deleted !!\";\r\n");
      out.write("				$(\"#\"+ListBoxId).remove();\r\n");
      out.write("				$('.alert-show1').show().delay(500).fadeOut();					\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function removeCallNotes(Hideboxid,CallLogNotesId){\r\n");
      out.write("	$('#'+Hideboxid).hide();\r\n");
      out.write("	$('#'+CallLogNotesId).val('');\r\n");
      out.write("}\r\n");
      out.write("function validateAddExpense(){	\r\n");
      out.write("	var expname=$(\"#AddExpenseClientName\").val().trim();\r\n");
      out.write("	var expNumber=$(\"#AddExpenseClientContactNumber\").val().trim();\r\n");
      out.write("	var expAmount=$(\"#AddExpense_Amount\").val().trim();\r\n");
      out.write("	var expCategory=$(\"#AddExpenseCategory\").val().trim();\r\n");
      out.write("	var expHSN=$(\"#AddHSN_Code\").val().trim();\r\n");
      out.write("	var expDepartment=$(\"#AddExpenseDepartment\").val().trim();\r\n");
      out.write("	var expAccount=$(\"#AddPaidFromAccount\").val().trim();\r\n");
      out.write("	var expNote=$(\"#AddExpenseNote\").val().trim();\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	\r\n");
      out.write("	if(expname==null||expname==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter client's name  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expNumber==null||expNumber==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter client's contact number  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expAmount==null||expAmount==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter expense amount  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expCategory==null||expCategory==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select expense category  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expDepartment==null||expDepartment==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter expense department  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expAccount==null||expAccount==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select payment via account  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(3000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expNote==null||expNote==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please describe this expense in few word..  !!\";    	\r\n");
      out.write("    	$('.alert-show').show().delay(4000).fadeOut();    \r\n");
      out.write("    	return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(expHSN==null||expHSN==\"\"){\r\n");
      out.write("		$(\"#AddHSN_Code\").val(\"NA\");\r\n");
      out.write("	}\r\n");
      out.write("	$(\"#exp_btn\").attr(\"disabled\",\"disabled\");\r\n");
      out.write("	var task_name=\"");
      out.print(milestone[0][4] );
      out.write("\";\r\n");
      out.write("	var assignKey=\"");
      out.print(assignKey);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"AddExpenseApproval111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			expname : expname,\r\n");
      out.write("			expNumber : expNumber,\r\n");
      out.write("			expAmount : expAmount,\r\n");
      out.write("			expCategory : expCategory,\r\n");
      out.write("			expHSN : expHSN,\r\n");
      out.write("			expDepartment : expDepartment,\r\n");
      out.write("			expAccount : expAccount,\r\n");
      out.write("			expNote : expNote,\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			task_name : task_name,\r\n");
      out.write("			assignKey : assignKey,\r\n");
      out.write("			approvalStatus : \"2\",\r\n");
      out.write("			approveBy : \"NA\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			$(\"#exp_btn\").removeAttr(\"disabled\");\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML = 'Successfully expense added for approval !!';				\r\n");
      out.write("				 $('.closeAddExpenseBtn').click();\r\n");
      out.write("				 $(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");\r\n");
      out.write("				$('.alert-show1').show().delay(2000).fadeOut();								\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try-again Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$(function() {\r\n");
      out.write("	$(\"#AddHSN_Code\").autocomplete({\r\n");
      out.write("		source : function(request, response) {\r\n");
      out.write("			if(document.getElementById(\"AddHSN_Code\").value.trim().length>=2)\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				url : \"");
      out.print(request.getContextPath());
      out.write("/getnewproduct.html\",\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				dataType : \"JSON\",\r\n");
      out.write("				data : {\r\n");
      out.write("					name : request.term,\r\n");
      out.write("					field: \"salehsntax\",\r\n");
      out.write("				},\r\n");
      out.write("				success : function(data) {\r\n");
      out.write("					response($.map(data, function(item) {\r\n");
      out.write("						return {  \r\n");
      out.write("							label : item.name,\r\n");
      out.write("							value : item.value,\r\n");
      out.write("							hsn : item.hsn,							\r\n");
      out.write("							igst : item.igst\r\n");
      out.write("						};\r\n");
      out.write("					}));\r\n");
      out.write("				},\r\n");
      out.write("				error : function(error) {\r\n");
      out.write("					alert('error: ' + error.responseText);\r\n");
      out.write("				}\r\n");
      out.write("			});\r\n");
      out.write("		},\r\n");
      out.write("		change: function (event, ui) {\r\n");
      out.write("            if(!ui.item){     \r\n");
      out.write("            	document.getElementById('errorMsg').innerHTML =\"HSN number doesn't exist !!\";\r\n");
      out.write("            	$(\"#AddHSN_Code\").val(\"\"); \r\n");
      out.write("            	$('.alert-show').show().delay(2000).fadeOut();            	\r\n");
      out.write("            }\r\n");
      out.write("            else{              	\r\n");
      out.write("            	$(\"#AddHSN_Code\").val(ui.item.hsn);\r\n");
      out.write("            }\r\n");
      out.write("        },\r\n");
      out.write("        error : function(error){\r\n");
      out.write("			alert('error: ' + error.responseText);\r\n");
      out.write("		},\r\n");
      out.write("	});\r\n");
      out.write("});\r\n");
      out.write("function openExpense(){\r\n");
      out.write("showLoader();\r\n");
      out.write("	$(\"#AddNewExpense\").trigger('reset');\r\n");
      out.write("	\r\n");
      out.write("	var id = $(\".expense\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("	    hideLoader();\r\n");
      out.write("}\r\n");
      out.write("function openContactBox(contkey){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$(\"#AddContactKeyId\").val(contkey);	\r\n");
      out.write("	$('#FormContactBox').trigger(\"reset\");\r\n");
      out.write("	var id = $(\".addnew1\").attr('data-related'); \r\n");
      out.write("	$(id).hide();\r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("	    hideLoader();\r\n");
      out.write("}  \r\n");
      out.write("\r\n");
      out.write("function getCompanyAddress(){\r\n");
      out.write("	var compaddress=document.getElementById(\"EditTaskCompAddress\").value.trim();\r\n");
      out.write("	document.getElementById(\"EnqCompAddress\").value=compaddress;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function validateContact(){\r\n");
      out.write("\r\n");
      out.write("	if(document.getElementById(\"ContactFirstName\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"First name is mandatory.\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactLastName\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Last name is mandatory\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactEmail_Id\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Email is mandatory\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactEmailId2\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById(\"ContactEmailId2\").value=\"NA\";\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactPan\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById(\"ContactPan\").value=\"NA\";\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactWorkPhone\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Work phone is mandatory\";\r\n");
      out.write("		$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(document.getElementById(\"ContactMobilePhone\").value.trim()==\"\"){\r\n");
      out.write("		document.getElementById(\"ContactMobilePhone\").value=\"NA\";\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	if($('#ContactperAddress').prop('checked')){\r\n");
      out.write("		if(document.getElementById(\"ContCountry\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Country is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"ContState\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"State is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		if(document.getElementById(\"ContCity\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"City is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}		\r\n");
      out.write("		if(document.getElementById(\"ContAddress\").value.trim()==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Address is mandatory\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("	}\r\n");
      out.write("	var firstname=document.getElementById(\"ContactFirstName\").value.trim();\r\n");
      out.write("	var lastname=document.getElementById(\"ContactLastName\").value.trim();\r\n");
      out.write("	var email=document.getElementById(\"ContactEmail_Id\").value.trim();\r\n");
      out.write("	var email2=document.getElementById(\"ContactEmailId2\").value.trim();\r\n");
      out.write("	var workphone=document.getElementById(\"ContactWorkPhone\").value.trim();\r\n");
      out.write("	var mobile=document.getElementById(\"ContactMobilePhone\").value.trim();\r\n");
      out.write("	var contactkey=document.getElementById(\"AddContactKeyId\").value.trim();\r\n");
      out.write("	var pan=$(\"#ContactPan\").val().trim();\r\n");
      out.write("	var country=\"NA\";\r\n");
      out.write("    var city=\"NA\";\r\n");
      out.write("    var state=\"NA\";\r\n");
      out.write("    var address=\"NA\";\r\n");
      out.write("    var companyaddress=\"NA\";\r\n");
      out.write("    var addresstype=\"Personal\";\r\n");
      out.write("    if($('#ContactperAddress').prop('checked')){\r\n");
      out.write("    	country=document.getElementById(\"ContCountry\").value.trim();\r\n");
      out.write("    	var x=country.split(\"#\");\r\n");
      out.write("    	country=x[1];\r\n");
      out.write("    	state=document.getElementById(\"ContState\").value.trim();\r\n");
      out.write("    	x=state.split(\"#\");\r\n");
      out.write("    	state=x[2];\r\n");
      out.write("    	\r\n");
      out.write("    	city=document.getElementById(\"ContCity\").value.trim();    	\r\n");
      out.write("    	address=document.getElementById(\"ContAddress\").value.trim();    	\r\n");
      out.write("    }\r\n");
      out.write("    if($('#ContactcomAddress').prop('checked')){\r\n");
      out.write("		companyaddress=document.getElementById(\"EnqCompAddress\").value.trim();\r\n");
      out.write("		addresstype=\"Company\";\r\n");
      out.write("    }\r\n");
      out.write("    var compname=\"");
      out.print(companyname);
      out.write("\";\r\n");
      out.write("    var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("    var key=getKey(40);\r\n");
      out.write("    var CompanyRefId=\"");
      out.print(clientKey);
      out.write("\";\r\n");
      out.write("    showLoader();\r\n");
      out.write("    $(\"#ValidateAddContact\").attr(\"disabled\",\"disabled\"); \r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"RegisterNewSalesContact777\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			firstname : firstname,\r\n");
      out.write("			lastname : lastname,\r\n");
      out.write("			email : email,\r\n");
      out.write("			email2 : email2,\r\n");
      out.write("			workphone : workphone,\r\n");
      out.write("			mobile : mobile,\r\n");
      out.write("			city : city,\r\n");
      out.write("			state : state,\r\n");
      out.write("			address : address,\r\n");
      out.write("			companyaddress : companyaddress,			\r\n");
      out.write("			compname : compname,\r\n");
      out.write("			addresstype : addresstype,\r\n");
      out.write("			key : key,\r\n");
      out.write("			contactkey : contactkey,\r\n");
      out.write("			CompanyRefId : CompanyRefId,\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			pan : pan,\r\n");
      out.write("			country : country\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			$(\"#ValidateAddContact\").removeAttr(\"disabled\");\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML = 'Successfully Contact Added !!';				\r\n");
      out.write("				 $('#FormContactBox').trigger(\"reset\");\r\n");
      out.write("				$('.fixed_right_box').removeClass('active');			\r\n");
      out.write("				$(\"#RefreshContacts\").load(location.href + \" #RefreshContacts1\");				\r\n");
      out.write("				$('.alert-show1').show().delay(4000).fadeOut();								\r\n");
      out.write("			}else if(data==\"invalid\"){\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Please enter a valid email !! !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function(msg) {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function openToolTipBox(task){\r\n");
      out.write("	$(\"#TaskMilestoneName\").html(task);\r\n");
      out.write("	var id = $(\".tooltips\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function openDocumentBox(){\r\n");
      out.write("	var id = $(\".adddoc\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function openChatBox(){\r\n");
      out.write("	var user=\"");
      out.print(loginUserName);
      out.write("\";\r\n");
      out.write("	var sendTo=\"");
      out.print(projectNo);
      out.write("\";\r\n");
      out.write("\r\n");
      out.write("// 	$('#ActiveEmployeeSalesKey').val(salesKey)\r\n");
      out.write("	user+=\"-\"+sendTo;\r\n");
      out.write("	init(user,sendTo);\r\n");
      out.write("	$('#ChatTextareaBoxReply+.cke_editor_ChatTextareaBoxReply .cke_top').toggleClass('DispNone');\r\n");
      out.write("	var id = $(\".openChat\").attr('data-related'); \r\n");
      out.write("	$('.fixed_right_box').addClass('active');\r\n");
      out.write("	    $(\"div.add_inner_box\").each(function(){\r\n");
      out.write("	        $(this).hide();\r\n");
      out.write("	        if($(this).attr('id') == id) {\r\n");
      out.write("	            $(this).show();\r\n");
      out.write("	        }\r\n");
      out.write("	    });	\r\n");
      out.write("	    $(\".cmhistscroll\").scrollTop($(\".cmhistscroll\")[0].scrollHeight);\r\n");
      out.write("}\r\n");
      out.write("function validateInternalNotes(){\r\n");
      out.write("	var boxContent=CKEDITOR.instances.ChatTextareaBoxReply1.getData();\r\n");
      out.write("	if(boxContent==null||boxContent==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please write internal notes in few word !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"");
      out.print(request.getContextPath());
      out.write("/SubmitInterNotes111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			boxContent : boxContent\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				CKEDITOR.instances.ChatTextareaBoxReply1.setData('');\r\n");
      out.write("				$(\"#TaskChatInternalHistroy\").load(location.href + \" #TaskChatInternalHistroy1\");					\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML = 'Something went wrong , Try Sometime later !!';\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function validateChatReply(submitStatus){\r\n");
      out.write("var chatText=CKEDITOR.instances.ChatTextareaBoxReply.getData();\r\n");
      out.write("	\r\n");
      out.write("	if(chatText==null||chatText==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please write some text here !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	var milestone=$(\"#ChatReplyBoxTaskId\").val();\r\n");
      out.write("	if(milestone==null||milestone==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select milestone !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	} \r\n");
      out.write("	if(submitStatus==\"On-hold\"){\r\n");
      out.write("		$(\"#holdWarning\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		submitChatReply(submitStatus,\"NA\",\"NA\");	\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function validateHoldReply(submitStatus){\r\n");
      out.write("	var type=$(\"#holdChatType\").val();\r\n");
      out.write("	var reason=$(\"#holdReason\").val();\r\n");
      out.write("	if(type==null||type==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please select type !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	if(type==null||type==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter reason !!\";\r\n");
      out.write("		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}\r\n");
      out.write("	submitChatReply(submitStatus,type,reason);\r\n");
      out.write("}\r\n");
      out.write("function submitChatReply(submitStatus,type,reason){\r\n");
      out.write("	var chatText=CKEDITOR.instances.ChatTextareaBoxReply.getData();\r\n");
      out.write("	var milestone=$(\"#ChatReplyBoxTaskId\").val();\r\n");
      out.write("	\r\n");
      out.write("	$(\"#BoxContent\").val(chatText);\r\n");
      out.write("	$(\"#SubmitStatus\").val(submitStatus);\r\n");
      out.write("	\r\n");
      out.write("	$(\"#MilestoneDataBoxId\").val(milestone);\r\n");
      out.write("	\r\n");
      out.write("	var deliveryDate=$(\"#MilestonePrevDeliveryDate\").val();\r\n");
      out.write("	var newDeliveryDate=$(\"#SetDeliveryDateId\").val();\r\n");
      out.write("	\r\n");
      out.write("	if (typeof newDeliveryDate === \"undefined\") {\r\n");
      out.write("		newDeliveryDate=deliveryDate;\r\n");
      out.write("	}\r\n");
      out.write("		\r\n");
      out.write("	var smsPhone=$(\"#SMS_Mobile\").val();\r\n");
      out.write("	if(smsPhone==null||smsPhone==\"\")smsPhone=\"NA\";\r\n");
      out.write("	var smsDescription=CKEDITOR.instances['SMS_Description'].getData();\r\n");
      out.write("	if(smsDescription==null||smsDescription==\"\"){smsPhone=\"NA\";smsDescription=\"NA\";};\r\n");
      out.write("		\r\n");
      out.write("	var emailTo=$(\"#Email_To\").val();\r\n");
      out.write("	if(emailTo==null||emailTo==\"\")emailTo=\"NA\";\r\n");
      out.write("	var emailSubject=$(\"#Email_Subject\").val();\r\n");
      out.write("	if(emailSubject==null||emailSubject==\"\")emailSubject=\"Notification\";\r\n");
      out.write("	var emailDescription=CKEDITOR.instances['Email_Description'].getData();\r\n");
      out.write("	if(emailDescription==null||emailDescription==\"\"){emailDescription=\"NA\";emailTo=\"NA\"};\r\n");
      out.write("	\r\n");
      out.write("	var extendComment=$(\"#date_extend_comment\").val();\r\n");
      out.write("	if(extendComment==\"\"||extendComment==null)extendComment=\"NA\";\r\n");
      out.write("	\r\n");
      out.write("	var formName=$(\"#DynamicFormName\").val();\r\n");
      out.write("	if(formName==\"\")formName=\"NA\";\r\n");
      out.write("	var form = $(\".PublicChatReply\")[0]; \r\n");
      out.write("    var data = new FormData(form);\r\n");
      out.write("    if(formDataJson==\"\")formDataJson=\"NA\";\r\n");
      out.write("    data.append(\"formDataJson\", formDataJson);\r\n");
      out.write("    data.append(\"deliveryDate\", deliveryDate);\r\n");
      out.write("    data.append(\"newDeliveryDate\", newDeliveryDate);\r\n");
      out.write("    data.append(\"dynamicFormDataName\", formName);\r\n");
      out.write("    data.append(\"milestoneDataBox\", milestone);\r\n");
      out.write("    data.append(\"type\", type);\r\n");
      out.write("    data.append(\"reason\", reason);\r\n");
      out.write("    data.append(\"extendComment\",extendComment);\r\n");
      out.write("    showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("        type : \"POST\",\r\n");
      out.write("        encType : \"multipart/form-data\",\r\n");
      out.write("        url : \"");
      out.print(request.getContextPath());
      out.write("/SubmitPublicReply111\",\r\n");
      out.write("        cache : false,\r\n");
      out.write("        processData : false,\r\n");
      out.write("        contentType : false,\r\n");
      out.write("        data : data,\r\n");
      out.write("        success : function(msg) {        	\r\n");
      out.write("        	var data=msg.split(\"#\");\r\n");
      out.write("        	if(data[0]==\"pass\"){\r\n");
      out.write("        		document.getElementById('errorMsg1').innerHTML =\"Successfully Submitted !!\";\r\n");
      out.write("        		if(submitStatus==\"On-hold\"){\r\n");
      out.write("        			$(\"#holdWarning\").modal(\"hide\");\r\n");
      out.write("        		}\r\n");
      out.write("        		$(\".homeNotification\").hide();\r\n");
      out.write("        		var chatText=CKEDITOR.instances.ChatTextareaBoxReply.setData('');\r\n");
      out.write("        		$(\"#PublicChatReplyFormId\").trigger(\"reset\");\r\n");
      out.write("        		$(\"#SetDeliveryDateId\").val(newDeliveryDate);\r\n");
      out.write("        		$(\"#SetDeliveryDateId\")[0].min=newDeliveryDate;\r\n");
      out.write("        		\r\n");
      out.write("        		var docpath=data[1];\r\n");
      out.write("        		var docsize=data[2];\r\n");
      out.write("        		var docextension=data[3];\r\n");
      out.write("        		var docname=data[4];\r\n");
      out.write("        		var dformkey=data[5];\r\n");
      out.write("        		var sendTo=\"");
      out.print(projectNo);
      out.write("\";\r\n");
      out.write("        		var content=$(\"#BoxContent\").val();\r\n");
      out.write("        		sendMessage(content,sendTo,\"user\",\"NA\",docpath,docsize,docextension,docname,dformkey,formName);        		\r\n");
      out.write("        		 $(\".cmhistscroll\").scrollTop($(\".cmhistscroll\")[0].scrollHeight);\r\n");
      out.write("//         		$(\"#TaskChatHistroy\").load(location.href + \" #TaskChatHistroy1\");	\r\n");
      out.write("//         		sendSMSEmail(smsPhone,smsDescription,emailTo,emailSubject,emailDescription);\r\n");
      out.write("	    		$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("	    		\r\n");
      out.write("    		}else{\r\n");
      out.write("    			document.getElementById('errorMsg').innerHTML =\"Something Went wrong ,try-again later !!\";\r\n");
      out.write("	    		$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("    		}\r\n");
      out.write("        },\r\n");
      out.write("        error : function(msg) {\r\n");
      out.write("            alert(\"Couldn't upload file\");\r\n");
      out.write("        },\r\n");
      out.write("        complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function sendSMSEmail(smsPhone,smsDescription,emailTo,emailSubject,emailDescription){\r\n");
      out.write("	showLoader(); \r\n");
      out.write("	$.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/SendSmsEmailNotification111\",\r\n");
      out.write("		    data:  { 		    	\r\n");
      out.write("		    	smsPhone : smsPhone,\r\n");
      out.write("		    	smsDescription : smsDescription,\r\n");
      out.write("		    	emailTo : emailTo,\r\n");
      out.write("		    	emailSubject : emailSubject,\r\n");
      out.write("		    	emailDescription : emailDescription\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {       	  \r\n");
      out.write("	        },\r\n");
      out.write("	        complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("function fileSize(fileId){\r\n");
      out.write("	const fi=document.getElementById(fileId);\r\n");
      out.write("	if (fi.files.length > 0) {\r\n");
      out.write("		const fsize = fi.files.item(0).size; \r\n");
      out.write("        const file = Math.round((fsize / 1024)); \r\n");
      out.write("        // The size of the file. \r\n");
      out.write("        if (file >= 49152) {  \r\n");
      out.write("            document.getElementById('errorMsg').innerHTML ='File too Big, Max File Size 48 MB !!';\r\n");
      out.write("            document.getElementById(fileId).value=\"\";\r\n");
      out.write(" 		    $('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("        }		\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("function clearSession(data){\r\n");
      out.write("	   $.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/ClearSessionData111\",\r\n");
      out.write("		    data:  { 		    	\r\n");
      out.write("		    	data : data\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {       	  \r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("function setDynamicForm(templateKey){\r\n");
      out.write("	if(templateKey==null||templateKey==\"\"){\r\n");
      out.write("		$(\"#clear-all-fields\").click();\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#clear-all-fields\").click();\r\n");
      out.write("		setTimeout(() => {\r\n");
      out.write("			$(\"#Set-dynamic-form-template\").click()\r\n");
      out.write("		}, 400);		\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("jQuery(function($) {\r\n");
      out.write("	  var fbEditor = document.getElementById('build-wrap');\r\n");
      out.write("	  var formBuilder = $(fbEditor).formBuilder();\r\n");
      out.write("	  document.getElementById('getJSON').addEventListener('click', function() {\r\n");
      out.write("		  formDataJson=formBuilder.actions.getData('json',true);\r\n");
      out.write("		  var formName=$(\"#DynamicFormName\").val();\r\n");
      out.write("		  \r\n");
      out.write("		 if(formDataJson==\"[]\"){\r\n");
      out.write("			  document.getElementById('errorMsg').innerHTML =\"Please create form design !!.\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("		  }else if(formName==null||formName==\"\"){\r\n");
      out.write("			  document.getElementById('errorMsg').innerHTML =\"Please enter form name !!.\";\r\n");
      out.write("				$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("				return false;\r\n");
      out.write("		  }else{			    \r\n");
      out.write("		    formBuilder.actions.clearFields();			    \r\n");
      out.write("		   	$(\"#DynamicFormModal\").modal(\"hide\");\r\n");
      out.write("		  }\r\n");
      out.write("	  });\r\n");
      out.write("	  \r\n");
      out.write("		$('.setData').click(function() {\r\n");
      out.write("			setTimeout(() => {					\r\n");
      out.write("			var fKey=$(\"#ProjectFollowUpKey\").val();\r\n");
      out.write("			showLoader();\r\n");
      out.write("			$.ajax({\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				url : \"GetDynamicFormData111\",\r\n");
      out.write("				dataType : \"HTML\",\r\n");
      out.write("				data : {				\r\n");
      out.write("					fKey : fKey,			\r\n");
      out.write("				},\r\n");
      out.write("				success : function(response){\r\n");
      out.write("					if(Object.keys(response).length!=0){\r\n");
      out.write("						response=JSON.parse(response);\r\n");
      out.write("					var formData=response[0][\"formData\"];\r\n");
      out.write("					\r\n");
      out.write("					formBuilder.actions.setData(formData);\r\n");
      out.write("				    $(\"#DynamicFormModal\").modal(\"show\");			\r\n");
      out.write("				}},\r\n");
      out.write("				complete : function() {\r\n");
      out.write("		            hideLoader();\r\n");
      out.write("		        }\r\n");
      out.write("			});	    \r\n");
      out.write("			}, 200);\r\n");
      out.write("		});\r\n");
      out.write("		\r\n");
      out.write("		document.getElementById('clear-all-fields').onclick = function() {\r\n");
      out.write("		    formBuilder.actions.clearFields();\r\n");
      out.write("		};\r\n");
      out.write("		document.getElementById('Set-dynamic-form-template').onclick = function() {\r\n");
      out.write("		    var templateKey=$(\"#DynamicFormTemplate\").val();\r\n");
      out.write("		    showLoader();\r\n");
      out.write("		    $.ajax({\r\n");
      out.write("				type : \"POST\",\r\n");
      out.write("				url : \"GetDynamicFormTemplate111\",\r\n");
      out.write("				dataType : \"HTML\",\r\n");
      out.write("				data : {				\r\n");
      out.write("					templateKey : templateKey,			\r\n");
      out.write("				},\r\n");
      out.write("				success : function(response){\r\n");
      out.write("					if(Object.keys(response).length!=0){\r\n");
      out.write("						response=JSON.parse(response);\r\n");
      out.write("					var formTemplate=response[0][\"formTemplate\"];						\r\n");
      out.write("					formBuilder.actions.setData(formTemplate);		\r\n");
      out.write("				}},\r\n");
      out.write("				complete : function() {\r\n");
      out.write("		            hideLoader();\r\n");
      out.write("		        }\r\n");
      out.write("			});	\r\n");
      out.write("		};\r\n");
      out.write("	});\r\n");
      out.write("</script>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("$(document).ready(function() {\r\n");
      out.write("    $(\".select2\").select2({\r\n");
      out.write("        dropdownParent: $(\"#DynamicFormModal .modal-content\")\r\n");
      out.write("     });    \r\n");
      out.write("    \r\n");
      out.write("    let reupload=\"");
      out.print(reupload);
      out.write("\";\r\n");
      out.write("    if(reupload!=null&&reupload==\"done\"){\r\n");
      out.write("    	openDocumentBox();\r\n");
      out.write("    	openDocument(event, 'ClientUploadDoc');\r\n");
      out.write("    	$(\".tab\").children('.tablinks').first().next().addClass(\"active\");\r\n");
      out.write("    }\r\n");
      out.write("});\r\n");
      out.write("function openDocument(evt, cityName) {\r\n");
      out.write("	  var i, tabcontent, tablinks;\r\n");
      out.write("	  tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n");
      out.write("	  for (i = 0; i < tabcontent.length; i++) {\r\n");
      out.write("	    tabcontent[i].style.display = \"none\";\r\n");
      out.write("	  }\r\n");
      out.write("	  tablinks = document.getElementsByClassName(\"tablinks\");\r\n");
      out.write("	  for (i = 0; i < tablinks.length; i++) {\r\n");
      out.write("	    tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n");
      out.write("	  }\r\n");
      out.write("	  document.getElementById(cityName).style.display = \"block\";\r\n");
      out.write("	  evt.currentTarget.className += \" active\";\r\n");
      out.write("	}\r\n");
      out.write("function doAction(data,name){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("	    type: \"POST\",\r\n");
      out.write("	    url: \"");
      out.print(request.getContextPath());
      out.write("/SetDataToSession111\",\r\n");
      out.write("	    data:  { \r\n");
      out.write("	    	data : data,\r\n");
      out.write("	    	name : name\r\n");
      out.write("	    },\r\n");
      out.write("	    success: function (response) {\r\n");
      out.write("	    	location.reload(true);\r\n");
      out.write("        },\r\n");
      out.write("        complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function deleteDocument(docId,docName){\r\n");
      out.write("	if(docId!=\"NA\"){\r\n");
      out.write("		$(\"#SalesDocumentId\").val(docId);\r\n");
      out.write("		$(\"#SalesDocumentName\").val(docName);\r\n");
      out.write("		$(\"#warningDeleteFile\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#warningDeleteFile\").modal(\"hide\");\r\n");
      out.write("		docId=$(\"#SalesDocumentId\").val();\r\n");
      out.write("		docName=$(\"#SalesDocumentName\").val();\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/deleteSalesHistoryDocument111\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	docId : docId,\r\n");
      out.write("		    	docName : docName\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(response==\"pass\"){\r\n");
      out.write("		    		$(\"#Delete\"+docId).hide();\r\n");
      out.write("		    		$(\"#Download\"+docId).hide();\r\n");
      out.write("		    	}\r\n");
      out.write("	        },\r\n");
      out.write("	        complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("$(document).ready(function () {\r\n");
      out.write("    $('.doticon').click(function (e) {\r\n");
      out.write("        $('.mobiledropdown ').stop(true).slideToggle();\r\n");
      out.write("    });\r\n");
      out.write("    $(document).click(function (e) {\r\n");
      out.write("        if (!$(e.target).closest('.doticon, .mobiledropdown ').length) {\r\n");
      out.write("            $('.mobiledropdown ').stop(true).slideUp();\r\n");
      out.write("        }\r\n");
      out.write("    });\r\n");
      out.write("});\r\n");
      out.write("function transferRetrieve(taskKey,status){\r\n");
      out.write("	if(taskKey!=\"NA\"){\r\n");
      out.write("		$(\"#TransferKeyModal\").val(taskKey);\r\n");
      out.write("		$(\"#TransferKeyStatusModal\").val(status);\r\n");
      out.write("		if(status==\"1\")\r\n");
      out.write("			$(\"#transferRetrieveHead\").html(\"&nbsp;&nbsp;Do you want to transfer back this milestone ?\");\r\n");
      out.write("		else $(\"#transferRetrieveHead\").html(\"&nbsp;&nbsp;Do you want to transfer this milestone ?\");\r\n");
      out.write("		\r\n");
      out.write("		$(\"#warningtransferRetrieve\").modal(\"show\");\r\n");
      out.write("	}else{\r\n");
      out.write("		var taskKey=$(\"#TransferKeyModal\").val();\r\n");
      out.write("		var status=$(\"#TransferKeyStatusModal\").val();\r\n");
      out.write("		var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("		var clientKey=\"");
      out.print(clientKey);
      out.write("\";\r\n");
      out.write("		var taskName=\"");
      out.print(milestoneName);
      out.write("\";\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("		    type: \"POST\",\r\n");
      out.write("		    url: \"");
      out.print(request.getContextPath());
      out.write("/TransferRetrieve111\",\r\n");
      out.write("		    data:  { \r\n");
      out.write("		    	taskKey : taskKey,\r\n");
      out.write("		    	status : status,\r\n");
      out.write("		    	salesKey : salesKey,\r\n");
      out.write("		    	clientKey : clientKey,\r\n");
      out.write("		    	taskName : taskName\r\n");
      out.write("		    },\r\n");
      out.write("		    success: function (response) {\r\n");
      out.write("		    	if(response==\"pass\"){\r\n");
      out.write("		    		location.reload();\r\n");
      out.write("		    	}\r\n");
      out.write("	        },\r\n");
      out.write("	        complete : function(){\r\n");
      out.write("	        	hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function updateState(data,stateId){\r\n");
      out.write("	var x=data.split(\"#\");\r\n");
      out.write("	var id=x[0];\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetStateCity111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			id : id,\r\n");
      out.write("			fetch : \"state\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("			$(\"#\"+stateId).empty();\r\n");
      out.write("			$(\"#\"+stateId).append(response);	\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function updateCity(data,cityId){\r\n");
      out.write("	var x=data.split(\"#\");\r\n");
      out.write("	var id=x[0];\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"GetStateCity111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {				\r\n");
      out.write("			id : id,\r\n");
      out.write("			fetch : \"city\"\r\n");
      out.write("		},\r\n");
      out.write("		success : function(response){	\r\n");
      out.write("			$(\"#\"+cityId).empty();\r\n");
      out.write("			$(\"#\"+cityId).append(response);	\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function isExistPan(valueid){\r\n");
      out.write("	var val=document.getElementById(valueid).value.trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"){\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"isPan\"},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=val +\" is already existed.\";\r\n");
      out.write("			document.getElementById(valueid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("}\r\n");
      out.write("function isExistEditPan(valueid){\r\n");
      out.write("	var val=document.getElementById(valueid).value.trim();\r\n");
      out.write("	var key=$(\"#UpdateContactKey\").val().trim();\r\n");
      out.write("	if(val!=\"\"&&val!=\"NA\"&&key!=\"\"&&key!=\"NA\"){\r\n");
      out.write("		showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ExistEditValue111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {\"val\":val,\"field\":\"isEditPanContact\",\"id\":key},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){\r\n");
      out.write("			document.getElementById(\"errorMsg\").innerHTML=val +\" is already existed.\";\r\n");
      out.write("			document.getElementById(valueid).value=\"\";\r\n");
      out.write("			$('.alert-show').show().delay(4000).fadeOut();\r\n");
      out.write("			}\r\n");
      out.write("			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});}\r\n");
      out.write("}\r\n");
      out.write("function saveNotesReply(data,uaid){\r\n");
      out.write("	if(data==\"NA\"){\r\n");
      out.write("		var comment=$(\"#notes_reply\").val();		\r\n");
      out.write("	if(comment==null||comment==\"\"){\r\n");
      out.write("		document.getElementById('errorMsg').innerHTML =\"Please enter comment !!.\";\r\n");
      out.write("		$('.alert-show').show().delay(2000).fadeOut();\r\n");
      out.write("		return false;\r\n");
      out.write("	}	\r\n");
      out.write("	var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("	var contactKey=\"");
      out.print(contactefid);
      out.write("\";\r\n");
      out.write("	var uaid=$(\"#replyNotesAddedByUid\").val();\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ReplyNotesWritten111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {	\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			contactKey : contactKey,\r\n");
      out.write("			comment : comment,\r\n");
      out.write("			uaid : uaid\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				$(\"#replyNotesWritten\").modal(\"hide\");\r\n");
      out.write("				$(\"#ReloadReminder\").load(location.href + \" #ReloadReminder1\");	\r\n");
      out.write("				$(\"#ReloadTaskThread\").load(location.href + \" #ReloadTaskThread1\");\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#replyNotesWritten\").modal(\"show\");\r\n");
      out.write("		$(\"#replyNotesAddedByUid\").val(uaid);\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("function sendDocumentEmail(dockey){\r\n");
      out.write("	if(dockey==\"NA\"){\r\n");
      out.write("		var docKey=$(\"#sendDocumentClientKey\").val();\r\n");
      out.write("		var salesKey=\"");
      out.print(salesrefid);
      out.write("\";\r\n");
      out.write("		var name=\"");
      out.print(contactName);
      out.write("\";\r\n");
      out.write("		var email=\"");
      out.print(contactEmail);
      out.write("\";\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"POST\",\r\n");
      out.write("			url : \"ShareDocumentToClient111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {	\r\n");
      out.write("				salesKey : salesKey,\r\n");
      out.write("				name : name,\r\n");
      out.write("				email : email,\r\n");
      out.write("				docKey : docKey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				$(\"#documentSendWarning\").modal(\"hide\");\r\n");
      out.write("				if(data==\"pass\"){	\r\n");
      out.write("					document.getElementById('errorMsg1').innerHTML =\"Successfully Shared !!\";\r\n");
      out.write("					$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("				}else{\r\n");
      out.write("					document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("					$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("				}			\r\n");
      out.write("			},\r\n");
      out.write("			complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#sendDocumentClientKey\").val(dockey);\r\n");
      out.write("		$(\"#documentSendWarning\").modal(\"show\");\r\n");
      out.write("	}\r\n");
      out.write("} \r\n");
      out.write("function dateExtendRecord(deliveryDate){\r\n");
      out.write("	if(deliveryDate==\"NA\"){\r\n");
      out.write("		var comment=$(\"#date_extend_comment\").val();\r\n");
      out.write("		if(comment==null||comment==\"\"){\r\n");
      out.write("			document.getElementById('errorMsg').innerHTML =\"Please enter comment !!\";\r\n");
      out.write("			$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			return false;\r\n");
      out.write("		}\r\n");
      out.write("		$(\"#dateExtendRecord\").modal(\"hide\");\r\n");
      out.write("	}else{\r\n");
      out.write("		$(\"#deliveryDateTime\").val(deliveryDate);\r\n");
      out.write("		$(\"#dateExtendRecord\").modal(\"show\");\r\n");
      out.write("	}	\r\n");
      out.write("}\r\n");
      out.write("function setOldDate(){\r\n");
      out.write("	var deliveryDate=$(\"#deliveryDateTime\").val();\r\n");
      out.write("	$(\"#SetDeliveryDateId\").val(deliveryDate);\r\n");
      out.write("	$(\"#SetDeliveryDateId\")[0].min=deliveryDate;\r\n");
      out.write("}\r\n");
      out.write("function reUploadRequest(docKey,salesKey){\r\n");
      out.write("	showLoader();\r\n");
      out.write("	$.ajax({\r\n");
      out.write("		type : \"POST\",\r\n");
      out.write("		url : \"ReUploadDocument111\",\r\n");
      out.write("		dataType : \"HTML\",\r\n");
      out.write("		data : {	\r\n");
      out.write("			docKey : docKey,\r\n");
      out.write("			salesKey : salesKey,\r\n");
      out.write("			location : window.location.pathname\r\n");
      out.write("		},\r\n");
      out.write("		success : function(data){\r\n");
      out.write("			if(data==\"pass\"){	\r\n");
      out.write("				document.getElementById('errorMsg1').innerHTML =\"Re-Upload document request sent !!\";\r\n");
      out.write("				$('.alert-show1').show().delay(3000).fadeOut();\r\n");
      out.write("			}else{\r\n");
      out.write("				document.getElementById('errorMsg').innerHTML =\"Something went wrong !! Please Try-again later !!\";\r\n");
      out.write("				$('.alert-show').show().delay(3000).fadeOut();\r\n");
      out.write("			}			\r\n");
      out.write("		},\r\n");
      out.write("		complete : function() {\r\n");
      out.write("            hideLoader();\r\n");
      out.write("        }\r\n");
      out.write("	});\r\n");
      out.write("}\r\n");
      out.write("function loadServiceDetails(salesKey){\r\n");
      out.write("	var skey=$(\"#serviceDetailsModelKey\").val();\r\n");
      out.write("	if(skey==salesKey){\r\n");
      out.write("		$(\"#serviceDetails\").modal(\"show\");\r\n");
      out.write("	}else{	\r\n");
      out.write("		showLoader();\r\n");
      out.write("		$.ajax({\r\n");
      out.write("			type : \"GET\",\r\n");
      out.write("			url : \"GetServiceDetails111\",\r\n");
      out.write("			dataType : \"HTML\",\r\n");
      out.write("			data : {	\r\n");
      out.write("				salesKey : salesKey\r\n");
      out.write("			},\r\n");
      out.write("			success : function(data){\r\n");
      out.write("				$(\"#serviceDetailsModelKey\").val(salesKey);\r\n");
      out.write("				$(\"#serviceDetails\").modal(\"show\");\r\n");
      out.write("				$(\"#serviceRemark\").html(data);\r\n");
      out.write("			},\r\n");
      out.write("			complete : function() {\r\n");
      out.write("	            hideLoader();\r\n");
      out.write("	        }\r\n");
      out.write("		});\r\n");
      out.write("	}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function copyToClipboard(element) {\r\n");
      out.write("    var textField = document.createElement('textarea');\r\n");
      out.write("    textField.innerText = $('#'+element).html();\r\n");
      out.write("    document.body.appendChild(textField);\r\n");
      out.write("    textField.select();\r\n");
      out.write("    textField.focus();\r\n");
      out.write("    document.execCommand('copy');\r\n");
      out.write("    textField.remove();\r\n");
      out.write("    $('.'+element).css('color','blue');\r\n");
      out.write("}\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
